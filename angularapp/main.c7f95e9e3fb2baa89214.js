/*! For license information please see main.c7f95e9e3fb2baa89214.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1LmZ":function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HomeComponent=class{constructor(){}ngOnInit(){}}}).apply(e,r))||(t.exports=i)},"1oRc":function(t,e,n){var r,i;r=[n,e,n("su+G"),n("8Y7J"),n("1LmZ")],void 0===(i=(function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function s(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["home works!"]))],null,null)}function a(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-home",[],null,null,null,s,o)),r.ɵdid(1,114688,null,0,i.HomeComponent,[],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_HomeComponent=o,e.View_HomeComponent_0=s,e.View_HomeComponent_Host_0=a;var u=r.ɵccf("app-home",i.HomeComponent,a,{},{},[]);e.HomeComponentNgFactory=u}).apply(e,r))||(t.exports=i)},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return o}));class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3gJf":function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("bSaC")],void 0===(i=(function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t){this.db=t,this.rutaDeLaColeccion="/mensajeReal",this.referenciaAlaColeccion=t.list(this.rutaDeLaColeccion)}CrearUno(t){return this.referenciaAlaColeccion.push(t)}}i.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new i(n.ɵɵinject(r.AngularFireDatabase))},token:i,providedIn:"root"}),e.MensajerealService=i}).apply(e,r))||(t.exports=i)},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.F)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.z)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),d=l("sessionStorage"),f=new s.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.E)(t),n=new o.c;n.update(e);var r=n.digest();return o.f.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=m.apply(null,i):n+="object"==typeof i?Object(o.F)(i):i,n+=" "}return n},y=null,v=!0,_=function(t,e){Object(o.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=s.a.VERBOSE,y=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,d.remove("logging_enabled"))},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===v&&(v=!1,null===y&&!0===d.get("logging_enabled")&&_(!0)),y){var n=m.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];b.apply(void 0,Object(i.f)([t],Object(i.e)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(i.f)([],Object(i.e)(t)));f.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(i.f)([],Object(i.e)(t)));throw f.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(i.f)([],Object(i.e)(t)));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",D="[MAX_NAME]",T=function(t,e){if(t===e)return 0;if(t===I||e===D)return-1;if(e===I||t===D)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},x=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.F)(e))},N=function(t){if("object"!=typeof t||null===t)return Object(o.F)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.F)(e[i]),r+=":",r+=N(t[e[i]]);return r+"}"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function j(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var R=function(t){var e,n,r,i,s;Object(o.d)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},P=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(P.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout((function(){throw O("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},L=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function U(){return new V("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function q(t){return t.pieces_.length-t.pieceNum_}function H(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new V(t.pieces_,e)}function G(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function z(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Q(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function W(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new V(e,0)}function K(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof V)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new V(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function Y(t,e){var n=B(t),r=B(e);if(null===n)return e;if(n===r)return Y(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Z(t,e){for(var n=Q(t,0),r=Q(e,0),i=0;i<n.length&&i<r.length;i++){var o=T(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function J(t,e){if(q(t)!==q(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function X(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(q(t)>q(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var tt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=Q(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.D)(this.parts_[n]);et(this)}}();function et(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nt(t))}function nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var rt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,it=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function ot(t,e,n){var r;if(Object(o.d)("string"==typeof e,"typeof type must == string"),Object(o.d)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return j(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}var st,at,ut,ct,lt,ht,dt,ft=function(t,e){var n=pt(t),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new it(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new V(n.pathString)}},pt=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.g)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},gt=/[\[\].#$\/\u0000-\u001F\u007F]/,mt=/[\[\].#$\u0000-\u001F\u007F]/,yt=function(t){return"string"==typeof t&&0!==t.length&&!gt.test(t)},vt=function(t){return"string"==typeof t&&0!==t.length&&!mt.test(t)},_t=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.h)(t,".sv")},bt=function(t,e,n,r,i){i&&void 0===n||wt(Object(o.l)(t,e,i),n,r)},wt=function(t,e,n){var r=n instanceof V?new tt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+nt(r));if("function"==typeof e)throw new Error(t+"contains a function "+nt(r)+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+nt(r));if("string"==typeof e&&e.length>10485760/3&&Object(o.D)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+nt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(j(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!yt(e)))throw new Error(t+" contains an invalid key ("+e+") "+nt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;u=e,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(u),a.byteLength_+=Object(o.D)(u),et(a),wt(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.D)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),i&&s)throw new Error(t+' contains ".value" child '+nt(r)+" in addition to actual children.")}},Ct=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.l)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];j(n,(function(t,e){var n=new V(t);if(wt(s,e,K(r,n)),".priority"===G(n)&&!_t(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=Q(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&X(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},Et=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.l)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_t(n))throw new Error(Object(o.l)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ot=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},St=function(t,e,n,r){if(!(r&&void 0===n||yt(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},It=function(t,e,n,r){if(!(r&&void 0===n||vt(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Dt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),It(t,e,n,r)},Tt=function(t,e){if(".info"===B(e))throw new Error(t+" failed = Can't modify data under /.info/")},At=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!yt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vt(t)}(r))throw new Error(Object(o.l)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},xt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(t,e,r)+"must be a boolean.")},Nt=function(t){return"number"==typeof t?"number:"+R(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.h)(e,".sv"),"Priority must be a string or number.")}else Object(o.d)(t===st||t.isEmpty(),"priority of unexpected type.");Object(o.d)(t===st||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},jt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return at},set:function(t){at=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return $(e)?this:".priority"===B(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=B(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===q(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Nt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?R(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Rt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Mt.EMPTY_NODE,this.right=null!=o?o:Mt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Mt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Mt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Mt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}(),Lt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Vt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Lt(I,t),r=new Lt(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Lt.MIN},t}(),Ut=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return new Lt(D,new jt("[PRIORITY-POST]",ct))},e.prototype.makePost=function(t,e){var n=ut(t);return new Lt(e,new jt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Vt)),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return lt},set:function(t){lt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return T(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return new Lt(D,lt)},e.prototype.makePost=function(t,e){return Object(o.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Lt(t,lt)},e.prototype.toString=function(){return".key"},e}(Vt),qt=new Bt,Ht=Math.log(2),Gt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Ht,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),zt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Pt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Pt.BLACK):(a(h,Pt.BLACK),a(h,Pt.RED))}return o}(new Gt(t.length));return new Mt(r||e,o)},Qt={},Wt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.d)(Qt&&Ut,"ChildrenNode.ts has not been loaded"),ht=ht||new t({".priority":Qt},{".priority":Ut})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.C)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mt?e:null},t.prototype.hasIndex=function(t){return Object(o.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.d)(e!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Lt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?zt(s,e.getCompare()):Qt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var d=Object(i.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.A)(this.indexes_,(function(t,i){var s=Object(o.C)(r.indexSet_,i);if(Object(o.d)(s,"Missing index implementation for "+i),t===Qt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Lt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),zt(a,s.getCompare())}return Qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Lt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.A)(this.indexes_,(function(t){if(t===Qt)return t;var r=n.get(e.name);return r?t.remove(new Lt(e.name,r)):t})),this.indexSet_)},t}();function Kt(t,e){return T(t.name,e.name)}function $t(t,e){return T(t,e)}var Yt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return dt||(dt=new t(new Mt($t),null,Wt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||dt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?dt:e},t.prototype.getChild=function(t){var e=B(t);return null===e?this:this.getImmediateChild(e).getChild(H(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Lt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?dt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=B(t);if(null===n)return e;Object(o.d)(".priority"!==B(t)||1===q(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(H(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ut,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Nt(this.getPriority().val())+":"),this.forEachChild(Ut,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Lt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Lt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Lt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Lt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Lt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zt?-1:0},t.prototype.withIndex=function(e){if(e===qt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===qt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ut),r=e.getIterator(Ut),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===qt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Zt=new(function(t){function e(){return t.call(this,new Mt($t),Yt.EMPTY_NODE,Wt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Yt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Yt));function Jt(t,e){if(void 0===e&&(e=null),null===t)return Yt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new jt(t,Jt(e));if(t instanceof Array){var n=Yt.EMPTY_NODE;return j(t,(function(e,r){if(Object(o.h)(t,e)&&"."!==e.substring(0,1)){var i=Jt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Jt(e))}var r=[],i=!1;if(j(t,(function(t,e){if("."!==t.substring(0,1)){var n=Jt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Lt(t,n)))}})),0===r.length)return Yt.EMPTY_NODE;var s=zt(r,Kt,(function(t){return t.name}),$t);if(i){var a=zt(r,Ut.getCompare());return new Yt(s,Jt(e),new Wt({".priority":a},{".priority":Ut}))}return new Yt(s,Jt(e),Wt.Default)}Object.defineProperties(Lt,{MIN:{value:new Lt(I,Yt.EMPTY_NODE)},MAX:{value:new Lt(D,Zt)}}),Bt.__EMPTY_NODE=Yt.EMPTY_NODE,jt.__childrenNodeConstructor=Yt,st=Zt,function(t){ct=t}(Zt),function(t){ut=t}(Jt);var Xt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function te(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ee,ne=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Xt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if($(this.path)){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(e));return new t(U(),n,this.revert)}return Object(o.d)(B(this.path)===e,"operationForChild called for unrelated child."),new t(H(this.path),this.affectedTree,this.revert)},t}(),re=function(){function t(t,e){void 0===e&&(ee||(ee=new Mt(A)),e=ee),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return j(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:U(),value:this.value};if($(t))return null;var n=B(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(H(t),e);return null!=i?{path:K(new V(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if($(e))return this;var n=B(e),r=this.children.get(n);return null!==r?r.subtree(H(e)):new t(null)},t.prototype.set=function(e,n){if($(e))return new t(n,this.children);var r=B(e),i=(this.children.get(r)||new t(null)).set(H(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if($(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=B(e),r=this.children.get(n);if(r){var i=r.remove(H(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if($(t))return this.value;var e=B(t),n=this.children.get(e);return n?n.get(H(t)):null},t.prototype.setTree=function(e,n){if($(e))return n;var r,i=B(e),o=(this.children.get(i)||new t(null)).setTree(H(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(U(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(K(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,U(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if($(t))return null;var i=B(t),o=this.children.get(i);return o?o.findOnPath_(H(t),K(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,U(),e)},t.prototype.foreachOnPath_=function(e,n,r){if($(e))return this;this.value&&r(n,this.value);var i=B(e),o=this.children.get(i);return o?o.foreachOnPath_(H(e),K(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(U(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(K(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),ie=function(){function t(t,e){this.source=t,this.path=e,this.type=Xt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return $(this.path)?new t(this.source,U()):new t(this.source,H(this.path))},t}(),oe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Xt.OVERWRITE}return t.prototype.operationForChild=function(e){return $(this.path)?new t(this.source,U(),this.snap.getImmediateChild(e)):new t(this.source,H(this.path),this.snap)},t}(),se=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Xt.MERGE}return t.prototype.operationForChild=function(e){if($(this.path)){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new oe(this.source,U(),n.value):new t(this.source,U(),n)}return Object(o.d)(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,H(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ae=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;var e=B(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();function ue(t,e){return{eventCache:t,serverCache:e}}function ce(t,e,n,r){return ue(new ae(e,n,r),t.serverCache)}function le(t,e,n,r){return ue(t.eventCache,new ae(e,n,r))}function he(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function de(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}function fe(t){return{type:"value",snapshotNode:t}}function pe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ge(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function me(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ye=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ge(e,a)):Object(o.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(pe(e,n)):s.trackChildChange(me(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ut,(function(t,r){e.hasChild(t)||n.trackChildChange(ge(t,r))})),e.isLeafNode()||e.forEachChild(Ut,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me(e,r,i))}else n.trackChildChange(pe(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.d)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,me(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ge(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,pe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),_e=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new re(null))},t}();function be(t,e,n){if($(e))return new _e(new re(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Y(i,e);return o=o.updateChild(s,n),new _e(t.writeTree_.set(i,o))}var a=new re(n),u=t.writeTree_.setTree(e,a);return new _e(u)}function we(t,e,n){var r=t;return j(n,(function(t,n){r=be(r,K(e,t),n)})),r}function Ce(t,e){if($(e))return _e.empty();var n=t.writeTree_.setTree(e,new re(null));return new _e(n)}function Ee(t,e){return null!=Oe(t,e)}function Oe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Y(n.path,e)):null}function Se(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ut,(function(t,n){e.push(new Lt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Lt(t,n.value))})),e}function Ie(t,e){if($(e))return t;var n=Oe(t,e);return new _e(null!=n?new re(n):t.writeTree_.subtree(e))}function De(t){return t.writeTree_.isEmpty()}function Te(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.d)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(K(e,n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(K(e,".priority"),i)),r}(U(),t.writeTree_,e)}function Ae(t,e){return Ue(e,t)}function xe(t,e){if(t.snap)return X(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&X(K(t.path,n),e))return!0;return!1}function Ne(t){return t.visible}function ke(t,e,n){for(var r=_e.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)X(n,a)?r=be(r,u=Y(n,a),s.snap):X(a,n)&&(u=Y(a,n),r=be(r,U(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(X(n,a))r=we(r,u=Y(n,a),s.children);else if(X(a,n))if($(u=Y(a,n)))r=we(r,U(),s.children);else{var c=Object(o.C)(s.children,B(u));if(c){var l=c.getChild(H(u));r=be(r,U(),l)}}}}}return r}function je(t,e,n,r,i){if(r||i){var o=Ie(t.visibleWrites,e);return!i&&De(o)?n:i||null!=n||Ee(o,U())?Te(ke(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(X(t.path,e)||X(e,t.path))}),e),n||Yt.EMPTY_NODE):null}var s=Oe(t.visibleWrites,e);if(null!=s)return s;var a=Ie(t.visibleWrites,e);return De(a)?n:null!=n||Ee(a,U())?Te(a,n||Yt.EMPTY_NODE):null}function Re(t,e,n,r){return je(t.writeTree,t.treePath,e,n,r)}function Pe(t,e){return function(t,e,n){var r=Yt.EMPTY_NODE,i=Oe(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ut,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Ie(t.visibleWrites,e);return n.forEachChild(Ut,(function(t,e){var n=Te(Ie(o,new V(t)),e);r=r.updateImmediateChild(t,n)})),Se(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Se(Ie(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Fe(t,e,n,r){return function(t,e,n,r,i){Object(o.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=K(e,n);if(Ee(t.visibleWrites,s))return null;var a=Ie(t.visibleWrites,s);return De(a)?i.getChild(n):Te(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Me(t,e){return function(t,e){return Oe(t.visibleWrites,e)}(t.writeTree,K(t.treePath,e))}function Le(t,e,n){return function(t,e,n,r){var i=K(e,n),o=Oe(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Te(Ie(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Ve(t,e){return Ue(K(t.treePath,e),t.writeTree)}function Ue(t,e){return{treePath:t,writeTree:e}}var Be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),qe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ae(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Le(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:de(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=Ie(t.visibleWrites,e),c=Oe(u,U());if(null!=c)a=c;else{if(null==n)return[];a=Te(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function He(t,e,n,r,i,s){var a=e.eventCache;if(null!=Me(r,n))return e;var u=void 0,c=void 0;if($(n))if(Object(o.d)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=de(e),h=Pe(r,l instanceof Yt?l:Yt.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=Re(r,de(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=B(n);if(".priority"===f){Object(o.d)(1===q(n),"Can't have a priority with additional path components");var p=a.getNode(),g=Fe(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=H(n),y=void 0;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();var v=Fe(r,n,a.getNode(),c);y=null!=v?a.getNode().getImmediateChild(f).updateChild(m,v):a.getNode().getImmediateChild(f)}else y=Le(r,f,e.serverCache);u=null!=y?t.filter.updateChild(a.getNode(),f,y,m,i,s):a.getNode()}}return ce(e,u,a.isFullyInitialized()||$(n),t.filter.filtersNodes())}function Ge(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if($(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=B(n);if(!c.isCompleteForPath(n)&&q(n)>1)return e;var f=H(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,Be,null)}var g=le(e,u,c.isFullyInitialized()||$(n),l.filtersNodes());return He(t,g,n,i,new qe(i,g,o),a)}function ze(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new qe(i,e,o);if($(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=ce(e,u,!0,t.filter.filtersNodes());else{var h=B(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=ce(e,u,c.isFullyInitialized(),c.isFiltered());else{var d=H(n),f=c.getNode().getImmediateChild(h),p=void 0;if($(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===G(d)&&g.getChild(W(d)).isEmpty()?g:g.updateChild(d,r):Yt.EMPTY_NODE}a=f.equals(p)?e:ce(e,t.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Qe(t,e){return t.eventCache.isCompleteForChild(e)}function We(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Ke(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=$(n)?r:new re(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=We(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ge(t,c,new V(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=We(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ge(t,c,new V(n),h,i,o,s,a)}})),c}var $e=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function Ye(t,e,n,r,i,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.e)("Should only compare child_ events.");var r=new Lt(e.childName,e.snapshotNode),i=new Lt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}var Ze,Je,Xe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tn=(Ze=0,Je=[],function(t){var e,n=t===Ze;Ze=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Xe.charAt(t%64),t=Math.floor(t/64);Object(o.d)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Je[e];e--)Je[e]=0;Je[e]++}else for(e=0;e<12;e++)Je[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Xe.charAt(Je[e]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),en=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return D;var o=Xe.charAt(Xe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},nn=function(t){if("-2147483648"===t)return I;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Xe.charAt(Xe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},rn=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?T(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return Lt.MAX},e.prototype.makePost=function(t,e){var n=Jt(t);return new Lt(e,n)},e.prototype.toString=function(){return".value"},e}(Vt)),on=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.d)(!$(e)&&".priority"!==B(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Jt(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Lt(e,r)},e.prototype.maxPost=function(){var t=Yt.EMPTY_NODE.updateChild(this.indexPath_,Zt);return new Lt(D,t)},e.prototype.toString=function(){return Q(this.indexPath_,0).join("/")},e}(Vt),sn=function(){function t(e){this.indexedFilter_=new ye(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Lt(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);var i=this;return e.forEachChild(Ut,(function(t,e){i.matches(new Lt(t,e))||(r=r.updateImmediateChild(t,Yt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),an=function(){function t(t){this.rangedFilter_=new sn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Lt(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Yt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Yt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Yt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.d)(u.numChildren()===this.limit_,"");var c=new Lt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(me(e,n,d)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ge(e,d));var g=u.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(pe(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(ge(l.name,l.node)),i.trackChildChange(pe(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Yt.EMPTY_NODE)):t},t}(),un=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ut},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function cn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function ln(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function hn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dn(t,e,n){var r;return t.index_===qt?("string"==typeof e&&(e=en(e)),r=hn(t,e,n)):r=hn(t,e,null==n?D:en(n)),r.startAfterSet_=!0,r}function fn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function pn(t,e,n){var r;return t.index_===qt?("string"==typeof e&&(e=nn(e)),r=fn(t,e,n)):r=fn(t,e,null==n?I:nn(n)),r.endBeforeSet_=!0,r}function gn(t,e){var n=t.copy();return n.index_=e,n}function mn(t){var e,n={};return t.isDefault()||(t.index_===Ut?e="$priority":t.index_===rn?e="$value":t.index_===qt?e="$key":(Object(o.d)(t.index_ instanceof on,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.F)(e),t.startSet_&&(n.startAt=Object(o.F)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.F)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.F)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.F)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var yn,vn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ye(r.getIndex()),o=(n=r).loadsAllData()?new ye(n.getIndex()):n.hasLimit()?new an(n):new sn(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(Yt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Yt.EMPTY_NODE,a.getNode(),null),l=new ae(u,s.isFullyInitialized(),i.filtersNodes()),h=new ae(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ue(h,l),this.eventGenerator_=new $e(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function _n(t,e){var n=de(t.viewCache_);return n&&(t.query.getQueryParams().loadsAllData()||!$(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function bn(t){return 0===t.eventRegistrations_.length}function wn(t,e,n){var r=[];if(n){Object(o.d)(null==e,"A cancel should cancel all event registrations.");var i=t.query.path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Cn(t,e,n,r){e.type===Xt.MERGE&&null!==e.source.queryId&&(Object(o.d)(de(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.d)(he(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=function(t,e,n,r,i){var s,a,u=new ve;if(n.type===Xt.OVERWRITE){var c=n;c.source.fromUser?s=ze(t,e,c.path,c.snap,r,i,u):(Object(o.d)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$(c.path),s=Ge(t,e,c.path,c.snap,r,i,a,u))}else if(n.type===Xt.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,u){var c=K(n,r);Qe(e,B(c))&&(a=ze(t,a,c,u,i,o,s))})),r.foreach((function(r,u){var c=K(n,r);Qe(e,B(c))||(a=ze(t,a,c,u,i,o,s))})),a}(t,e,l.path,l.children,r,i,u):(Object(o.d)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Ke(t,e,l.path,l.children,r,i,a,u))}else if(n.type===Xt.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=Me(r,n))return e;var u=new qe(r,e,i),c=e.eventCache.getNode(),l=void 0;if($(n)||".priority"===B(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=Re(r,de(e));else{var d=e.serverCache.getNode();Object(o.d)(d instanceof Yt,"serverChildren would be complete if leaf node"),h=Pe(r,d)}l=t.filter.updateFullNode(c,h=h,s)}else{var f=B(n),p=Le(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(c,f,p,H(n),u,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(c,f,Yt.EMPTY_NODE,H(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Re(r,de(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=Me(r,U()),ce(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=Me(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if($(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ge(t,e,n,u.getNode().getChild(n),i,o,a,s);if($(n)){var c=new re(null);return u.getNode().forEachChild(qt,(function(t,e){c=c.set(new V(t),e)})),Ke(t,e,n,c,i,o,a,s)}return e}var l=new re(null);return r.foreach((function(t,e){var r=K(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),Ke(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Xt.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return He(t,le(e,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered()),n,r,Be,i)}(t,e,n.path,r,u)}var d=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=he(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(fe(he(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,s=u.viewCache,Object(o.d)(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.d)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.d)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,En(t,u.changes,u.viewCache.eventCache.getNode(),null)}function En(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Ye(t,i,"child_removed",e,r,n),Ye(t,i,"child_added",e,r,n),Ye(t,i,"child_moved",o,r,n),Ye(t,i,"child_changed",e,r,n),Ye(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var On=function(){return function(){this.views=new Map}}();function Sn(t,e,n,r){var s,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.d)(null!=c,"SyncTree gave us an op for an invalid query."),Cn(c,e,n,r)}var l=[];try{for(var h=Object(i.g)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Cn(c=d.value,e,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function In(t,e,n,r,i){var o=e.queryIdentifier(),s=t.views.get(o);if(!s){var a=Re(n,i?r:null),u=!1;a?u=!0:r instanceof Yt?(a=Pe(n,r),u=!1):(a=Yt.EMPTY_NODE,u=!1);var c=ue(new ae(a,u,!1),new ae(r,i,!1));return new vn(e,c)}return s}function Dn(t){var e,n,r=[];try{for(var o=Object(i.g)(t.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;a.query.getQueryParams().loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Tn(t,e){var n,r,o=null;try{for(var s=Object(i.g)(t.views.values()),a=s.next();!a.done;a=s.next())o=o||_n(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function An(t,e){if(e.getQueryParams().loadsAllData())return kn(t);var n=e.queryIdentifier();return t.views.get(n)}function xn(t,e){return null!=An(t,e)}function Nn(t){return null!=kn(t)}function kn(t){var e,n;try{for(var r=Object(i.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.query.getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var jn=1,Rn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new re(null),this.pendingWriteTree_={visibleWrites:_e.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Pn(t,e,n,r,i){return function(t,e,n,r,i){Object(o.d)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=be(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Bn(t,new oe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Fn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&xe(u,r.path)?i=!1:X(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=ke(t.allWrites,Ne,U()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ce(t.visibleWrites,r.path):j(r.children,(function(e){t.visibleWrites=Ce(t.visibleWrites,K(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var i=new re(null);return null!=r.snap?i=i.set(U(),!0):j(r.children,(function(t){i=i.set(new V(t),!0)})),Bn(t,new ne(r.path,i,n))}return[]}function Mn(t,e,n){return Bn(t,new oe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Ln(t,e,n,r){var s=e.path,a=t.syncPointTree_.get(s),u=[];if(a&&("default"===e.queryIdentifier()||xn(a,e))){var c=function(t,e,n,r){var s,a,u=e.queryIdentifier(),c=[],l=[],h=Nn(t);if("default"===u)try{for(var d=Object(i.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(i.e)(f.value,2),m=g[0];l=l.concat(wn(p=g[1],n,r)),bn(p)&&(t.views.delete(m),p.query.getQueryParams().loadsAllData()||c.push(p.query))}}catch(y){s={error:y}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(u))&&(l=l.concat(wn(p,n,r)),bn(p)&&(t.views.delete(u),p.query.getQueryParams().loadsAllData()||c.push(p.query)));return h&&!Nn(t)&&c.push(new(Object(o.d)(yn,"Reference.ts has not been loaded"),yn)(e.repo,e.path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),d=t.syncPointTree_.findOnPath(s,(function(t,e){return Nn(e)}));if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Nn(e))return[kn(e)];var r=[];return e&&(r=Dn(e)),j(n,(function(t,e){r=r.concat(e)})),r}))}(f),g=0;g<p.length;++g){var m=p[g],y=m.query,v=qn(t,m);t.listenProvider_.startListening(Kn(y),Hn(t,y),v.hashFn,v.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(Kn(e),null):l.forEach((function(e){var n=t.queryToTagMap.get(Gn(e));t.listenProvider_.stopListening(Kn(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=Gn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Vn(t,e,n){var r=e.path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Y(t,r);i=i||Tn(e,n),s=s||Nn(e)}));var a,u=t.syncPointTree_.get(r);u?(s=s||Nn(u),i=i||Tn(u,U())):(u=new On,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Yt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Tn(e,U());n&&(i=i.updateImmediateChild(t,n))})));var c=xn(u,e);if(!c&&!e.getQueryParams().loadsAllData()){var l=Gn(e);Object(o.d)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=jn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=In(t,e,r,i,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ut,(function(t,e){r.push(pe(t,e))})),n.isFullyInitialized()&&r.push(fe(n.getNode())),En(t,r,n.getNode(),e)}(s,n)}(u,e,n,Ae(t.pendingWriteTree_,r),i,a);if(!c&&!s){var f=An(u,e);d=d.concat(function(t,e,n){var r=e.path,i=Hn(t,e),s=qn(t,n),a=t.listenProvider_.startListening(Kn(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.d)(!Nn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!$(t)&&e&&Nn(e))return[kn(e).query];var r=[];return e&&(r=r.concat(Dn(e).map((function(t){return t.query})))),j(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(Kn(h),Hn(t,h))}return a}(t,e,f))}return d}function Un(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Tn(n,Y(t,e));if(r)return r}));return je(r,e,i,n,!0)}function Bn(t,e){return function t(e,n,r,i){if($(e.path))return function t(e,n,r,i){var o=n.get(U());null==r&&null!=o&&(r=Tn(o,U()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,u=Ve(i,n),c=e.operationForChild(n);c&&(s=s.concat(t(c,o,a,u)))})),o&&(s=s.concat(Sn(o,e,i,r))),s}(e,n,r,i);var o=n.get(U());null==r&&null!=o&&(r=Tn(o,U()));var s=[],a=B(e.path),u=e.operationForChild(a),c=n.children.get(a);if(c&&u){var l=r?r.getImmediateChild(a):null,h=Ve(i,a);s=s.concat(t(u,c,l,h))}return o&&(s=s.concat(Sn(o,e,i,r))),s}(e,t.syncPointTree_,null,Ae(t.pendingWriteTree_,U()))}function qn(t,e){var n=e.query,r=Hn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Yt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=zn(t,n);if(r){var i=Qn(r),o=i.path,s=i.queryId,a=Y(o,e);return Wn(t,o,new ie(te(s),a))}return[]}(t,n.path,r):function(t,e){return Bn(t,new ie({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Ln(t,n,null,i)}}}function Hn(t,e){var n=Gn(e);return t.queryToTagMap.get(n)}function Gn(t){return t.path.toString()+"$"+t.queryIdentifier()}function zn(t,e){return t.tagToQueryMap.get(e)}function Qn(t){var e=t.indexOf("$");return Object(o.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}}function Wn(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.d)(r,"Missing sync point for query tag that we're tracking"),Sn(r,n,Ae(t.pendingWriteTree_,e),null)}function Kn(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var $n=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Yn=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=K(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Un(this.syncTree_,this.path_)},t}(),Zn=function(t,e,n){return t&&"object"==typeof t?(Object(o.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Jn(t[".sv"],e,n):"object"==typeof t[".sv"]?Xn(t[".sv"],e):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Jn=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+t)}},Xn=function(t,e,n){t.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},tr=function(t,e,n,r){return nr(e,new Yn(n,t),r)},er=function(t,e,n){return nr(t,new $n(e),n)};function nr(t,e,n){var r,i=t.getPriority().val(),o=Zn(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Zn(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new jt(a,Jt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new jt(o))),u.forEachChild(Ut,(function(t,i){var o=nr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}function rr(){return{value:null,children:new Map}}function ir(t,e,n){if($(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=B(e);t.children.has(r)||t.children.set(r,rr()),ir(t.children.get(r),e=H(e),n)}}function or(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){or(r,new V(e.toString()+"/"+t),n)}))}var sr=function(){function t(){this.rootNode_=Yt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),ar=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.j)(this.counters_)},t}(),ur={},cr={};function lr(t){var e=t.toString();return ur[e]||(ur[e]=new ar),ur[e]}var hr=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&j(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),dr=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new hr(t);var n=1e4+2e4*Math.random();L(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;j(e,(function(e,i){i>0&&Object(o.h)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),L(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),fr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function pr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||J(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function gr(t,e,n){pr(t,n),yr(t,(function(t){return J(t,e)}))}function mr(t,e,n){pr(t,n),yr(t,(function(t){return X(t,e)||X(e,t)}))}function yr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(vr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function vr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&b("event: "+n.toString()),M(r)}}}var _r=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)([],Object(i.e)(this.listeners_[t])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.d)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),br=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(_r),wr=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.t)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(_r),Cr=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&M((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Er=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=lr(e),this.urlFn=function(t){return ot(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Cr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.v)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Or((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=s,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.v)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.g)(e),r=k(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.v)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.F)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Or=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.v)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||b("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.v)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){b("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Sr="";function Ir(t){Sr=t}var Dr=null;"undefined"!=typeof MozWebSocket?Dr=MozWebSocket:"undefined"!=typeof WebSocket&&(Dr=WebSocket);var Tr=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=lr(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.v)()&&"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),ot(t,"websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.v)()){var r={headers:{"User-Agent":"Firebase/5/"+Sr+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Dr(this.connURL,[],r)}else this.mySock=new Dr(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Dr&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.z)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ar=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Er,Tr]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Tr&&Tr.isAvailable(),s=o&&!Tr.previouslyFailed();if(e.webSocketOnly&&(o||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Tr];else{var a=this.transports_=[];try{for(var u=Object(i.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),xr=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Ar(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=L((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=x("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),L((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):L((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Nr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),kr=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.v)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),br.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&wr.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.F)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.h)(t,"w")){var n=Object(o.C)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.n)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.y)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.F)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.F)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.d)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){c?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new xr(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){O(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&O(e),h())}))}},e.prototype.interrupt=function(t){b("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){b("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.r)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){b("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.g)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.v)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Sr.replace(/\./g,"-")]=1,Object(o.t)()?t["framework.cordova"]=1:Object(o.w)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=wr.getInstance().currentlyOnline();return Object(o.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Nr),jr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.d)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=mn(t.getQueryParams());this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.C)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=mn(t.getQueryParams()),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.B)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.z)(u.responseText)}catch(e){O("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&O("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(Nr),Rr=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.G)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.G)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.G)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.G)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.G)("DataSnapshot.child",0,1,arguments.length),e=String(e),It("DataSnapshot.child",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ut)},t.prototype.hasChild=function(t){Object(o.G)("DataSnapshot.hasChild",1,1,arguments.length),It("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.G)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.G)("DataSnapshot.forEach",1,1,arguments.length),Object(o.H)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ut))}))},t.prototype.hasChildren=function(){return Object(o.G)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.G)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.G)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Pr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function Fr(t,e){for(var n=e instanceof V?e:new V(e),r=t,i=B(n);null!==i;){var s=Object(o.C)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,s),i=B(n=H(n))}return r}function Mr(t){return t.node.value}function Lr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var i=function(t){return void 0===Mr(t)&&!Vr(t)}(r),s=Object(o.h)(e.node.children,n);i&&s?(delete e.node.children[n],e.node.childCount--,t(e)):i||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function Vr(t){return t.node.childCount>0}function Ur(t,e){j(t.node.children,(function(n,r){e(new Pr(n,t,r))}))}function Br(t){return new V(null===t.parent?t.name:Br(t.parent)+"/"+t.name)}var qr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rr(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Hr(t){var e=t.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gr(t){return(e=(e={timestamp:Hr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function zr(t,e,n,r,i){t.dataUpdateCount++;var s=new V(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Object(o.A)(n,(function(t){return Jt(t)}));a=function(t,e,n,r){var i=zn(t,r);if(i){var o=Qn(i),s=o.path,a=o.queryId,u=Y(s,e),c=re.fromObject(n);return Wn(t,s,new se(te(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=Jt(n);a=function(t,e,n,r){var i=zn(t,r);if(null!=i){var o=Qn(i),s=o.path,a=o.queryId,u=Y(s,e);return Wn(t,s,new oe(te(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=Object(o.A)(n,(function(t){return Jt(t)}));a=function(t,e,n){var r=re.fromObject(n);return Bn(t,new se({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=Jt(n);a=Mn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=hi(t,s)),mr(t.eventQueue_,d,a)}function Qr(t,e){Wr(t,"connected",e),!1===e&&function(t){oi(t,"onDisconnectEvents");var e=Gr(t),n=rr();or(t.onDisconnect_,U(),(function(r,i){var o=tr(r,i,t.serverSyncTree_,e);ir(n,r,o)}));var r=[];or(n,U(),(function(e,n){r=r.concat(Mn(t.serverSyncTree_,e,n));var i=gi(t,e);hi(t,i)})),t.onDisconnect_=rr(),mr(t.eventQueue_,U(),r)}(t)}function Wr(t,e,n){var r=new V("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);var o=Mn(t.infoSyncTree_,r,i);mr(t.eventQueue_,r,o)}function Kr(t){return t.nextWriteId_++}function $r(t,e,n,r,i){oi(t,"set",{path:e.toString(),value:n,priority:r});var o=Gr(t),s=Jt(n,r),a=Un(t.serverSyncTree_,e),u=er(s,a,o),c=Kr(t),l=Pn(t.serverSyncTree_,e,u,c,!0);pr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||O("set at "+e+" failed: "+n);var s=Fn(t.serverSyncTree_,c,!o);mr(t.eventQueue_,e,s),si(0,i,n,r)}));var h=gi(t,e);hi(t,h),mr(t.eventQueue_,h,[])}function Yr(t,e,n,r){oi(t,"update",{path:e.toString(),value:n});var i=!0,s=Gr(t),a={};if(j(n,(function(n,r){i=!1,a[n]=tr(K(e,n),Jt(r),t.serverSyncTree_,s)})),i)b("update() called with empty data.  Don't do anything."),si(0,r,"ok",void 0);else{var u=Kr(t),c=function(t,e,n,r){!function(t,e,n,r){Object(o.d)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=we(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=re.fromObject(n);return Bn(t,new se({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,u);pr(t.eventQueue_,c),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||O("update at "+e+" failed: "+n);var s=Fn(t.serverSyncTree_,u,!o),a=s.length>0?hi(t,e):e;mr(t.eventQueue_,a,s),si(0,r,n,i)})),j(n,(function(n){var r=gi(t,K(e,n));hi(t,r)})),mr(t.eventQueue_,e,[])}}function Zr(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if($(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Ut,(function(t,n){ir(e,new V(t),n)})),t(e,n)}if(e.children.size>0){var i=B(n);return n=H(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),si(0,n,r,i)}))}function Jr(t,e,n,r){var i=Jt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&ir(t.onDisconnect_,e,i),si(0,r,n,o)}))}function Xr(t,e,n,r,i){var o=Jt(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&ir(t.onDisconnect_,e,o),si(0,i,n,r)}))}function ti(t,e,n,r){if(Object(o.r)(n))return b("onDisconnect().update() called with empty data.  Don't do anything."),void si(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=Jt(r);ir(t.onDisconnect_,K(e,n),i)})),si(0,r,i,o)}))}function ei(t,e,n){var r;r=".info"===B(e.path)?Vn(t.infoSyncTree_,e,n):Vn(t.serverSyncTree_,e,n),gr(t.eventQueue_,e.path,r)}function ni(t,e,n){var r;r=".info"===B(e.path)?Ln(t.infoSyncTree_,e,n):Ln(t.serverSyncTree_,e,n),gr(t.eventQueue_,e.path,r)}function ri(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ii(t){t.persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}function oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),b.apply(void 0,Object(i.f)([r],Object(i.e)(e)))}function si(t,e,n,r){e&&M((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function ai(t){return t.__database||(t.__database=new Ni(t))}function ui(t,e,n,r,i){oi(t,"transaction on "+e);var s=function(){},a=new Si(t,e);a.on("value",s);var u={path:e,update:n,onComplete:r,status:null,order:p(),applyLocally:i,retryCount:0,unwatcher:function(){a.off("value",s)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=ci(t,e,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new Rr(u.currentInputSnapshot,new Si(t,u.path),Ut);u.onComplete(null,!1,h)}}else{wt("transaction failed: Data returned ",l,u.path),u.status=0;var d=Fr(t.transactionQueueTree_,e),f=Mr(d)||[];f.push(u),Lr(d,f);var g=void 0;"object"==typeof l&&null!==l&&Object(o.h)(l,".priority")?(g=Object(o.C)(l,".priority"),Object(o.d)(_t(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Un(t.serverSyncTree_,e)||Yt.EMPTY_NODE).getPriority().val();var m=Gr(t),y=Jt(l,g),v=er(y,c,m);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=v,u.currentWriteId=Kr(t);var _=Pn(t.serverSyncTree_,e,v,u.currentWriteId,u.applyLocally);mr(t.eventQueue_,e,_),li(t,t.transactionQueueTree_)}}function ci(t,e,n){return Un(t.serverSyncTree_,e,n)||Yt.EMPTY_NODE}function li(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||pi(t,e),Mr(e)){var n=fi(t,e);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=ci(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.d)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Y(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){oi(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<n.length;s++){if(n[s].status=2,i=i.concat(Fn(t.serverSyncTree_,n[s].currentWriteId)),n[s].onComplete){var a=n[s].currentOutputSnapshotResolved,u=new Si(t,n[s].path),c=new Rr(a,u,Ut);o.push(n[s].onComplete.bind(null,null,!0,c))}n[s].unwatcher()}for(pi(t,Fr(t.transactionQueueTree_,e)),li(t,t.transactionQueueTree_),mr(t.eventQueue_,e,i),s=0;s<o.length;s++)M(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(O("transaction at "+d.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;hi(t,e)}}),a)}(t,Br(e),n)}else Vr(e)&&Ur(e,(function(e){li(t,e)}))}function hi(t,e){var n=di(t,e),r=Br(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=0;a<e.length;a++){var u=e[a],c=Y(n,u.path),l=!1,h=void 0;if(Object(o.d)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(Fn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(Fn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=ci(t,u.path,s);u.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){wt("transaction failed: Data returned ",f,u.path);var p=Jt(f);"object"==typeof f&&null!=f&&Object(o.h)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=u.currentWriteId,m=Gr(t),y=er(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=Kr(t),s.splice(s.indexOf(g),1),i=(i=i.concat(Pn(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Fn(t.serverSyncTree_,g,!0))}else l=!0,h="nodata",i=i.concat(Fn(t.serverSyncTree_,u.currentWriteId,!0))}if(mr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete))if("nodata"===h){var v=new Si(t,e[a].path),_=new Rr(e[a].currentInputSnapshot,v,Ut);r.push(e[a].onComplete.bind(null,null,!1,_))}else r.push(e[a].onComplete.bind(null,new Error(h),!1,null))}for(pi(t,t.transactionQueueTree_),a=0;a<r.length;a++)M(r[a]);li(t,t.transactionQueueTree_)}}(t,fi(t,n),r),r}function di(t,e){var n,r=t.transactionQueueTree_;for(n=B(e);null!==n&&void 0===Mr(r);)r=Fr(r,n),n=B(e=H(e));return r}function fi(t,e){var n=[];return function t(e,n,r){var i=Mr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Ur(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function pi(t,e){var n=Mr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(e,n.length>0?n:void 0)}Ur(e,(function(e){pi(t,e)}))}function gi(t,e){var n=Br(di(t,e)),r=Fr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){mi(t,e)})),mi(t,r),function t(e,n,r,i){r&&!i&&n(e),Ur(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){mi(t,e)})),n}function mi(t,e){var n=Mr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.d)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.d)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Fn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Lr(e,void 0):n.length=s+1,mr(t.eventQueue_,Br(e),i),a=0;a<r.length;a++)M(r[a])}}var yi,vi=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.G)("OnDisconnect.cancel",0,1,arguments.length),Object(o.H)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return Zr(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.G)("OnDisconnect.remove",0,1,arguments.length),Tt("OnDisconnect.remove",this.path_),Object(o.H)("OnDisconnect.remove",1,t,!0);var e=new o.a;return Jr(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.G)("OnDisconnect.set",1,2,arguments.length),Tt("OnDisconnect.set",this.path_),bt("OnDisconnect.set",1,t,this.path_,!1),Object(o.H)("OnDisconnect.set",2,e,!0);var n=new o.a;return Jr(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.G)("OnDisconnect.setWithPriority",2,3,arguments.length),Tt("OnDisconnect.setWithPriority",this.path_),bt("OnDisconnect.setWithPriority",1,t,this.path_,!1),Et("OnDisconnect.setWithPriority",2,e,!1),Object(o.H)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return Xr(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.G)("OnDisconnect.update",1,2,arguments.length),Tt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ct("OnDisconnect.update",1,t,this.path_,!1),Object(o.H)("OnDisconnect.update",2,e,!0);var i=new o.a;return ti(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),_i=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.G)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.F)(this.snapshot.exportVal())},t}(),wi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ci=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new bi("value",this,new Rr(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new wi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Ei=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.h)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new wi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.d)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new bi(t.type,this,new Rr(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Oi=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.d)(yi,"Reference.ts has not been loaded"),yi},set:function(t){yi=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ut){if(null!=e&&!_t(e)||null!=n&&!_t(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(t.getIndex()instanceof on||t.getIndex()===rn,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.G)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.G)("Query.on",2,4,arguments.length),Ot("Query.on",1,e,!1),Object(o.H)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Ci(t,e||null,n||null);ei(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Ei(t,e,n);ei(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(o.G)("Query.off",0,3,arguments.length),Ot("Query.off",1,t,!0),Object(o.H)("Query.off",2,e,!0),Object(o.I)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new Ci(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Ei(i,null,n||null));ni(this.repo,this,r)},t.prototype.get=function(){return null!=(n=function(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Y(t,n);r=r||Tn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Tn(i,U()):(i=new On,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new ae(r,!0,!1):null;return he(In(i,e,Ae(t.pendingWriteTree_,e.path),o?s.getNode():Yt.EMPTY_NODE,o).viewCache_)}((t=this.repo).serverSyncTree_,e=this))?Promise.resolve(new Rr(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then((function(n){var r=Jt(n),i=Mn(t.serverSyncTree_,e.path,r);return gr(t.eventQueue_,e.path,i),Promise.resolve(new Rr(r,e.getRef(),e.getQueryParams().getIndex()))}),(function(n){return oi(t,"get for query "+Object(o.F)(e)+" failed: "+n),Promise.reject(new Error(n))}));var t,e,n},t.prototype.once=function(e,n,r,i){var s=this;Object(o.G)("Query.once",1,4,arguments.length),Ot("Query.once",1,e,!1),Object(o.H)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.G)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,cn(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.G)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,ln(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.G)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');It("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(e);if($(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new on(n),i=gn(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.G)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=gn(this.queryParams_,qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.G)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=gn(this.queryParams_,Ut);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.G)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=gn(this.queryParams_,rn);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.startAt",0,2,arguments.length),bt("Query.startAt",1,e,this.path,!0),St("Query.startAt",2,n,!0);var r=hn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.startAfter",0,2,arguments.length),bt("Query.startAfter",1,e,this.path,!1),St("Query.startAfter",2,n,!0);var r=dn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.endAt",0,2,arguments.length),bt("Query.endAt",1,e,this.path,!0),St("Query.endAt",2,n,!0);var r=fn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.endBefore",0,2,arguments.length),bt("Query.endBefore",1,e,this.path,!1),St("Query.endBefore",2,n,!0);var r=pn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.G)("Query.equalTo",1,2,arguments.length),bt("Query.equalTo",1,t,this.path,!1),St("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.G)("Query.toString",0,0,arguments.length),this.repo.toString()+z(this.path)},t.prototype.toJSON=function(){return Object(o.G)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ut&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.G)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=J(this.path,e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.H)(t,3,r.cancel,!0),r.context=n,Object(o.I)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.l)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Si=function(t){function e(e,n){if(!(e instanceof qr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new un,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.G)("Reference.key",0,0,arguments.length),$(this.path)?null:G(this.path)},e.prototype.child=function(t){return Object(o.G)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof V||(null===B(this.path)?Dt("Reference.child",1,t,!1):It("Reference.child",1,t,!1)),new e(this.repo,K(this.path,t))},e.prototype.getParent=function(){Object(o.G)("Reference.parent",0,0,arguments.length);var t=W(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.G)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return ai(this.repo)},e.prototype.set=function(t,e){Object(o.G)("Reference.set",1,2,arguments.length),Tt("Reference.set",this.path),bt("Reference.set",1,t,this.path,!1),Object(o.H)("Reference.set",2,e,!0);var n=new o.a;return $r(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.G)("Reference.update",1,2,arguments.length),Tt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ct("Reference.update",1,t,this.path,!1),Object(o.H)("Reference.update",2,e,!0);var i=new o.a;return Yr(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.G)("Reference.setWithPriority",2,3,arguments.length),Tt("Reference.setWithPriority",this.path),bt("Reference.setWithPriority",1,t,this.path,!1),Et("Reference.setWithPriority",2,e,!1),Object(o.H)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return $r(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.G)("Reference.remove",0,1,arguments.length),Tt("Reference.remove",this.path),Object(o.H)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.G)("Reference.transaction",1,3,arguments.length),Tt("Reference.transaction",this.path),Object(o.H)("Reference.transaction",1,t,!1),Object(o.H)("Reference.transaction",2,e,!0),xt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _i(n,i)),"function"==typeof e&&e(t,n,i)};return ui(this.repo,this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.G)("Reference.setPriority",1,2,arguments.length),Tt("Reference.setPriority",this.path),Et("Reference.setPriority",1,t,!1),Object(o.H)("Reference.setPriority",2,e,!0);var n=new o.a;return $r(this.repo,K(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.G)("Reference.push",0,2,arguments.length),Tt("Reference.push",this.path),bt("Reference.push",1,t,this.path,!0),Object(o.H)("Reference.push",2,e,!0);var n,r=Hr(this.repo),i=tn(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return Tt("Reference.onDisconnect",this.path),new vi(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Oi);Oi.__referenceConstructor=Si,function(t){Object(o.d)(!yn,"__referenceConstructor has already been defined"),yn=t}(Si);var Ii=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Di=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Ti={},Ai=!1;function xi(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=ft(i,r),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=ft(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):s=!a.repoInfo.secure;var l=r&&s?new Di:new Ii(t,e);return At("Invalid Firebase Database URL",1,a),$(a.path)||E("Database URL must point to the root of a Firebase Database (not including a child path)."),ai(function(t,e,n){var r=Object(o.C)(Ti,e.name);r||(Ti[e.name]=r={});var i=Object(o.C)(r,t.toURLString());return i&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new qr(t,Ai,e,n),r[t.toURLString()]=i,i}(u,t,l))}var Ni=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(o.C)(Ti,e.app.name))&&Object(o.C)(n,e.key)===e||E("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),ri(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof qr||E("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=lr(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new jr(t.repoInfo_,(function(e,n,r,i){zr(t,e,n,r,i)}),t.authTokenProvider_),setTimeout((function(){return Qr(t,!0)}),0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.F)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kr(t.repoInfo_,t.app.options.appId,(function(e,n,r,i){zr(t,e,n,r,i)}),(function(e){Qr(t,e)}),(function(e){!function(t,e){j(e,(function(e,n){Wr(t,e,n)}))}(t,e)}),t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.statsReporter_=(n=function(){return new dr(t.stats_,t.server_)},r=t.repoInfo_.toString(),cr[r]||(cr[r]=n()),cr[r]),t.infoData_=new sr,t.infoSyncTree_=new Rn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=Mn(t.infoSyncTree_,e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Wr(t,"connected",!1),t.serverSyncTree_=new Rn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);mr(t.eventQueue_,e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Si(this.repo_,U())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?E("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new it(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Di)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.G)("database.ref",0,1,arguments.length),t instanceof Si?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.G)(e,1,1,arguments.length);var n=ft(t,this.repo_.repoInfo_.nodeAdmin);At(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||E(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&E("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.G)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),ri(this.repo_)},t.prototype.goOnline=function(){Object(o.G)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),ii(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),ki=Object.freeze({__proto__:null,forceLongPolling:function(){Tr.forceDisallow(),Er.forceAllow()},forceWebSockets:function(){Er.forceDisallow()},isWebSocketsAvailable:function(){return Tr.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new hr(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);j(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;Ir(t.version);var u=new a.c("auth-internal",new a.b("database-standalone"));return u.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:xi(e,u,n,s),namespace:i}}}),ji=kr;kr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},kr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ri=Object.freeze({__proto__:null,DataConnection:ji,RealTimeConnection:xr,hijackHash:function(t){var e=kr.prototype.put;return kr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){kr.prototype.put=e}},ConnectionTarget:it,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){Ai=t}(t)}}),Pi=Ni.ServerValue;!function(e){Ir(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=e.instanceIdentifier;return xi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Si,Query:Oi,Database:Ni,DataSnapshot:Rr,enableLogging:_,INTERNAL:ki,ServerValue:Pi,TEST_ACCESS:Ri}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.6"),Object(o.v)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7+Fz":function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListadoComponent=class{constructor(t){this.item$=t.ObtenerTodos().valueChanges()}ngOnInit(){}}}).apply(e,r))||(t.exports=i)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.r(e),n.d(e,"ɵangular_packages_core_core_r",(function(){return Vv})),n.d(e,"ɵangular_packages_core_core_o",(function(){return Fv})),n.d(e,"ɵangular_packages_core_core_p",(function(){return Mv})),n.d(e,"ɵangular_packages_core_core_q",(function(){return Lv})),n.d(e,"ɵangular_packages_core_core_s",(function(){return Uv})),n.d(e,"ɵangular_packages_core_core_f",(function(){return Km})),n.d(e,"ɵangular_packages_core_core_m",(function(){return Ah})),n.d(e,"ɵangular_packages_core_core_n",(function(){return Fh})),n.d(e,"ɵangular_packages_core_core_l",(function(){return wv})),n.d(e,"ɵangular_packages_core_core_k",(function(){return bv})),n.d(e,"ɵangular_packages_core_core_b",(function(){return et})),n.d(e,"ɵangular_packages_core_core_a",(function(){return Y})),n.d(e,"ɵangular_packages_core_core_c",(function(){return Ee})),n.d(e,"ɵangular_packages_core_core_d",(function(){return he})),n.d(e,"ɵangular_packages_core_core_e",(function(){return ye})),n.d(e,"ɵangular_packages_core_core_j",(function(){return av})),n.d(e,"ɵangular_packages_core_core_t",(function(){return Iy})),n.d(e,"ɵangular_packages_core_core_v",(function(){return Cy})),n.d(e,"ɵangular_packages_core_core_u",(function(){return wy})),n.d(e,"ɵangular_packages_core_core_y",(function(){return Sy})),n.d(e,"ɵangular_packages_core_core_w",(function(){return Ey})),n.d(e,"ɵangular_packages_core_core_x",(function(){return Oy})),n.d(e,"ɵangular_packages_core_core_bb",(function(){return Jf})),n.d(e,"ɵangular_packages_core_core_bc",(function(){return go})),n.d(e,"ɵangular_packages_core_core_bd",(function(){return Yn})),n.d(e,"ɵangular_packages_core_core_be",(function(){return ar})),n.d(e,"ɵangular_packages_core_core_bf",(function(){return Or})),n.d(e,"ɵangular_packages_core_core_bj",(function(){return Mo})),n.d(e,"ɵangular_packages_core_core_bp",(function(){return oo})),n.d(e,"ɵangular_packages_core_core_bo",(function(){return Dn})),n.d(e,"ɵangular_packages_core_core_g",(function(){return hh})),n.d(e,"ɵangular_packages_core_core_h",(function(){return dh})),n.d(e,"ɵangular_packages_core_core_i",(function(){return fh})),n.d(e,"ɵangular_packages_core_core_bh",(function(){return Oi})),n.d(e,"ɵangular_packages_core_core_bn",(function(){return Ue})),n.d(e,"ɵangular_packages_core_core_bk",(function(){return f})),n.d(e,"ɵangular_packages_core_core_bl",(function(){return p})),n.d(e,"ɵangular_packages_core_core_bq",(function(){return C})),n.d(e,"ɵangular_packages_core_core_z",(function(){return Ff})),n.d(e,"ɵangular_packages_core_core_ba",(function(){return cd})),n.d(e,"createPlatform",(function(){return Zy})),n.d(e,"assertPlatform",(function(){return Xy})),n.d(e,"destroyPlatform",(function(){return tv})),n.d(e,"getPlatform",(function(){return ev})),n.d(e,"PlatformRef",(function(){return nv})),n.d(e,"ApplicationRef",(function(){return iv})),n.d(e,"createPlatformFactory",(function(){return Jy})),n.d(e,"NgProbeToken",(function(){return Yy})),n.d(e,"enableProdMode",(function(){return Gr})),n.d(e,"isDevMode",(function(){return Hr})),n.d(e,"APP_ID",(function(){return Wm})),n.d(e,"PACKAGE_ROOT_URL",(function(){return ty})),n.d(e,"PLATFORM_INITIALIZER",(function(){return Zm})),n.d(e,"PLATFORM_ID",(function(){return Jm})),n.d(e,"APP_BOOTSTRAP_LISTENER",(function(){return Xm})),n.d(e,"APP_INITIALIZER",(function(){return zm})),n.d(e,"ApplicationInitStatus",(function(){return Qm})),n.d(e,"DebugElement",(function(){return Rv})),n.d(e,"DebugEventListener",(function(){return _v})),n.d(e,"DebugNode",(function(){return jv})),n.d(e,"asNativeElements",(function(){return Cv})),n.d(e,"getDebugNode",(function(){return Nv})),n.d(e,"Testability",(function(){return By})),n.d(e,"TestabilityRegistry",(function(){return qy})),n.d(e,"setTestabilityGetter",(function(){return Gy})),n.d(e,"TRANSLATIONS",(function(){return ry})),n.d(e,"TRANSLATIONS_FORMAT",(function(){return iy})),n.d(e,"LOCALE_ID",(function(){return ny})),n.d(e,"MissingTranslationStrategy",(function(){return oy})),n.d(e,"ApplicationModule",(function(){return Bv})),n.d(e,"wtfCreateScope",(function(){return Ty})),n.d(e,"wtfLeave",(function(){return Ay})),n.d(e,"wtfStartTimeRange",(function(){return xy})),n.d(e,"wtfEndTimeRange",(function(){return Ny})),n.d(e,"Type",(function(){return ot})),n.d(e,"EventEmitter",(function(){return Dg})),n.d(e,"ErrorHandler",(function(){return Ao})),n.d(e,"Sanitizer",(function(){return gi})),n.d(e,"SecurityContext",(function(){return pi})),n.d(e,"Attribute",(function(){return b})),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return Oe})),n.d(e,"ContentChild",(function(){return De})),n.d(e,"ContentChildren",(function(){return Ie})),n.d(e,"Query",(function(){return Se})),n.d(e,"ViewChild",(function(){return Ae})),n.d(e,"ViewChildren",(function(){return Te})),n.d(e,"Component",(function(){return xm})),n.d(e,"Directive",(function(){return Am})),n.d(e,"HostBinding",(function(){return Rm})),n.d(e,"HostListener",(function(){return Pm})),n.d(e,"Input",(function(){return km})),n.d(e,"Output",(function(){return jm})),n.d(e,"Pipe",(function(){return Nm})),n.d(e,"NgModule",(function(){return qm})),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",(function(){return xo})),n.d(e,"NO_ERRORS_SCHEMA",(function(){return No})),n.d(e,"ViewEncapsulation",(function(){return Ve})),n.d(e,"Version",(function(){return Dh})),n.d(e,"VERSION",(function(){return Th})),n.d(e,"InjectFlags",(function(){return w})),n.d(e,"ɵɵdefineInjectable",(function(){return O})),n.d(e,"defineInjectable",(function(){return S})),n.d(e,"ɵɵdefineInjector",(function(){return I})),n.d(e,"forwardRef",(function(){return j})),n.d(e,"resolveForwardRef",(function(){return R})),n.d(e,"Injectable",(function(){return Dt})),n.d(e,"Injector",(function(){return Kt})),n.d(e,"ɵɵinject",(function(){return Z})),n.d(e,"inject",(function(){return J})),n.d(e,"INJECTOR",(function(){return q})),n.d(e,"ReflectiveInjector",(function(){return Ce})),n.d(e,"ResolvedReflectiveFactory",(function(){return pe})),n.d(e,"ReflectiveKey",(function(){return se})),n.d(e,"InjectionToken",(function(){return B})),n.d(e,"Inject",(function(){return g})),n.d(e,"Optional",(function(){return m})),n.d(e,"Self",(function(){return y})),n.d(e,"SkipSelf",(function(){return v})),n.d(e,"Host",(function(){return _})),n.d(e,"NgZone",(function(){return Ry})),n.d(e,"ɵNoopNgZone",(function(){return Uy})),n.d(e,"RenderComponentType",(function(){return vh})),n.d(e,"Renderer",(function(){return bh})),n.d(e,"Renderer2",(function(){return Oh})),n.d(e,"RendererFactory2",(function(){return Ch})),n.d(e,"RendererStyleFlags2",(function(){return Eh})),n.d(e,"RootRenderer",(function(){return wh})),n.d(e,"COMPILER_OPTIONS",(function(){return yy})),n.d(e,"Compiler",(function(){return my})),n.d(e,"CompilerFactory",(function(){return vy})),n.d(e,"ModuleWithComponentFactories",(function(){return sy})),n.d(e,"ComponentFactory",(function(){return Zl})),n.d(e,"ɵComponentFactory",(function(){return Zl})),n.d(e,"ComponentRef",(function(){return Yl})),n.d(e,"ComponentFactoryResolver",(function(){return ih})),n.d(e,"ElementRef",(function(){return gh})),n.d(e,"NgModuleFactory",(function(){return uh})),n.d(e,"NgModuleRef",(function(){return ah})),n.d(e,"NgModuleFactoryLoader",(function(){return sv})),n.d(e,"getModuleFactory",(function(){return cv})),n.d(e,"QueryList",(function(){return Ag})),n.d(e,"SystemJsNgModuleLoader",(function(){return gv})),n.d(e,"SystemJsNgModuleLoaderConfig",(function(){return fv})),n.d(e,"TemplateRef",(function(){return Wh})),n.d(e,"ViewContainerRef",(function(){return Yh})),n.d(e,"EmbeddedViewRef",(function(){return vv})),n.d(e,"ViewRef",(function(){return yv})),n.d(e,"ChangeDetectionStrategy",(function(){return xe})),n.d(e,"ChangeDetectorRef",(function(){return Bh})),n.d(e,"DefaultIterableDiffer",(function(){return Nh})),n.d(e,"IterableDiffers",(function(){return Vh})),n.d(e,"KeyValueDiffers",(function(){return Uh})),n.d(e,"SimpleChange",(function(){return jl})),n.d(e,"WrappedValue",(function(){return Ja})),n.d(e,"platformCore",(function(){return Pv})),n.d(e,"ɵALLOW_MULTIPLE_PLATFORMS",(function(){return $y})),n.d(e,"ɵAPP_ID_RANDOM_PROVIDER",(function(){return $m})),n.d(e,"ɵdefaultIterableDiffers",(function(){return zh})),n.d(e,"ɵdefaultKeyValueDiffers",(function(){return Qh})),n.d(e,"ɵdevModeEqual",(function(){return Za})),n.d(e,"ɵisListLikeIterable",(function(){return Xa})),n.d(e,"ɵChangeDetectorStatus",(function(){return Ne})),n.d(e,"ɵisDefaultChangeDetectionStrategy",(function(){return ke})),n.d(e,"ɵConsole",(function(){return ey})),n.d(e,"ɵsetCurrentInjector",(function(){return K})),n.d(e,"ɵgetInjectableDef",(function(){return D})),n.d(e,"ɵAPP_ROOT",(function(){return kt})),n.d(e,"ɵivyEnabled",(function(){return dv})),n.d(e,"ɵCodegenComponentFactoryResolver",(function(){return oh})),n.d(e,"ɵclearResolutionOfComponentResourcesQueue",(function(){return Me})),n.d(e,"ɵresolveComponentResources",(function(){return je})),n.d(e,"ɵReflectionCapabilities",(function(){return ht})),n.d(e,"ɵRenderDebugInfo",(function(){return _h})),n.d(e,"ɵ_sanitizeHtml",(function(){return di})),n.d(e,"ɵ_sanitizeStyle",(function(){return vi})),n.d(e,"ɵ_sanitizeUrl",(function(){return Kr})),n.d(e,"ɵglobal",(function(){return V})),n.d(e,"ɵlooseIdentical",(function(){return Ya})),n.d(e,"ɵstringify",(function(){return N})),n.d(e,"ɵmakeDecorator",(function(){return h})),n.d(e,"ɵisObservable",(function(){return xc})),n.d(e,"ɵisPromise",(function(){return Ac})),n.d(e,"ɵclearOverrides",(function(){return mb})),n.d(e,"ɵinitServicesIfNeeded",(function(){return N_})),n.d(e,"ɵoverrideComponentView",(function(){return gb})),n.d(e,"ɵoverrideProvider",(function(){return pb})),n.d(e,"ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return Hf})),n.d(e,"ɵgetLocalePluralCase",(function(){return op})),n.d(e,"ɵfindLocaleData",(function(){return sp})),n.d(e,"ɵLOCALE_DATA",(function(){return ep})),n.d(e,"ɵLocaleDataIndex",(function(){return np})),n.d(e,"ɵɵattribute",(function(){return lu})),n.d(e,"ɵɵattributeInterpolate1",(function(){return bu})),n.d(e,"ɵɵattributeInterpolate2",(function(){return wu})),n.d(e,"ɵɵattributeInterpolate3",(function(){return Cu})),n.d(e,"ɵɵattributeInterpolate4",(function(){return Eu})),n.d(e,"ɵɵattributeInterpolate5",(function(){return Ou})),n.d(e,"ɵɵattributeInterpolate6",(function(){return Su})),n.d(e,"ɵɵattributeInterpolate7",(function(){return Iu})),n.d(e,"ɵɵattributeInterpolate8",(function(){return Du})),n.d(e,"ɵɵattributeInterpolateV",(function(){return Tu})),n.d(e,"ɵɵdefineBase",(function(){return on})),n.d(e,"ɵɵdefineComponent",(function(){return Ze})),n.d(e,"ɵɵdefineDirective",(function(){return sn})),n.d(e,"ɵɵdefinePipe",(function(){return an})),n.d(e,"ɵɵdefineNgModule",(function(){return en})),n.d(e,"ɵdetectChanges",(function(){return Au})),n.d(e,"ɵrenderComponent",(function(){return Dl})),n.d(e,"ɵRender3ComponentFactory",(function(){return Xf})),n.d(e,"ɵRender3ComponentRef",(function(){return tp})),n.d(e,"ɵɵdirectiveInject",(function(){return uc})),n.d(e,"ɵɵinjectAttribute",(function(){return cc})),n.d(e,"ɵɵgetFactoryOf",(function(){return Oo})),n.d(e,"ɵɵgetInheritedFactory",(function(){return So})),n.d(e,"ɵɵsetComponentScope",(function(){return Je})),n.d(e,"ɵɵsetNgModuleScope",(function(){return nn})),n.d(e,"ɵɵtemplateRefExtractor",(function(){return Xg})),n.d(e,"ɵɵProvidersFeature",(function(){return $l})),n.d(e,"ɵɵInheritDefinitionFeature",(function(){return Ll})),n.d(e,"ɵɵNgOnChangesFeature",(function(){return Rl})),n.d(e,"ɵLifecycleHooksFeature",(function(){return Nl})),n.d(e,"ɵRender3NgModuleRef",(function(){return sg})),n.d(e,"ɵmarkDirty",(function(){return xu})),n.d(e,"ɵNgModuleFactory",(function(){return ag})),n.d(e,"ɵNO_CHANGE",(function(){return Ro})),n.d(e,"ɵɵcontainer",(function(){return Xu})),n.d(e,"ɵɵnextContext",(function(){return Fc})),n.d(e,"ɵɵelementStart",(function(){return bc})),n.d(e,"ɵɵnamespaceHTML",(function(){return kr})),n.d(e,"ɵɵnamespaceMathML",(function(){return Nr})),n.d(e,"ɵɵnamespaceSVG",(function(){return xr})),n.d(e,"ɵɵelement",(function(){return Cc})),n.d(e,"ɵɵlistener",(function(){return Nc})),n.d(e,"ɵɵtext",(function(){return Jc})),n.d(e,"ɵɵtextInterpolate",(function(){return tl})),n.d(e,"ɵɵtextInterpolate1",(function(){return el})),n.d(e,"ɵɵtextInterpolate2",(function(){return nl})),n.d(e,"ɵɵtextInterpolate3",(function(){return rl})),n.d(e,"ɵɵtextInterpolate4",(function(){return il})),n.d(e,"ɵɵtextInterpolate5",(function(){return ol})),n.d(e,"ɵɵtextInterpolate6",(function(){return sl})),n.d(e,"ɵɵtextInterpolate7",(function(){return al})),n.d(e,"ɵɵtextInterpolate8",(function(){return ul})),n.d(e,"ɵɵtextInterpolateV",(function(){return cl})),n.d(e,"ɵɵembeddedViewStart",(function(){return Ic})),n.d(e,"ɵɵprojection",(function(){return Bc})),n.d(e,"ɵɵinterpolation1",(function(){return du})),n.d(e,"ɵɵinterpolation2",(function(){return fu})),n.d(e,"ɵɵinterpolation3",(function(){return pu})),n.d(e,"ɵɵinterpolation4",(function(){return gu})),n.d(e,"ɵɵinterpolation5",(function(){return mu})),n.d(e,"ɵɵinterpolation6",(function(){return yu})),n.d(e,"ɵɵinterpolation7",(function(){return vu})),n.d(e,"ɵɵinterpolation8",(function(){return _u})),n.d(e,"ɵɵinterpolationV",(function(){return hu})),n.d(e,"ɵɵpipeBind1",(function(){return bg})),n.d(e,"ɵɵpipeBind2",(function(){return wg})),n.d(e,"ɵɵpipeBind3",(function(){return Cg})),n.d(e,"ɵɵpipeBind4",(function(){return Eg})),n.d(e,"ɵɵpipeBindV",(function(){return Og})),n.d(e,"ɵɵpureFunction0",(function(){return cg})),n.d(e,"ɵɵpureFunction1",(function(){return lg})),n.d(e,"ɵɵpureFunction2",(function(){return hg})),n.d(e,"ɵɵpureFunction3",(function(){return dg})),n.d(e,"ɵɵpureFunction4",(function(){return fg})),n.d(e,"ɵɵpureFunction5",(function(){return pg})),n.d(e,"ɵɵpureFunction6",(function(){return gg})),n.d(e,"ɵɵpureFunction7",(function(){return mg})),n.d(e,"ɵɵpureFunction8",(function(){return yg})),n.d(e,"ɵɵpureFunctionV",(function(){return vg})),n.d(e,"ɵɵgetCurrentView",(function(){return Tc})),n.d(e,"ɵgetDirectives",(function(){return yl})),n.d(e,"ɵgetHostElement",(function(){return _l})),n.d(e,"ɵɵrestoreView",(function(){return sr})),n.d(e,"ɵɵcontainerRefreshStart",(function(){return ec})),n.d(e,"ɵɵcontainerRefreshEnd",(function(){return nc})),n.d(e,"ɵɵqueryRefresh",(function(){return Gg})),n.d(e,"ɵɵviewQuery",(function(){return Qg})),n.d(e,"ɵɵstaticViewQuery",(function(){return zg})),n.d(e,"ɵɵstaticContentQuery",(function(){return Zg})),n.d(e,"ɵɵloadViewQuery",(function(){return Kg})),n.d(e,"ɵɵcontentQuery",(function(){return $g})),n.d(e,"ɵɵloadContentQuery",(function(){return Jg})),n.d(e,"ɵɵelementEnd",(function(){return wc})),n.d(e,"ɵɵproperty",(function(){return au})),n.d(e,"ɵɵpropertyInterpolate",(function(){return qc})),n.d(e,"ɵɵpropertyInterpolate1",(function(){return Hc})),n.d(e,"ɵɵpropertyInterpolate2",(function(){return Gc})),n.d(e,"ɵɵpropertyInterpolate3",(function(){return zc})),n.d(e,"ɵɵpropertyInterpolate4",(function(){return Qc})),n.d(e,"ɵɵpropertyInterpolate5",(function(){return Wc})),n.d(e,"ɵɵpropertyInterpolate6",(function(){return Kc})),n.d(e,"ɵɵpropertyInterpolate7",(function(){return $c})),n.d(e,"ɵɵpropertyInterpolate8",(function(){return Yc})),n.d(e,"ɵɵpropertyInterpolateV",(function(){return Zc})),n.d(e,"ɵɵupdateSyntheticHostBinding",(function(){return cu})),n.d(e,"ɵɵcomponentHostSyntheticListener",(function(){return kc})),n.d(e,"ɵɵprojectionDef",(function(){return Lc})),n.d(e,"ɵɵreference",(function(){return sc})),n.d(e,"ɵɵenableBindings",(function(){return Kn})),n.d(e,"ɵɵdisableBindings",(function(){return $n})),n.d(e,"ɵɵallocHostVars",(function(){return Wa})),n.d(e,"ɵɵelementContainerStart",(function(){return Oc})),n.d(e,"ɵɵelementContainerEnd",(function(){return Sc})),n.d(e,"ɵɵstyling",(function(){return hc})),n.d(e,"ɵɵstyleMap",(function(){return gc})),n.d(e,"ɵɵclassMap",(function(){return mc})),n.d(e,"ɵɵstyleProp",(function(){return fc})),n.d(e,"ɵɵstylingApply",(function(){return yc})),n.d(e,"ɵɵclassProp",(function(){return pc})),n.d(e,"ɵɵelementHostAttrs",(function(){return Ec})),n.d(e,"ɵɵselect",(function(){return Ks})),n.d(e,"ɵɵtextBinding",(function(){return Xc})),n.d(e,"ɵɵtemplate",(function(){return tc})),n.d(e,"ɵɵembeddedViewEnd",(function(){return Dc})),n.d(e,"ɵstore",(function(){return oc})),n.d(e,"ɵɵload",(function(){return ac})),n.d(e,"ɵɵpipe",(function(){return _g})),n.d(e,"ɵwhenRendered",(function(){return kl})),n.d(e,"ɵɵi18n",(function(){return Mp})),n.d(e,"ɵɵi18nAttributes",(function(){return Lp})),n.d(e,"ɵɵi18nExp",(function(){return Bp})),n.d(e,"ɵɵi18nStart",(function(){return Ap})),n.d(e,"ɵɵi18nEnd",(function(){return jp})),n.d(e,"ɵɵi18nApply",(function(){return qp})),n.d(e,"ɵɵi18nPostprocess",(function(){return kp})),n.d(e,"ɵi18nConfigureLocalize",(function(){return Kp})),n.d(e,"ɵɵi18nLocalize",(function(){return Yp})),n.d(e,"ɵsetLocaleId",(function(){return Xp})),n.d(e,"ɵDEFAULT_LOCALE_ID",(function(){return Zp})),n.d(e,"ɵsetClassMetadata",(function(){return ug})),n.d(e,"ɵɵresolveWindow",(function(){return mn})),n.d(e,"ɵɵresolveDocument",(function(){return yn})),n.d(e,"ɵɵresolveBody",(function(){return vn})),n.d(e,"ɵcompileComponent",(function(){return mm})),n.d(e,"ɵcompileDirective",(function(){return ym})),n.d(e,"ɵcompileNgModule",(function(){return sm})),n.d(e,"ɵcompileNgModuleDefs",(function(){return am})),n.d(e,"ɵpatchComponentDefWithScope",(function(){return dm})),n.d(e,"ɵresetCompiledComponents",(function(){return lm})),n.d(e,"ɵflushModuleScopingQueueAsMuchAsPossible",(function(){return im})),n.d(e,"ɵtransitiveScopesFor",(function(){return fm})),n.d(e,"ɵcompilePipe",(function(){return Tm})),n.d(e,"ɵɵsanitizeHtml",(function(){return _i})),n.d(e,"ɵɵsanitizeStyle",(function(){return bi})),n.d(e,"ɵɵdefaultStyleSanitizer",(function(){return Ii})),n.d(e,"ɵɵsanitizeScript",(function(){return Ei})),n.d(e,"ɵɵsanitizeUrl",(function(){return wi})),n.d(e,"ɵɵsanitizeResourceUrl",(function(){return Ci})),n.d(e,"ɵɵsanitizeUrlOrResourceUrl",(function(){return Si})),n.d(e,"ɵbypassSanitizationTrustHtml",(function(){return Pr})),n.d(e,"ɵbypassSanitizationTrustStyle",(function(){return Fr})),n.d(e,"ɵbypassSanitizationTrustScript",(function(){return Mr})),n.d(e,"ɵbypassSanitizationTrustUrl",(function(){return Lr})),n.d(e,"ɵbypassSanitizationTrustResourceUrl",(function(){return Vr})),n.d(e,"ɵgetLContext",(function(){return ki})),n.d(e,"ɵNG_ELEMENT_ID",(function(){return $e})),n.d(e,"ɵNG_COMPONENT_DEF",(function(){return He})),n.d(e,"ɵNG_DIRECTIVE_DEF",(function(){return Ge})),n.d(e,"ɵNG_PIPE_DEF",(function(){return ze})),n.d(e,"ɵNG_MODULE_DEF",(function(){return Qe})),n.d(e,"ɵNG_BASE_DEF",(function(){return Ke})),n.d(e,"ɵNG_INJECTABLE_DEF",(function(){return A})),n.d(e,"ɵNG_INJECTOR_DEF",(function(){return x})),n.d(e,"ɵbindPlayerFactory",(function(){return Fo})),n.d(e,"ɵaddPlayer",(function(){return ll})),n.d(e,"ɵgetPlayers",(function(){return hl})),n.d(e,"ɵcompileNgModuleFactory__POST_R3__",(function(){return Wy})),n.d(e,"ɵisBoundToModule__POST_R3__",(function(){return Ky})),n.d(e,"ɵSWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Fm})),n.d(e,"ɵSWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Mm})),n.d(e,"ɵSWITCH_COMPILE_PIPE__POST_R3__",(function(){return Lm})),n.d(e,"ɵSWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Hm})),n.d(e,"ɵgetDebugNode__POST_R3__",(function(){return xv})),n.d(e,"ɵSWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Tt})),n.d(e,"ɵSWITCH_IVY_ENABLED__POST_R3__",(function(){return hv})),n.d(e,"ɵSWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return qh})),n.d(e,"ɵCompiler_compileModuleSync__POST_R3__",(function(){return uy})),n.d(e,"ɵCompiler_compileModuleAsync__POST_R3__",(function(){return ly})),n.d(e,"ɵCompiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return dy})),n.d(e,"ɵCompiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return py})),n.d(e,"ɵSWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return mh})),n.d(e,"ɵSWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Kh})),n.d(e,"ɵSWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Zh})),n.d(e,"ɵSWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return Sh})),n.d(e,"ɵgetModuleFactory__POST_R3__",(function(){return uv})),n.d(e,"ɵregisterNgModuleType",(function(){return rg})),n.d(e,"ɵpublishGlobalUtil",(function(){return Il})),n.d(e,"ɵpublishDefaultGlobalUtils",(function(){return Sl})),n.d(e,"ɵcreateInjector",(function(){return Lt})),n.d(e,"ɵINJECTOR_IMPL__POST_R3__",(function(){return Qt})),n.d(e,"ɵregisterModuleFactory",(function(){return eg})),n.d(e,"ɵEMPTY_ARRAY",(function(){return zd})),n.d(e,"ɵEMPTY_MAP",(function(){return Qd})),n.d(e,"ɵand",(function(){return qv})),n.d(e,"ɵccf",(function(){return uf})),n.d(e,"ɵcmf",(function(){return yb})),n.d(e,"ɵcrt",(function(){return gd})),n.d(e,"ɵdid",(function(){return jf})),n.d(e,"ɵeld",(function(){return Hv})),n.d(e,"ɵgetComponentViewDefinitionFactory",(function(){return cf})),n.d(e,"ɵinlineInterpolate",(function(){return Hd})),n.d(e,"ɵinterpolate",(function(){return qd})),n.d(e,"ɵmod",(function(){return Jd})),n.d(e,"ɵmpd",(function(){return Zd})),n.d(e,"ɵncd",(function(){return Xv})),n.d(e,"ɵnov",(function(){return bf})),n.d(e,"ɵpid",(function(){return Rf})),n.d(e,"ɵprd",(function(){return Pf})),n.d(e,"ɵpad",(function(){return n_})),n.d(e,"ɵpod",(function(){return r_})),n.d(e,"ɵppd",(function(){return e_})),n.d(e,"ɵqud",(function(){return Kv})),n.d(e,"ɵted",(function(){return o_})),n.d(e,"ɵunv",(function(){return pd})),n.d(e,"ɵvid",(function(){return u_}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");const u="__annotations__",c="__parameters__",l="__prop__metadata__";function h(t,e,n,r,i){const o=d(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(u)?n[u]:Object.defineProperty(n,u,{value:[]})[u]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function d(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function f(t,e,n){const r=d(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function p(t,e,n,r){const i=d(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(l)?o[l]:Object.defineProperty(o,l,{value:{}})[l];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}const g=f("Inject",t=>({token:t})),m=f("Optional"),y=f("Self"),v=f("SkipSelf"),_=f("Host"),b=f("Attribute",t=>({attributeName:t}));var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(let e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const S=O;function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function D(t){const e=t[A];return e&&e.token===t?e:null}function T(t){return t&&t.hasOwnProperty(x)?t[x]:null}const A=C({ngInjectableDef:C}),x=C({ngInjectorDef:C});function N(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const k=C({__forward_ref__:C});function j(t){return t.__forward_ref__=j,t.toString=function(){return N(this())},t}function R(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(k)&&e.__forward_ref__===j?e():t}const P="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,V=P||L||F||M;function U(){const t=V.ng;if(!t||!t.ɵcompilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.ɵcompilerFacade}class B{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const q=new B("INJECTOR",-1),H=new Object,G=/\n/gm,z=C({provide:String,useValue:C});let Q,W=void 0;function K(t){const e=W;return W=t,e}function $(t){const e=Q;return Q=t,e}function Y(t,e=w.Default){if(void 0===W)throw new Error("inject() must be called from an injection context");return null===W?X(t,void 0,e):W.get(t,e&w.Optional?null:void 0,e)}function Z(t,e=w.Default){return(Q||Y)(t,e)}const J=Z;function X(t,e,n){const r=D(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${N(t)}]`)}function tt(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof m||"Optional"===i.ngMetadataName||i===m?n|=w.Optional:i instanceof v||"SkipSelf"===i.ngMetadataName||i===v?n|=w.SkipSelf:i instanceof y||"Self"===i.ngMetadataName||i===y?n|=w.Self:t=i instanceof g||i===g?i.token:i}e.push(Z(t,n))}else e.push(Z(r))}return e}class et{get(t,e=H){if(e===H){const e=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw e.name="NullInjectorError",e}return e}}function nt(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=rt("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}function rt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"ɵ"==t.charAt(1)?t.substr(2):t;let i=N(e);if(e instanceof Array)i=e.map(N).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):N(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(G,"\n  ")}`}const it={"ɵɵdefineInjectable":O,"ɵɵdefineInjector":I,"ɵɵinject":Z,"ɵɵgetFactoryOf":function(t){const e=t,n=D(e)||T(e);return n&&void 0!==n.factory?n.factory:null}},ot=Function;function st(t){return"function"==typeof t}const at=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ut=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ct=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,lt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class ht{constructor(t){this._reflect=t||V.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=new Array(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),at.test(n)||lt.test(n)||ut.test(n)&&!ct.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&dt(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(c)&&t[c],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):new Array(t.length).fill(void 0)}parameters(t){if(!st(t))return[];const e=ft(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?dt(t.decorators):t.hasOwnProperty(u)?t[u]:null}annotations(t){if(!st(t))return[];const e=ft(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=dt(e[t])}),n}return t.hasOwnProperty(l)?t[l]:null}propMetadata(t){if(!st(t))return{};const e=ft(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return st(t)&&this._ownPropMetadata(t,ft(t))||{}}hasLifecycleHook(t,e){return t instanceof ot&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+N(t)}resourceUri(t){return"./"+N(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function dt(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function ft(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let pt=null;function gt(){return pt=pt||new ht}function mt(t){return yt(gt().parameters(t))}function yt(t){const e=U();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(let i=0;i<e.length;i++){const o=e[i];if(void 0!==o)if(o instanceof m||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof v||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof y||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof _||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof g)n.token=o.token;else if(o instanceof b){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(o)}}else r(e);return n}(e,t))}function vt(t,e){let n=null;t.hasOwnProperty(A)||Object.defineProperty(t,A,{get:()=>{if(null===n){const r=e||{providedIn:null},i=bt(r)||Ct(r)||wt(r)||Et(r),o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:mt(t),userDeps:void 0};if((bt(r)||Ct(r))&&void 0!==r.deps&&(o.userDeps=yt(r.deps)),i)if(bt(r))o.useClass=r.useClass;else if(wt(r))o.useValue=r.useValue;else if(Ct(r))o.useFactory=r.useFactory;else{if(!Et(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=t;n=U().compileInjectable(it,`ng:///${t.name}/ngInjectableDef.js`,o)}return n}})}const _t=C({provide:String,useValue:C});function bt(t){return void 0!==t.useClass}function wt(t){return _t in t}function Ct(t){return void 0!==t.useFactory}function Et(t){return void 0!==t.useExisting}const Ot=C({provide:String,useValue:C}),St=[];function It(t,e){if(!e){const e=(new ht).parameters(t);return()=>new t(...tt(e))}if(Ot in e){const t=e;return()=>t.useValue}if(e.useExisting){const t=e;return()=>Z(t.useExisting)}if(e.useFactory){const t=e;return()=>t.useFactory(...tt(t.deps||St))}if(e.useClass){const n=e;let r=e.deps;if(!r){const e=new ht;r=e.parameters(t)}return()=>new n.useClass(...tt(r))}{let n=e.deps;if(!n){const e=new ht;n=e.parameters(t)}return()=>new t(...tt(n))}}const Dt=h("Injectable",void 0,void 0,void 0,(t,e)=>At(t,e)),Tt=vt,At=function(t,e){e&&void 0!==e.providedIn&&!D(t)&&(t.ngInjectableDef=O({token:t,providedIn:e.providedIn,factory:It(t,e)}))};function xt(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Nt(){throw new Error("Cannot mix multi providers and regular providers")}const kt=new B("The presence of this token marks an injector as being the root injector."),jt={},Rt={},Pt=[];let Ft=void 0;function Mt(){return void 0===Ft&&(Ft=new et),Ft}function Lt(t,e=null,n=null,r){return e=e||Mt(),new Vt(t,n,e,r)}class Vt{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];Ht([t],t=>this.processInjectorType(t,[],i)),e&&Ht(e,n=>this.processProvider(n,t,e)),this.records.set(q,qt(void 0,this)),this.isRootInjector=this.records.has(kt),this.injectorDefTypes.forEach(t=>this.get(t)),this.source=r||("object"==typeof t?null:N(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=H,n=w.Default){this.assertNotDestroyed();const r=K(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof B)&&D(t);n&&this.injectableDefInScope(n)&&(e=qt(Ut(t),jt),this.records.set(t,e))}if(void 0!==e)return this.hydrate(t,e)}return(n&w.Self?Mt():this.parent).get(t,n&w.Optional?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(N(t)),r)throw o;return nt(o,t,"R3InjectorError",this.source)}throw o}finally{K(r)}var i}toString(){const t=[];return this.records.forEach((e,n)=>t.push(N(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=R(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,qt(r.factory,jt)),null!=r.imports&&!s){let t;n.push(o);try{Ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Ht(r,t=>this.processProvider(t,n,r||Pt))}}const a=r.providers;if(null!=a&&!s){const e=t;Ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=zt(t=R(t))?t:R(t&&t.provide);const i=function(t,e,n){let r=Bt(t,e,n);return Gt(t)?qt(void 0,t.useValue):qt(r,jt)}(t,e,n);if(zt(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Nt()}else{let e=this.records.get(r);e?void 0===e.multi&&Nt():(e=qt(void 0,jt,!0),e.factory=()=>tt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Rt?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(N(t)):e.value===jt&&(e.value=Rt,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))}}function Ut(t){const e=D(t);if(null!==e)return e.factory;const n=T(t);if(null!==n)return n.factory;if(t instanceof B)throw new Error(`Token ${N(t)} is missing an ngInjectableDef definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=new Array(e).fill("?");throw new Error(`Can't resolve all parameters for ${N(t)}: (${n.join(", ")}).`)}const n=(r=t)&&r[A]?(console.warn(`DEPRECATED: DI is instantiating a token "${r.name}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${r.name}" class.`),r[A]):null;var r;return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bt(t,e,n){let r=void 0;if(zt(t))return Ut(R(t));if(Gt(t))r=()=>R(t.useValue);else if((i=t)&&i.useExisting)r=()=>Z(R(t.useExisting));else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...tt(t.deps||[]));else{const i=R(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Ut(i);r=()=>new i(...tt(t.deps))}var i;return r}function qt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ht(t,e){t.forEach(t=>Array.isArray(t)?Ht(t,e):e(t))}function Gt(t){return null!==t&&"object"==typeof t&&z in t}function zt(t){return"function"==typeof t}function Qt(t,e,n){return Lt({name:n},e,t,n)}const Wt=function(t,e,n){return new Xt(t,e,n)};let Kt=(()=>{class t{static create(t,e){return Array.isArray(t)?Wt(t,e,""):Wt(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=H,t.NULL=new et,t.ngInjectableDef=O({token:t,providedIn:"any",factory:()=>Z(q)}),t.__NG_ELEMENT_ID__=-1,t})();const $t=function(t){return t},Yt=[],Zt=$t,Jt=function(){return Array.prototype.slice.call(arguments)};class Xt{constructor(t,e=Kt.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Kt,{token:Kt,fn:$t,deps:Yt,value:this,useNew:!1}),r.set(q,{token:q,fn:$t,deps:Yt,value:this,useNew:!1}),function t(e,n){if(n)if((n=R(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ee("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ee("Unexpected provider",n);{let t=R(n.provide);const r=function(t){const e=function(t){let e=Yt;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=R(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof m||n==m?r|=1:n instanceof v||n==v?r&=-3:n instanceof y||n==y?r&=-5:i=n instanceof g?n.token:R(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:R(t.useExisting),options:6}];else if(!n&&!(z in t))throw ee("'deps' required",t);return e}(t);let n=$t,r=Yt,i=!1,o=R(t.provide);if(z in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=R(t.useClass);else{if("function"!=typeof o)throw ee("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Jt)throw te(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Jt,value:Yt});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==Jt)throw te(t);e.set(t,r)}}}(r,t)}get(t,e,n=w.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&w.SkipSelf)s&w.Self||(a=i.get(e,o,w.Default));else{if(a=n.value,a==Zt)throw Error("ɵCircular dependency");if(a===Yt){n.value=Zt;let e=void 0,o=n.useNew,s=n.fn,u=n.deps,c=Yt;if(u.length){c=[];for(let e=0;e<u.length;e++){const n=u[e],o=n.options,s=2&o?r.get(n.token):void 0;c.push(t(n.token,s,r,s||4&o?i:Kt.NULL,1&o?null:Kt.THROW_IF_NOT_FOUND,w.Default))}}n.value=a=o?new s(...c):s.apply(e,c)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Zt&&(n.value=Yt),a}}(t,r,this._records,this.parent,e,n)}catch(i){return nt(i,t,"StaticInjectorError",this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(N(n))),`StaticInjector[${t.join(", ")}]`}}function te(t){return ee("Cannot mix multi providers and regular providers",t)}function ee(t,e){return new Error(rt(t,e,"StaticInjectorError"))}function ne(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>N(t.token)).join(" -> ")+")":""}function re(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r.ngOriginalError=e,r}(o,r):Error(o);return s.addKey=ie,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function ie(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function oe(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(N).join(" "):"?")}return Error("Cannot resolve all parameters for '"+N(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+N(t)+"' is decorated with Injectable.")}class se{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=N(this.token)}static get(t){return ue.get(R(t))}static get numberOfKeys(){return ue.numberOfKeys}}class ae{constructor(){this._allKeys=new Map}get(t){if(t instanceof se)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new se(t,se.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const ue=new ae;class ce{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const le=new ce(new ht);class he{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new he(t,!1,null)}}const de=[];class fe{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class pe{constructor(t,e){this.factory=t,this.dependencies=e}}function ge(t){let e,n;if(t.useClass){const r=R(t.useClass);e=le.factory(r),n=ve(r)}else t.useExisting?(e=t=>t,n=[he.fromKey(se.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>_e(t,e,n))}return ve(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=de);return new pe(e,n)}function me(t){return new fe(se.get(t.provide),[ge(t)],t.multi||!1)}function ye(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new fe(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof ot)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(me),new Map);return Array.from(e.values())}function ve(t){const e=le.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw oe(t,e);return e.map(n=>_e(t,n,e))}function _e(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return be(e instanceof g?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof ot?r=t:t instanceof g?r=t.token:t instanceof m?i=!0:t instanceof y||t instanceof v?o=t:t instanceof B&&(r=t)}if(r=R(r),null!=r)return be(r,i,o);throw oe(t,n)}function be(t,e,n){return new he(se.get(t),e,n)}const we=new Object;class Ce{static resolve(t){return ye(t)}static resolveAndCreate(t,e){const n=Ce.resolve(t);return Ce.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new Ee(t,e)}}let Ee=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=we}get(t,e=H){return this._getByKey(se.get(t),null,e)}resolveAndCreateChild(t){const e=Ce.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(Ce.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw re(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+ne(t)}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=n(...r)}catch(s){throw re(this,t.key,(function(t){const e=N(t[0].token);return`${o.message}: Error during instantiation of ${e}!${ne(t)}.`}),o=s)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:H)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof y?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===we&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return we}_throwOrNull(t,e){if(e!==H)return e;throw function(t,e){return re(t,e,(function(t){return`No provider for ${N(t[0].token)}!${ne(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==we?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof v?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==we)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=se.get(Kt),t})();const Oe=new B("AnalyzeForEntryComponents");class Se{}const Ie=p("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),Se),De=p("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),Se),Te=p("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e),Se),Ae=p("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),Se),xe=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ne=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}();function ke(t){return null==t||t===xe.Default}function je(t){const e=[],n=new Map;function r(e){let r=n.get(e);if(!r){const i=t(e);n.set(e,r=i.then(Le))}return r}return Re.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){Pe.delete(t)}(n));e.push(u)}),Me(),Promise.all(e).then(()=>{})}let Re=new Map;const Pe=new Set;function Fe(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Me(){const t=Re;return Re=new Map,t}function Le(t){return"string"==typeof t?t:t.text()}const Ve=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function Ue(t){return""+{toString:t}}const Be={},qe=[],He=C({ngComponentDef:C}),Ge=C({ngDirectiveDef:C}),ze=C({ngPipeDef:C}),Qe=C({ngModuleDef:C}),We=C({ngLocaleIdDef:C}),Ke=C({ngBaseDef:C}),$e=C({__NG_ELEMENT_ID__:C});let Ye=0;function Ze(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ve.Emulated,id:"c",styles:t.styles||qe,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=Ue(()=>{const n=t.directives,o=t.features,s=t.pipes;i.id+=Ye++,i.inputs=rn(t.inputs,r),i.outputs=rn(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Xe):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(tn):null,e.hasOwnProperty(A)||(e[A]=O({token:e,factory:t.factory}))}),i}function Je(t,e,n){const r=t.ngComponentDef;r.directiveDefs=()=>e.map(Xe),r.pipeDefs=()=>n.map(tn)}function Xe(t){return un(t)||cn(t)}function tn(t){return ln(t)}function en(t){return{type:t.type,bootstrap:t.bootstrap||qe,declarations:t.declarations||qe,imports:t.imports||qe,exports:t.exports||qe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}}function nn(t,e){return Ue(()=>{const n=dn(t,!0);n.declarations=e.declarations||qe,n.imports=e.imports||qe,n.exports=e.exports||qe})}function rn(t,e){if(null==t)return Be;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function on(t){const e={};return{inputs:rn(t.inputs,e),declaredInputs:e,outputs:rn(t.outputs),viewQuery:t.viewQuery||null,contentQueries:t.contentQueries||null,hostBindings:t.hostBindings||null}}const sn=Ze;function an(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function un(t){return t[He]||null}function cn(t){return t[Ge]||null}function ln(t){return t[ze]||null}function hn(t){return t[Ke]||null}function dn(t,e){const n=t[Qe]||null;if(!n&&!0===e)throw new Error(`Type ${N(t)} does not have 'ngModuleDef' property.`);return n}function fn(t){return"string"==typeof t?t:null==t?"":""+t}function pn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fn(t)}const gn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function mn(t){return{name:"window",target:t.ownerDocument.defaultView}}function yn(t){return{name:"document",target:t.ownerDocument}}function vn(t){return{name:"body",target:t.ownerDocument.body}}function _n(t){return t.indexOf("�")>=0}function bn(t){return t instanceof Function?t():t}function wn(t){for(;Array.isArray(t);)t=t[0];return t}function Cn(t){return Array.isArray(t)&&"object"==typeof t[1]}function En(t){return Array.isArray(t)&&!0===t[1]}function On(t,e){return wn(e[t+20])}function Sn(t,e){return wn(e[t.index])}function In(t,e){return e[1].data[t+20]}function Dn(t,e){return t[e+20]}function Tn(t,e){const n=e[t];return Cn(n)?n:n[0]}function An(t){return 0!=(4&t.flags)}function xn(t){return 1==(1&t.flags)}function Nn(t){return null!==t.template}function kn(t){return 0!=(512&t[2])}function jn(t){return t.__ngContext__}function Rn(t){const e=jn(t);return e?Array.isArray(e)?e:e.lView:null}function Pn(t){return En(t[3])}function Fn(t){t[18]=0}function Mn(t,e,n,r,i,o){const{onChanges:s,onInit:a,doCheck:u}=e;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(s||a||u)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),o>=0&&(!n.preOrderCheckHooks||o===n.preOrderCheckHooks.length)&&(s||u)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,a),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u))}function Ln(t,e){if(t.firstTemplatePass)for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Vn(t,e,n,r){n||Un(t,e.preOrderHooks,e.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Un(t,e,n,r,i,o){if(r)return;const s=(3&t[2])===i?e:n;s&&function(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Bn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}(t,s,i,o),null==o&&(3&t[2])===i&&3!==i&&(t[2]&=1023,t[2]+=1)}function Bn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}let qn,Hn=null;function Gn(t){Hn=t}let zn,Qn=null;function Wn(t){Qn=t}function Kn(){zn=!0}function $n(){zn=!1}function Yn(){return Xn}let Zn,Jn,Xn,tr=1,er=0,nr=0;function rr(t=null){Ir!==t&&(Tr(null==t?-1:t),tr=null==t?0:1,er=0,nr=0)}function ir(){tr+=1+nr,er=0,nr=0}function or(t){er+=t,nr=Math.max(nr,er)}function sr(t){fr=t}function ar(){return Zn}function ur(t,e){Zn=t,Jn=e}function cr(t,e){Zn=t,Xn=e}function lr(){return Jn}function hr(){Jn=!1}function dr(t=Xn){return 4==(4&t[2])}let fr=null,pr=!1;function gr(){return pr}function mr(t){pr=t}let yr=-1;function vr(){return yr}function _r(t){yr=t}let br=0;function wr(){return br}function Cr(t){br=t}function Er(t,e){const n=Xn;return t&&(yr=t[1].bindingStartIndex),Zn=e,Jn=!0,Xn=fr=t,n}function Or(t=1){return fr=function(t,e){for(;t>0;)e=e[17],t--;return e}(t,fr),fr[9]}function Sr(t,e){const n=Xn[1];if(dr(Xn))Xn[2]&=-5;else try{Fn(Xn),e&&Un(Xn,n.viewHooks,n.viewCheckHooks,pr,2,void 0)}finally{Xn[2]&=-73,Xn[7]=n.bindingStartIndex}Gn(null),Er(t,null)}let Ir=-1;function Dr(){return Ir}function Tr(t){Ir=t,Gn(null)}let Ar=null;function xr(){Ar="http://www.w3.org/2000/svg"}function Nr(){Ar="http://www.w3.org/1998/MathML/"}function kr(){Ar=null}const jr="__SANITIZER_TRUSTED_BRAND__";function Rr(t,e){return t instanceof String&&t[jr]===e}function Pr(t){return Ur(t,"Html")}function Fr(t){return Ur(t,"Style")}function Mr(t){return Ur(t,"Script")}function Lr(t){return Ur(t,"Url")}function Vr(t){return Ur(t,"ResourceUrl")}function Ur(t,e){const n=new String(t);return n[jr]=e,n}let Br=!0,qr=!1;function Hr(){return qr=!0,Br}function Gr(){if(qr)throw new Error("Cannot enable prod mode after platform setup.");Br=!1}class zr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Wr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kr(t){return(t=String(t)).match(Qr)||t.match(Wr)?t:(Hr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function $r(t){return(t=String(t)).split(",").map(t=>Kr(t.trim())).join(", ")}function Yr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jr=Yr("area,br,col,hr,img,wbr"),Xr=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ti=Yr("rp,rt"),ei=Zr(ti,Xr),ni=Zr(Jr,Zr(Xr,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zr(ti,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ei),ri=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ii=Yr("srcset"),oi=Zr(ri,ii,Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),si=Yr("script,style,template");class ai{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ni.hasOwnProperty(e))return this.sanitizedSomething=!0,!si.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!oi.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ri[i]&&(o=Kr(o)),ii[i]&&(o=$r(o)),this.buf.push(" ",e,'="',li(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ni.hasOwnProperty(e)&&!Jr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(li(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ci=/([^\#-~ |!])/g;function li(t){return t.replace(/&/g,"&amp;").replace(ui,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ci,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hi;function di(t,e){let n=null;try{hi=hi||new zr(t);let r=e?String(e):"";n=hi.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hi.getInertBodyElement(r)}while(r!==o);const s=new ai,a=s.sanitizeChildren(fi(n)||n);return Hr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=fi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const pi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class gi{}const mi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),yi=/^url\(([^)]+)\)$/;function vi(t){if(!(t=String(t).trim()))return"";const e=t.match(yi);return e&&Kr(e[1])===e[1]||t.match(mi)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Hr()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function _i(t){const e=Di();return e?e.sanitize(pi.HTML,t)||"":Rr(t,"Html")?t.toString():di(document,fn(t))}function bi(t){const e=Di();return e?e.sanitize(pi.STYLE,t)||"":Rr(t,"Style")?t.toString():vi(fn(t))}function wi(t){const e=Di();return e?e.sanitize(pi.URL,t)||"":Rr(t,"Url")?t.toString():Kr(fn(t))}function Ci(t){const e=Di();if(e)return e.sanitize(pi.RESOURCE_URL,t)||"";if(Rr(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Ei(t){const e=Di();if(e)return e.sanitize(pi.SCRIPT,t)||"";if(Rr(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}function Oi(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Ci:wi}function Si(t,e,n){return Oi(e,n)(t)}const Ii=function(t,e,n){let r=!0;return 1&(n=n||3)&&(r="background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t||"clip-path"===t),2&n?r?bi(e):e:r};function Di(){const t=Yn();return t&&t[13]}class Ti{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}const Ai=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function xi(t){return!!t.listen}const Ni={createRenderer:(t,e)=>document};function ki(t){let e=jn(t);if(e){if(Array.isArray(e)){const r=e;let i,o=void 0,s=void 0;if((n=t)&&n.constructor&&n.constructor.ngComponentDef){if(i=Li(r,t),-1==i)throw new Error("The provided component was not found in the application");o=t}else if(function(t){return t&&t.constructor&&t.constructor.ngDirectiveDef}(t)){if(i=function(t,e){let n=t[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=Mi(n)}return-1}(r,t),-1==i)throw new Error("The provided directive was not found in the application");s=Vi(i,r,!1)}else if(i=Fi(r,t),-1==i)return null;const a=wn(r[i]),u=jn(a),c=u&&!Array.isArray(u)?u:ji(r,i,a);if(o&&void 0===c.component&&(c.component=o,Pi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let t=0;t<s.length;t++)Pi(s[t],c)}Pi(c.native,c),e=c}}else{const n=t;let r=n;for(;r=r.parentNode;){const t=jn(r);if(t){let r;if(r=Array.isArray(t)?t:t.lView,!r)return null;const i=Fi(r,n);if(i>=0){const t=wn(r[i]),n=ji(r,i,t);Pi(t,n),e=n;break}}}}var n;return e||null}function ji(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Ri(t){let e,n=jn(t);if(Array.isArray(n)){const r=Li(n,t);e=Tn(r,n);const i=ji(n,r,e[0]);i.component=t,Pi(t,i),Pi(i.native,i)}else e=Tn(n.nodeIndex,n.lView);return e}function Pi(t,e){t.__ngContext__=e}function Fi(t,e){let n=t[1].firstChild;for(;n;){if(Sn(n,t)===e)return n.index;n=Mi(n)}return-1}function Mi(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Li(t,e){const n=t[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(Tn(i,t)[9]===e)return i}else if(Tn(20,t)[9]===e)return 20;return-1}function Vi(t,e,n){const r=e[1].data[t];let i=r.directiveStart;return 0==i?qe:(!n&&1&r.flags&&i++,e.slice(i,r.directiveEnd))}class Ui{constructor(){this._players=[]}flushPlayers(){for(let t=0;t<this._players.length;t++){const e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0}queuePlayer(t){this._players.push(t)}}function Bi(t,e,n,r){const i=[t||null,0,[],n||[null,null],r||[null,null],[0,0],[0],[0],null,null];return qi(i,0),i}function qi(t,e,n=-1,r){const i=t[2],o=2*e,s=o+2;for(let u=i.length;u<s;u+=2)i.push(-1,null);const a=o+0;n>=0&&-1===i[a]&&(i[a]=n,i[o+1]=r||null)}function Hi(t,e){let n=t,r=e[n],i=e;for(;Array.isArray(r);)i=r,r=r[0];if(o=i,Array.isArray(o)&&"number"==typeof o[1])return i;var o;{const o=In(t-20,e).stylingTemplate;return i!==e&&(n=0),i[n]=o?function(t,e){const n=e.slice();for(let r=0;r<10;r++){const t=e[r];Array.isArray(t)&&(n[r]=t.slice())}return n[0]=t,n[1]|=16,n}(r,o):Bi(r)}}function Gi(t){return"@"===t[0]}function zi(t){return 0!=(8&t.flags)}function Qi(t){return 0!=(16&t.flags)}function Wi(t,e,n,r,i,o){return o=o||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,()=>{const e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new Ui)).queuePlayer(r,o),!0)}function Ki(t){return t[9]}function $i(t){return t[9]=[5,null,null,null,null]}function Yi(t,e){const n=Yn()[12],r=xi(n);let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const s=e[i++],a=e[i++],u=e[i++];r?n.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=e[++i];Gi(s)?r&&n.setProperty(t,s,a):r?n.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Zi(t,e){for(let n=e;n<t.length;n++){const e=t[n];if(1===e||2===e)return n}return-1}function Ji(t){return 3===t||4===t||6===t}function Xi(t){return-1!==t}function to(t){return 32767&t}function eo(t){return t>>16}function no(t,e){let n=eo(t),r=e;for(;n>0;)r=r[17],n--;return r}function ro(t){const e=t[3];return En(e)?e[3]:e}function io(t){let e=t[6];for(;null!==e&&2===e.type;)e=(t=t[17])[6];return t}function oo(t){return function(t){let e=Cn(t)?t:Rn(t);for(;e&&!(512&e[2]);)e=ro(e);return e}(t)[9]}let so=!0;function ao(t){const e=so;return so=t,e}let uo=0;function co(t,e){const n=ho(t,e);if(-1!==n)return n;const r=e[1];r.firstTemplatePass&&(t.injectorIndex=e.length,lo(r.data,t),lo(e,null),lo(r.blueprint,null));const i=fo(t,e),o=to(i),s=no(i,e),a=t.injectorIndex;if(Xi(i)){const t=s[1].data;for(let n=0;n<8;n++)e[a+n]=s[o+n]|t[o+n]}return e[a+8]=i,a}function lo(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ho(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function fo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[17])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function po(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[$e]:n.charCodeAt(0)||0;null==r&&(r=n[$e]=uo++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e[1],n)}function go(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ji(i))break;if(0===i)r+=2;else if("number"==typeof i){if(r++,1===i&&"class"===e){let e="";for(;r<t&&"string"==typeof n[r];)e+=" "+n[r++];return e.trim()}if(2===i&&"style"===e){let e="";for(;r<t&&"string"==typeof n[r];)e+=`${n[r++]}: ${n[r++]}; `;return e.trim()}for(;r<t&&"string"==typeof n[r];)r++}else{if(i===e)return n[r+1];r+=2}}}return null}function mo(t,e,n,r=w.Default,i){if(t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[$e];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){const o=ar(),s=Yn();cr(t,e);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${pn(n)}!`)}finally{cr(o,s)}}else if("number"==typeof i){if(-1===i)return new Eo(t,e);let o=null,s=ho(t,e),a=-1,u=r&w.Host?io(e)[6]:null;for((-1===s||r&w.SkipSelf)&&(a=-1===s?fo(t,e):e[s+8],Co(r,!1)?(o=e[1],s=to(a),e=no(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(wo(i,s,t.data)){const t=vo(s,e,n,o,r,u);if(t!==yo)return t}Co(r,e[1].data[s+8]===u)&&wo(i,s,e)?(o=t,s=to(a),e=no(a,e)):s=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[10],o=$(void 0);try{return t?t.get(n,i,r&w.Optional):X(n,i,r&w.Optional)}finally{$(o)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${pn(n)}]`)}const yo={};function vo(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=_o(a,s,n,null==r?xn(a)&&so:r!=s&&3===a.type,i&w.Host&&o===a);return null!==u?bo(s.data,e,u,a):yo}function _o(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Nn(t)&&t.type===n)return u}return null}function bo(t,e,n,r){let i=e[n];if(null!==(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==Ti.prototype){const o=i;if(o.resolving)throw new Error("Circular dep for "+pn(t[n]));const s=ao(o.canSeeViewProviders);let a;o.resolving=!0,o.injectImpl&&(a=$(o.injectImpl));const u=ar(),c=Yn();cr(r,e);try{i=e[n]=o.factory(null,t,e,r)}finally{o.injectImpl&&$(a),ao(s),o.resolving=!1,cr(u,c)}}var o;return i}function wo(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Co(t,e){return!(t&w.Self||t&w.Host&&e)}class Eo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return mo(this._tNode,this._lView,t,void 0,e)}}function Oo(t){const e=t,n=un(e)||cn(e)||ln(e)||D(e)||T(e);return n&&void 0!==n.factory?n.factory:null}function So(t){const e=Oo(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:t=>new t}function Io(t){return t.ngDebugContext}function Do(t){return t.ngOriginalError}function To(t,...e){t.error(...e)}class Ao{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||To}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Io(t)?Io(t):this._findContext(Do(t)):null}_findOriginalError(t){let e=Do(t);for(;e&&Do(e);)e=Do(e);return e}}const xo={name:"custom-elements"},No={name:"no-errors-schema"},ko=/([A-Z])/g;function jo(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}const Ro={};function Po(t,e,n,r){const i=t[8];if(null!=i){const t=function(t,e){for(let n=1;n<t.length;n+=3)if(t[n+0]>e)return n;return t.length}(i,e);i.splice(t,0,e,n,r)}}function Fo(t,e){return new Mo(t,e)}class Mo{constructor(t,e){this.fn=t,this.value=e}}function Lo(t,e,n=0){const r=Bi();return Vo(r,t,e,n),r}function Vo(t,e,n,r){if(16&t[1])return;qi(t,r);let i=null,o=null,s=-1;for(let a=n;a<e.length;a++){const n=e[a];"number"==typeof n?s=n:1==s?(i=i||t[4],Uo(i,n,!0,r)):2==s&&(o=o||t[3],Uo(o,n,e[++a],r))}}function Uo(t,e,n,r){for(let i=2;i<t.length;i+=3)if(t[i+0]===e)return void(Ns(t[i+1],n,t[i+2],r)&&Fs(i,t,e,n,r));Fs(null,t,e,n,r)}function Bo(t,e,n,r){const i=e[4];let o=r||2;for(;o<i.length;)i[o+1]&&Zo(t,i[o+0],!0,n,null),o+=3;return o}function qo(t,e,n,r){const i=e[3];let o=r||2;for(;o<i.length;){const e=i[o+1];e&&Yo(t,i[o+0],e,n,null),o+=3}return o}function Ho(t,e,n,r){for(let i=n;i<r;i+=4)if(vs(t,i)===e)return i;return-1}function Go(t,e,n=0){Qo(t,e,!0,n)}function zo(t,e,n=0){Qo(t,e,!1,n)}function Qo(t,e,n,r=0){if(function(t,e,n,r){return!t[e?6:7][1+4*n+0]&&(r===Ro||js(t,e,n)===r)}(t,n,r,e))return;const i=(e=e===Ro?js(t,n,r):e)instanceof Mo?new Ds(e,t[0],n?1:2):null,o=i?e.value:e,s=n?1:3;let a,u,c,l=i?s:0,h=!1;ls(t,i,s)&&(hs(t,i,s),h=!0);let d=!1;n?("string"==typeof o?(c=o.split(/\s+/),d=!0):c=o?Object.keys(o):qe,a=ss(t),u=t.length):(a=as(t),u=ss(t),c=o?Object.keys(o):qe),function(t,e,n,r,i,o,s,a,u){let c=!1;const l=1+4*e,h=t[u?6:7],d=h[l+1],f=h[l+3];let p=1===h[l+0]||!(h[l+2]||!a),g=0,m=0;const y=!0===s;let v=r,_=o.length;for(;v<d;){const r=vs(t,v);if(_)for(let i=0;i<o.length;i++){const a=o[i],l=a?u?a:Rs(a):null;if(l&&r===l){const r=ys(t,v),a=Ts(t,v),u=!!y||s[l],h=ms(t,v);Is(h,r,u)&&Ns(r,u,a,e)&&(cs(t,v,u),ds(t,v,n,e),Ss(t,h,u)&&(Jo(t,v,!0),c=!0)),o[i]=null,_--;break}}v+=4}if(_){const r=u?null:xs(t,e);t:for(let a=0;a<o.length;a++){const l=o[a];if(!l)continue;const h=!!y||s[l],f=u?l:Rs(l),_=v>=d;for(let r=v;r<i;r+=4)if(vs(t,r)===f){const i=Ts(t,r),o=fs(t,r),s=ys(t,r),a=ms(t,r);Ns(s,h,i,e)&&(_&&(ws(t,v,r),g++),Is(a,s,h)&&((null===h||void 0===h&&h!==s)&&(p=!0),cs(t,v,h),(null!==s||Ss(t,a,h))&&(Jo(t,v,!0),c=!0)),i===e&&n===o||ds(t,v,n,e)),v+=4;continue t}null!=h&&(p=!0,g++,Cs(t,_?v:d+4*m,u,f,1|Os(t,f,u,r),h,e,n),m++,i+=4,v+=4,c=!0)}}for(;v<i;){p=!0;const r=ys(t,v),i=ms(t,v);Ts(t,v),null!=r&&(p=!0),Is(i,r,null)&&(cs(t,v,null),Ss(t,i,r)&&(Jo(t,v,!0),c=!0),ds(t,v,n,e)),v+=4}p=p||f!==g,function(t,e,n,r,i,o,s,a){const u=t[n?6:7],c=1+4*e;if(a){const t=i+4*s;for(let e=c+4;e<u.length;e+=4)u[e+1]=t,u[e+0]=1}u[c+0]=0,u[c+1]=i,u[c+2]=r,u[c+3]=s;let l=s;for(let h=1;h<c;h+=4)l+=u[h+3];if(!n){const e=t[6],n=o-e[2];for(let t=1;t<e.length;t+=4)e[t+1]+=n}u[0]=l}(t,e,u,a,d,i,g,p),c&&_s(t,!0)}(t,r,l,a,u,c,d||o||Be,e,n),h&&bs(t,!0)}function Wo(t,e,n,r=0,i){$o(t,e,n,!0,r,i)}function Ko(t,e,n,r=0,i){$o(t,e,n,!1,r,i)}function $o(t,e,n,r,i,o){const s=function(t,e,n,r){const i=t[2][2*e+0],o=t[5];return o[i+2+(r?o[i+0]:0)+n]}(t,i,e,r),a=ys(t,s),u=ms(t,s),c=Ts(t,s),l=n instanceof Mo?n.value:n;if(Is(u,a,l)&&(o||Ns(a,l,c,i))){const e=2==(2&u),r=t[0],o=n instanceof Mo?new Ds(n,r,e?1:2):null,a=o?n.value:n,l=fs(t,s);let h=!1,d=o?l:0;if(ls(t,o,l)){const e=hs(t,o,l);d=o?e:0,h=!0}if((h||c!==i)&&ds(t,s,d,i),c!==i){const e=vs(t,s),n=xs(t,i);!function(t,e,n){n?t[e]|=4:t[e]&=-5}(t,s,!(!n||!n(e,null,1)))}cs(t,s,a);const f=os(u),p=ys(t,f);if(!p||Is(u,p,a)){let e=!1,n=!0;!Es(a)&&Es(p)&&(e=!0,n=!1),Jo(t,f,e),Jo(t,s,n),_s(t,!0)}h&&bs(t,!0)}}function Yo(t,e,n,r,i,o,s){n=i&&n?i(e,n,3):n,o||s?(o&&o.setValue(e,n),s&&s.setValue(e,n)):n?(n=n.toString(),xi(r)?r.setStyle(t,e,n,Ai.DashCase):t.style.setProperty(e,n)):xi(r)?r.removeStyle(t,e,Ai.DashCase):t.style.removeProperty(e)}function Zo(t,e,n,r,i,o){i||o?(i&&i.setValue(e,n),o&&o.setValue(e,n)):""!==e&&(n?xi(r)?r.addClass(t,e):t.classList.add(e):xi(r)?r.removeClass(t,e):t.classList.remove(e))}function Jo(t,e,n){const r=e>=10?e+0:e;n?t[r]|=1:t[r]&=-2}function Xo(t,e){return 1==(1&t[e>=10?e+0:e])}function ts(t,e){return 2==(2&t[e>=10?e+0:e])}function es(t,e){return 4==(4&t[e>=10?e+0:e])}function ns(t,e,n){return 31&t|e<<5|n<<19}function rs(t,e){const n=is(e);return(2&e?t[4]:t[3])[n]}function is(t){return t>>5&16383}function os(t){const e=t>>19&16383;return e>=10?e:-1}function ss(t){return t[6][2]}function as(t){return t[7][2]}function us(t,e,n){t[e+1]=n}function cs(t,e,n){t[e+2]=n}function ls(t,e,n){const r=t[9];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function hs(t,e,n){let r=t[9]||$i(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function ds(t,e,n,r){const i=function(t,e){return e<<16|t}(r,n);t[e+3]=i}function fs(t,e){return t[e+3]>>16&65535}function ps(t,e){const n=fs(t,e);if(n){const e=t[9];if(e)return e[n]}return null}function gs(t,e,n){t[1===e?e:e+0]=n}function ms(t,e){return t[1===e?e:e+0]}function ys(t,e){return t[e+2]}function vs(t,e){return t[e+1]}function _s(t,e){Jo(t,1,e)}function bs(t,e){e?t[1]|=8:t[1]&=-9}function ws(t,e,n){if(e===n)return;const r=ys(t,e),i=vs(t,e),o=ms(t,e),s=fs(t,e),a=Ts(t,e);let u=o,c=ms(t,n);const l=os(u);if(l>=0){const e=ms(t,l);gs(t,l,ns(e,is(e),n))}const h=os(c);if(h>=0){const n=ms(t,h);gs(t,h,ns(n,is(n),e))}cs(t,e,ys(t,n)),us(t,e,vs(t,n)),gs(t,e,ms(t,n)),ds(t,e,fs(t,n),Ts(t,n)),cs(t,n,r),us(t,n,i),gs(t,n,o),ds(t,n,s,a)}function Cs(t,e,n,r,i,o,s,a){const u=e<t.length;t.splice(e,0,1|i|(n?2:0),r,o,0),ds(t,e,a,s),u&&function(t,e){for(let n=e;n<t.length;n+=4){const e=os(ms(t,n));if(e>0){const r=is(ms(t,e));gs(t,e,ns((Xo(t,e)?1:0)|(ts(t,e)?2:0)|(es(t,e)?4:0),r,n))}}}(t,e+4)}function Es(t,e){return null!==t}function Os(t,e,n,r){let i,o=r&&r(e,null,1)?4:0;return n?(o|=2,i=As(t[4],e)):i=As(t[3],e),i=i>0?i+1:0,ns(o,i,0)}function Ss(t,e,n){const r=rs(t,e);return!r||Is(e,r,n)}function Is(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}class Ds{constructor(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}setValue(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)}buildPlayer(t,e){if(this._dirty){const n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}}}function Ts(t,e){return 65535&t[e+3]}function As(t,e){for(let n=2;n<t.length;n+=3)if(t[n]===e)return n;return-1}function xs(t,e){const n=t[2];return n[2*e+1]||n[1]||null}function Ns(t,e,n,r){return null==t||(null!=e?r<=n:n===r)}function ks(t){const e=t[4];let n=e[1];if(null===n){n="";for(let t=2;t<e.length;t+=3)e[t+1]&&(n+=(n.length?" ":"")+e[t]);e[1]=n}return n}function js(t,e,n){return t[e?6:7][1+4*n+2]||null}function Rs(t){return t.replace(/[a-z][A-Z]/g,t=>`${t.charAt(0)}-${t.charAt(1).toLowerCase()}`)}function Ps(t,e,n,r,i=0){const o=t[n?6:7];if(e>0){const t=1+4*e;for(;o.length<t;)o.push(0,r,null,0)}o.push(0,r,null,i)}function Fs(t,e,n,r,i){return null===t&&(t=e.length,e.push(null,null,null),e[t+0]=n),e[t+1]=r,e[t+2]=i,t}function Ms(t,e){const n=t.length,r=t.indexOf(e),i=r+e.length;return!(-1===r||r>0&&" "!==t[r-1]||i<n&&" "!==t[i])}function Ls(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Vs(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ji(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Ls(t,u,n)||""===u&&1===e.length){if(Us(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&t.stylingTemplate){if(!Ms(Bs(t),c)){if(Us(r))return!1;s=!0}continue}const l=qs(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(Us(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1];const e=8&r?t:null;if(e&&!Ms(e,c)||2&r&&c!==t){if(Us(r))return!1;s=!0}}}}else{if(!s&&!Us(r)&&!Us(u))return!1;if(s&&Us(u))continue;s=!1,r=u|1&r}}return Us(r)||s}function Us(t){return 0==(1&t)}function Bs(t){return t.stylingTemplate?ks(t.stylingTemplate):""}function qs(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Hs(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vs(t,e[r],n))return!0;return!1}function Gs(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}const zs={marker:"element"},Qs={marker:"comment"};let Ws;function Ks(t){$s(Yn(),t)}function $s(t,e){Vn(t,t[1],gr(),e),Tr(e)}const Ys=(()=>Promise.resolve(null))();function Zs(t){const e=t[1],n=dr(t);if(e.firstTemplatePass=!1,t[7]=e.bindingStartIndex,!n){const n=gr();Vn(t,e,n,void 0),function(t){for(let e=t[14];null!==e;e=e[4])if(-1===e[2]&&En(e))for(let t=9;t<e.length;t++){const n=e[t];ra(n,n[1],n[9])}}(t),Js(e,t),Fn(t),Un(t,e.contentHooks,e.contentCheckHooks,n,1,void 0),function(t,e){const n=Dr();try{if(t.expandoInstructions){let n=e[7]=t.expandoStartIndex;_r(n);let r=-1,i=-1;for(let o=0;o<t.expandoInstructions.length;o++){const s=t.expandoInstructions[o];"number"==typeof s?(s<=0?(i=-s,rr(i),n+=9+t.expandoInstructions[++o],r=n):n+=s,_r(n)):(null!==s&&(e[7]=n,s(2,wn(e[r]),i),ir()),r++)}}}finally{rr(n)}}(e,t)}n&&e.staticContentQueries&&Js(e,t),function(t){if(null!=t)for(let e=0;e<t.length;e++)Ta(t[e])}(e.components)}function Js(t,e){if(null!=t.contentQueries){Cr(0);for(let n=0;n<t.contentQueries.length;n++){const r=t.contentQueries[n];t.data[r].contentQueries(2,e[r],r)}}}function Xs(t,e){let n;const r=e||Yn()[12],i=Ar;return n=xi(r)?r.createElement(t,i):null===i?r.createElement(t):r.createElementNS(i,t),n}function ta(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Fn(l),l[3]=l[17]=t,l[9]=n,l[11]=s||t&&t[11],l[12]=a||t&&t[12],l[13]=u||t&&t[13]||null,l[10]=c||t&&t[10]||null,l[6]=o,l}function ea(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o,s){const a=ar(),u=lr(),c=u?a:a&&a.parent,l=t.data[n]=fa(c&&c!==e?c:null,r,n,i,o);return 0!==s&&t.firstChild||(t.firstChild=l),a&&(!u||null!=a.child||null===l.parent&&2!==a.type?u||(a.next=l):a.child=l),l}(t,e,s,r,i,o,n);return ur(a,!0),a}function na(t,e,n,r){let i=t.node;return null==i&&(t.node=i=fa(e,2,n,null,null)),r[6]=i}function ra(t,e,n){const r=lr(),i=ar();let o;if(512&t[2])ka(oo(t));else{let s=!1;try{ur(null,!0),o=Er(t,t[6]),Fn(t),oa(t,e.template,sa(t),n),t[1].firstTemplatePass=!1,Zs(t),s=!0}finally{Sr(o,s),ur(i,r)}}}function ia(t,e,n){const r=t[11],i=Er(t,t[6]),o=!gr(),s=dr(t);let a=!1;try{o&&!s&&r.begin&&r.begin(),s&&(n&&oa(t,n,1,e),Zs(t),t[2]&=-5),Fn(t),n&&oa(t,n,2,e),Zs(t),a=!0}finally{o&&!s&&r.end&&r.end(),Sr(i,a)}}function oa(t,e,n,r){kr();const i=Dr();try{rr(null),2&n&&$s(t,0),e(n,r)}finally{Tr(i)}}function sa(t){return dr(t)?1:2}function aa(t,e,n,r){if(t.firstTemplatePass&&!e.stylingTemplate){const t=Zi(n,r);t>=0&&(e.stylingTemplate=Lo(n,t))}}function ua(t,e,n){if(An(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ca(t,e,n,r=Sn){if(!zn)return;const i=ar();t.firstTemplatePass&&function(t,e,n,r,i){const o=i?{"":-1}:null;if(n){Ea(r,t.data.length,n.length);for(let t=0;t<n.length;t++){const e=n[t];e.providersResolver&&e.providersResolver(e)}va(t,r,n.length);const i=t.preOrderHooks&&t.preOrderHooks.length||0,s=t.preOrderCheckHooks&&t.preOrderCheckHooks.length||0,a=r.index-20;for(let r=0;r<n.length;r++){const u=n[r],c=t.data.length;Oa(t,e,u,u.factory),Ca(t.data.length-1,u,o),Mn(c,u,t,a,i,s)}}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(r,i,o)}(t,e,function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const t=r[o];Hs(n,t.selectors,!1)&&(i||(i=[]),po(co(ar(),e),e,t.type),Nn(t)?(1&n.flags&&xt(n),n.flags=1,i.unshift(t)):i.push(t))}return i}(t,e,i),i,n||null),function(t,e,n){const r=n.directiveStart,i=n.directiveEnd;!t.firstTemplatePass&&r<i&&co(n,e);for(let o=r;o<i;o++){const r=t.data[o];Nn(r)&&Sa(e,n,r),_a(e,bo(t.data,e,o,n),r,o)}}(t,e,i),function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstTemplatePass,a=n.index-20,u=Dr();try{rr(a);for(let a=r;a<i;a++){const r=t.data[a],i=e[a];r.hostBindings?(ya(r,o,i,n,s),ir()):s&&o.push(null)}}finally{rr(u)}}(t,e,i),function(t,e,n){const r=e.localNames;if(r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}(e,i,r),rr(null)}function la(t){return t.tView||(t.tView=ha(-1,t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas))}function ha(t,e,n,r,i,o,s,a){const u=20+n,c=u+r,l=function(t,e){const n=new Array(e).fill(null,0,t).fill(Ro,t);return n[7]=t,n}(u,c);return l[1]={id:t,blueprint:l,template:e,viewQuery:s,node:null,data:l.slice().fill(null,u),bindingStartIndex:u,viewQueryStartIndex:c,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a}}function da(t,e){const n=t.createRenderer(null,null);return"string"==typeof e?xi(n)?n.selectRootElement(e):n.querySelector(e):e}function fa(t,e,n,r,i){return{type:e,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:t,stylingTemplate:null,projection:null,onElementCreationFns:null,newStyles:null,newClasses:null}}function pa(t,e){const n=Yn()[1];let r=null;const i=t.directiveStart,o=t.directiveEnd;if(o>i){const t=0===e,s=n.data;for(let e=i;e<o;e++){const n=s[e],i=t?n.inputs:n.outputs;for(let t in i)if(i.hasOwnProperty(t)){r=r||{};const n=i[t];r.hasOwnProperty(t)?r[t].push(e,t,n):r[t]=[e,t,n]}}}return r}const ga={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function ma(t,e,n,r,i,o){const s=Yn(),a=On(t,s),u=In(t,s);let c,l;if(!i&&(c=Va(u))&&(l=c[e]))Ga(s,l,n),xn(u)&&function(t,e){const n=Tn(e,t);16&n[2]||(n[2]|=64)}(s,t+20);else if(3===u.type){!function(t,e,n,r,i){const o=e[7]-1,s=r[o];"�"==s[0]&&(r[o]=n+s,i||(-1==t.propertyMetadataStartIndex&&(t.propertyMetadataStartIndex=o),t.propertyMetadataEndIndex=o+1))}(u,s,e=ga[e]||e,s[1].data,i);const t=o?o(u,s):s[12];n=null!=r?r(n,u.tagName||"",e):n,xi(t)?t.setProperty(a,e,n):Gi(e)||(a.setProperty?a.setProperty(e,n):a[e]=n)}}function ya(t,e,n,r,i){const o=e.length;Wn(t),t.hostBindings(1,n,r.index-20),Wn(null),o===e.length&&i&&e.push(t.hostBindings)}function va(t,e,n){const r=-(e.index-20),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function _a(t,e,n,r){const i=ar();ba(t,i,e),i&&i.attrs&&function(t,e,n,r){let i=r.initialInputs;(void 0===i||t>=i.length)&&(i=function(t,e,n){const r=n.initialInputs||(n.initialInputs=[]);for(let s=r.length;s<=t;s++)r.push(null);const i=n.attrs;let o=0;for(;o<i.length;){const n=i[o];if(0===n){o+=4;continue}if(5===n){o+=2;continue}if("number"==typeof n)break;const s=e[n],a=i[o+1];void 0!==s&&(r[t]||(r[t]=[])).push(n,s,a),o+=2}return r}(t,n.inputs,r));const o=i[t];if(o){const t=n.setInput;for(let r=0;r<o.length;){const i=o[r++],s=o[r++],a=o[r++];t?n.setInput(e,a,i,s):e[s]=a}}}(r,e,n,i),t[1].firstTemplatePass&&n.contentQueries&&(i.flags|=4),Nn(n)&&(Tn(i.index,t)[9]=e)}function ba(t,e,n){const r=Sn(e,t);Pi(n,t),r&&Pi(r,t)}function wa(t){const e=Yn()[1];(e.components||(e.components=[])).push(t.index)}function Ca(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;e.template&&(n[""]=t)}}function Ea(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Oa(t,e,n,r){t.data.push(n);const i=new Ti(r,Nn(n),null);t.blueprint.push(i),e.push(i)}function Sa(t,e,n){const r=Sn(e,t),i=la(n),o=t[11],s=Aa(t,ta(t,i,null,n.onPush?64:16,t[e.index],e,o,o.createRenderer(r,n)));s[6]=e,t[e.index]=s,t[1].firstTemplatePass&&wa(e)}function Ia(t,e,n,r,i,o){const s=On(t,r),a=r[12];if(null==n)xi(a)?a.removeAttribute(s,e,o):s.removeAttribute(e);else{const u=In(t,r),c=null==i?fn(n):i(n,u.tagName||"",e);xi(a)?a.setAttribute(s,e,c,o):o?s.setAttributeNS(o,e,c):s.setAttribute(e,c)}}function Da(t,e,n,r,i){return new Array(t,!0,i?-1:0,e,null,null,r,n,null)}function Ta(t){const e=Yn(),n=Tn(t,e);(128==(128&n[2])||dr(e))&&80&n[2]&&(function(t){const e=t[1];for(let n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),Pa(n,n[9]))}function Aa(t,e){return t[14]?t[15][4]=e:t[14]=e,t[15]=e,e}function xa(t){for(;t;){t[2]|=64;const e=ro(t);if(kn(t)&&!e)return t;t=e}return null}function Na(t,e){const n=0===t.flags;if(t.flags|=e,n&&t.clean==Ys){let e;t.clean=new Promise(t=>e=t),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,ka(t)),2&t.flags){t.flags&=-3;const e=t.playerHandler;e&&e.flushPlayers()}t.clean=Ys,e(null)})}}function ka(t){for(let e=0;e<t.components.length;e++){const n=t.components[e];ia(Rn(n),n)}}function ja(t,e){const n=t[11];n.begin&&n.begin();try{dr(t)&&Pa(t,e),Pa(t,e)}catch(r){throw Ha(t,r),r}finally{n.end&&n.end()}}function Ra(t){ka(t[9])}function Pa(t,e){const n=t[1],r=Er(t,t[6]),i=n.template,o=dr(t);let s=!1;try{Fn(t),o&&Fa(1,n,e),oa(t,i,sa(t),e),Zs(t),o&&!n.staticViewQueries||Fa(2,n,e),s=!0}finally{Sr(r,s)}}function Fa(t,e,n){const r=e.viewQuery;r&&(Cr(e.viewQueryStartIndex),r(t,n))}function Ma(t,e="",n=""){const r=t[1].data,i=t[7]-1;return null==r[i]?r[i]="�"+e+"�"+n:null}const La=Ys;function Va(t){return void 0===t.inputs&&(t.inputs=pa(t,0)),t.inputs}function Ua(t){return t[8]||(t[8]=[])}function Ba(t){return t[1].cleanup||(t[1].cleanup=[])}function qa(t,e){return e[t.index][12]}function Ha(t,e){const n=t[10],r=n?n.get(Ao,null):null;r&&r.handleError(e)}function Ga(t,e,n){const r=t[1];for(let i=0;i<e.length;){const o=e[i++],s=e[i++],a=e[i++],u=t[o],c=r.data[o];c.setInput?c.setInput(u,n,s,a):u[a]=n}}function za(t,e,n){const r=On(e,t),i=t[12];xi(i)?i.setValue(r,n):r.textContent=n}function Qa(t){let e;if(e=t.onElementCreationFns){for(let t=0;t<e.length;t++)e[t]();t.onElementCreationFns=null}}function Wa(t){const e=Yn(),n=e[1];n.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,Qn,t),function(t,e,n){for(let r=0;r<n;r++)e.push(Ro),t.blueprint.push(Ro),t.data.push(null)}(n,e,t))}let Ka=null;function $a(){if(!Ka){const t=V.Symbol;if(t&&t.iterator)Ka=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ka=n)}}}return Ka}function Ya(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Za(t,e){const n=Xa(t),r=Xa(e);if(n&&r)return function(t,e,n){const r=t[$a()](),i=e[$a()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Za);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Ya(t,e)}}class Ja{constructor(t){this.wrapped=t}static wrap(t){return new Ja(t)}static unwrap(t){return Ja.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ja}}function Xa(t){return!!tu(t)&&(Array.isArray(t)||!(t instanceof Map)&&$a()in t)}function tu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eu(t,e,n){return t[e]=n}function nu(t,e){return t[e]}function ru(t,e,n){return i=n,((r=t[e])==r||i==i)&&r!==i&&(t[e]=n,!0);var r,i}function iu(t,e,n,r){const i=ru(t,e,n);return ru(t,e+1,r)||i}function ou(t,e,n,r,i){const o=iu(t,e,n,r);return ru(t,e+2,i)||o}function su(t,e,n,r,i,o){const s=iu(t,e,n,r);return iu(t,e+2,i,o)||s}function au(t,e,n,r){const i=Dr(),o=uu(Yn(),e);return o!==Ro&&ma(i,t,o,n,r),au}function uu(t,e){const n=t[7]++;return Ma(t),ru(t,n,e)?e:Ro}function cu(t,e,n,r){const i=Dr(),o=uu(Yn(),e);o!==Ro&&ma(i,t,o,n,r,qa)}function lu(t,e,n,r){const i=Dr(),o=Yn(),s=uu(o,e);return s!==Ro&&Ia(i,t,s,o,n,r),lu}function hu(t){let e=!1;const n=Yn(),r=n[1].data;let i=n[7];if(null==r[i]){for(let e=2;e<t.length;e+=2)r[i++]=t[e];i=n[7]}for(let s=1;s<t.length;s+=2)e=ru(n,i++,t[s])||e;if(n[7]=i,Ma(n,t[0],t[t.length-1]),!e)return Ro;let o=t[0];for(let s=1;s<t.length;s+=2)o+=fn(t[s])+t[s+1];return o}function du(t,e,n){const r=Yn(),i=ru(r,r[7]++,e);return Ma(r,t,n),i?t+fn(e)+n:Ro}function fu(t,e,n,r,i){const o=Yn(),s=o[7],a=iu(o,s,e,r);return o[7]+=2,Ma(o,t,i)&&(o[1].data[s]=n),a?t+fn(e)+n+fn(r)+i:Ro}function pu(t,e,n,r,i,o,s){const a=Yn(),u=a[7],c=ou(a,u,e,r,o);if(a[7]+=3,Ma(a,t,s)){const t=a[1].data;t[u]=n,t[u+1]=i}return c?t+fn(e)+n+fn(r)+i+fn(o)+s:Ro}function gu(t,e,n,r,i,o,s,a,u){const c=Yn(),l=c[7],h=su(c,l,e,r,o,a);if(c[7]+=4,Ma(c,t,u)){const t=c[1].data;t[l]=n,t[l+1]=i,t[l+2]=s}return h?t+fn(e)+n+fn(r)+i+fn(o)+s+fn(a)+u:Ro}function mu(t,e,n,r,i,o,s,a,u,c,l){const h=Yn(),d=h[7];let f=su(h,d,e,r,o,a);if(f=ru(h,d+4,c)||f,h[7]+=5,Ma(h,t,l)){const t=h[1].data;t[d]=n,t[d+1]=i,t[d+2]=s,t[d+3]=u}return f?t+fn(e)+n+fn(r)+i+fn(o)+s+fn(a)+u+fn(c)+l:Ro}function yu(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=Yn(),p=f[7];let g=su(f,p,e,r,o,a);if(g=iu(f,p+4,c,h)||g,f[7]+=6,Ma(f,t,d)){const t=f[1].data;t[p]=n,t[p+1]=i,t[p+2]=s,t[p+3]=u,t[p+4]=l}return g?t+fn(e)+n+fn(r)+i+fn(o)+s+fn(a)+u+fn(c)+l+fn(h)+d:Ro}function vu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=Yn(),m=g[7];let y=su(g,m,e,r,o,a);if(y=ou(g,m+4,c,h,f)||y,g[7]+=7,Ma(g,t,p)){const t=g[1].data;t[m]=n,t[m+1]=i,t[m+2]=s,t[m+3]=u,t[m+4]=l,t[m+5]=d}return y?t+fn(e)+n+fn(r)+i+fn(o)+s+fn(a)+u+fn(c)+l+fn(h)+d+fn(f)+p:Ro}function _u(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=Yn(),v=y[7];let _=su(y,v,e,r,o,a);if(_=su(y,v+4,c,h,f,g)||_,y[7]+=8,Ma(y,t,m)){const t=y[1].data;t[v]=n,t[v+1]=i,t[v+2]=s,t[v+3]=u,t[v+4]=l,t[v+5]=d,t[v+6]=p}return _?t+fn(e)+n+fn(r)+i+fn(o)+s+fn(a)+u+fn(c)+l+fn(h)+d+fn(f)+p+fn(g)+m:Ro}function bu(t,e,n,r,i,o){const s=Dr(),a=Yn(),u=du(e,n,r);return u!==Ro&&Ia(s,t,u,a,i,o),bu}function wu(t,e,n,r,i,o,s,a){const u=Dr(),c=Yn(),l=fu(e,n,r,i,o);return l!==Ro&&Ia(u,t,l,c,s,a),wu}function Cu(t,e,n,r,i,o,s,a,u,c){const l=Dr(),h=Yn(),d=pu(e,n,r,i,o,s,a);return d!==Ro&&Ia(l,t,d,h,u,c),Cu}function Eu(t,e,n,r,i,o,s,a,u,c,l,h){const d=Dr(),f=Yn(),p=gu(e,n,r,i,o,s,a,u,c);return p!==Ro&&Ia(d,t,p,f,l,h),Eu}function Ou(t,e,n,r,i,o,s,a,u,c,l,h,d,f){const p=Dr(),g=Yn(),m=mu(e,n,r,i,o,s,a,u,c,l,h);return m!==Ro&&Ia(p,t,m,g,d,f),Ou}function Su(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=Dr(),y=Yn(),v=yu(e,n,r,i,o,s,a,u,c,l,h,d,f);return v!==Ro&&Ia(m,t,v,y,p,g),Su}function Iu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=Dr(),_=Yn(),b=vu(e,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return b!==Ro&&Ia(v,t,b,_,m,y),Iu}function Du(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,_){const b=Dr(),w=Yn(),C=_u(e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return C!==Ro&&Ia(b,t,C,w,v,_),Du}function Tu(t,e,n,r){const i=Dr(),o=Yn(),s=hu(e);return s!==Ro&&Ia(i,t,s,o,n,r),Tu}function Au(t){ja(Ri(t),t)}function xu(t){Na(xa(Ri(t))[9],1)}function Nu(t,e){const n=e[3];return-1===t.index?En(n)?n:null:n}function ku(t,e){const n=Nu(t,e);return n?Gu(e[12],n[7]):null}function ju(t,e,n,r,i){let o,s=!1;En(r)?o=r:Cn(r)&&(s=!0,r=r[0]);const a=wn(r);0===t?qu(e,n,a,i||null):1===t?Wu(e,a,s):2===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==wn(n)&&ju(e,t,r,o,i);for(let s=9;s<n.length;s++)Zu(t,e,n[s],r,o)}(e,t,o,n,i)}function Ru(t,e){return xi(e)?e.createText(fn(t)):e.createTextNode(fn(t))}function Pu(t,e,n){const r=ku(t[1].node,t);r&&Zu(t[12],e?0:1,t,r,n)}function Fu(t,e,n){const r=9+n,i=e.length;n>0&&(e[r-1][4]=t),n<i-9?(t[4]=e[r],e.splice(9+n,0,t)):(e.push(t),t[4]=null),t[3]=e,t[5]&&t[5].insertView(n),t[2]|=128}function Mu(t,e){if(t.length<=9)return;const n=9+e,r=t[n];return r&&(e>0&&(t[n-1][4]=r[4]),t.splice(9+e,1),Pu(r,!1),128&r[2]&&!(256&r[2])&&r[5]&&r[5].removeView(),r[3]=null,r[4]=null,r[2]&=-129),r}function Lu(t,e){const n=Mu(t,e);n&&Vu(n)}function Vu(t){if(!(256&t[2])){const e=t[12];xi(e)&&e.destroyNode&&Zu(e,2,t,null,null),function(t){let e=t[14];if(!e)return Bu(t);for(;e;){let n=null;if(Cn(e))n=e[14];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Bu(e),e=Uu(e,t);Bu(e||t),n=e&&e[4]}e=n}}(t)}}function Uu(t,e){let n;return Cn(t)&&(n=t[6])&&2===n.type?Nu(n,t):t[3]===e?null:t[3]}function Bu(t){if(Cn(t)&&!(256&t[2])){t[2]&=-129,t[2]|=256,function(t){const e=t[1];let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];e instanceof Ti||n[r+1].call(e)}}(t),function(t){const e=t[1].cleanup;if(null!==e){const n=t[8];for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const i=e[r+1],o="function"==typeof i?i(t):wn(t[i]),s=n[e[r+2]],a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else e[r].call(n[e[r+1]]);t[8]=null}}(t);const e=t[6];e&&3===e.type&&xi(t[12])&&t[12].destroy(),Pn(t)&&t[5]&&t[5].removeView()}}function qu(t,e,n,r){xi(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Hu(t,e,n,r){null!==r?qu(t,e,n,r):function(t,e,n){xi(t)?t.appendChild(e,n):e.appendChild(n)}(t,e,n)}function Gu(t,e){return xi(t)?t.parentNode(e):e.parentNode}function zu(t,e,n){const r=function(t,e){if(kn(e))return Gu(e[12],Sn(t,e));const n=function(t){for(;null!=t.parent&&(4===t.parent.type||5===t.parent.type);)t=t.parent;return t}(t),r=n.parent;if(null==r){const t=e[6];return 2===t.type?ku(t,e):function(t){const e=t[6];return e&&3===e.type?Sn(e,ro(t)):null}(e)}{const t=n&&5===n.type;if(t&&2&n.flags)return Sn(n,e).parentNode;if(1&r.flags&&!t){const t=e[1].data,n=t[t[r.index].directiveStart].encapsulation;if(n!==Ve.ShadowDom&&n!==Ve.Native)return null}return Sn(r,e)}}(e,n);if(null!=r){const i=n[12],o=function(t,e){if(2===t.type){const n=Nu(t,e);return Qu(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Sn(t,e):null}(e.parent||n[6],n);if(Array.isArray(t))for(let e of t)Hu(i,r,e,o);else Hu(i,r,t,o)}}function Qu(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[6].child;return null!==r?Sn(r,t):e[7]}return e[7]}function Wu(t,e,n){const r=Gu(t,e);r&&function(t,e,n,r){xi(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Ku(t,e,n,r){const i=r[3];let o=r[6].projection[n];if(Array.isArray(o))zu(o,e,t);else for(;o;)32&o.flags||(1===o.type?Ku(t,e,o.projection,io(i)):(o.flags|=2,Yu(o,e,t,i))),o=o.projectionNext}function $u(t,e,n,r){for(;t;)Yu(t,e,n,r),t=t.next}function Yu(t,e,n,r){const i=Sn(t,r);zu(i,e,n),Pi(i,r);const o=r[t.index];if(0===t.type)for(let s=9;s<o.length;s++)Pu(o[s],!0,o[7]);else if(5===t.type){let e=t.child;$u(e,e,r,r)}else 4===t.type&&$u(t.child,e,n,r),En(o)&&zu(o[7],e,n)}function Zu(t,e,n,r,i){let o=n[1].node.child;for(;null!==o;)Ju(t,e,n,o,r,i),o=o.next}function Ju(t,e,n,r,i,o){const s=r.type;4===s?function(t,e,n,r,i,o){ju(e,t,i,n[r.index],o);let s=r.child;for(;s;)Ju(t,e,n,s,i,o),s=s.next}(t,e,n,r,i,o):1===s?function(t,e,n,r,i,o){const s=io(n),a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ju(e,t,i,a[u],o);else{let n=a;const r=s[3];for(;null!==n;)Ju(t,e,r,n,i,o),n=n.projectionNext}}(t,e,n,r,i,o):ju(e,t,i,n[r.index],o)}function Xu(t){const e=ic(t,null,null),n=Yn();n[1].firstTemplatePass&&(e.tViews=[]),rc(n,e),hr()}function tc(t,e,n,r,i,o,s,a){const u=Yn(),c=u[1],l=ic(t,i||null,o||null);c.firstTemplatePass&&(l.tViews=ha(-1,e,n,r,c.directiveRegistry,c.pipeRegistry,null,null)),ca(c,u,s,a),rc(u,l),Pi(Sn(l,u),u),Ln(c,l),hr()}function ec(t){const e=Yn(),n=e[1];ur(Dn(n.data,t),!0),e[t+20][2]=0,Vn(e,n,gr(),void 0)}function nc(){let t=ar();lr()?hr():(t=t.parent,ur(t,!1));const e=Yn()[t.index],n=e[2];for(;n<e.length-9;)Lu(e,n)}function rc(t,e){const n=t[5];if(n){const r=t[e.index];r[5]?n.insertNodeBeforeViews(e):(n.addNode(e),r[5]=n.container())}}function ic(t,e,n){const r=Yn(),i=t+20,o=r[t+20]=r[12].createComment(""),s=ea(r[1],r[6],t,0,e,n),a=r[i]=Da(r[i],r,o,s);return zu(o,s,r),Aa(r,a),s}function oc(t,e){const n=Yn(),r=n[1],i=t+20;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=e}function sc(t){return Dn(fr,t)}function ac(t){return Dn(Yn(),t)}function uc(t,e=w.Default){t=R(t);const n=Yn();return null==n?Z(t,e):mo(ar(),n,t,e)}function cc(t){return go(ar(),t)}function lc(t){!function(t){Ws=t}(t)}function hc(t,e,n){const r=ar();r.stylingTemplate||(r.stylingTemplate=Bi());const i=vc();i?(qi(r.stylingTemplate,i),(r.onElementCreationFns=r.onElementCreationFns||[]).push(()=>{dc(r,t,e,n,i),function(t,e){let n=t[8];n||(n=t[8]=[0]),n[0]=e}(r.stylingTemplate,i)})):dc(r,t,e,n,0)}function dc(t,e,n,r,i){!function(t,e,n,r,i){if(16&t[1])return;if(!function(t,e,n,r){const i=t[2],o=2*e;return!(o<i.length&&i[o+0]>=0||(qi(t,e,t[5].length,r),0))}(t,e,0,i))return;r&&(r=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(Rs(t[n]));return e}(r));const o=t[5],s=o[1],a=o[0],u=t[6],c=t[7],l=4*a;let h=10+l,d=h+4*s,f=d+l;const p=o.length;o.push(r?r.length:0,n?n.length:0);let g=0;const m=[];if(r&&r.length)for(let I=0;I<r.length;I++){const e=r[I];let n=Ho(t,e,10,h);-1==n&&(n=h+g,g+=4,m.push(e)),o.push(n)}const y=[];if(n&&n.length)for(let I=0;I<n.length;I++){const e=n[I];let r=Ho(t,e,h,d);-1==r?(r=d+g,g+=4,y.push(e)):r+=4*m.length,o.push(r)}let v=2;if(m.length)for(;v<p;){const t=o[v+0],e=o[v+1];if(e){const n=v+2+t;for(let t=n;t<n+e;t++)o[t]+=4*m.length}v+=2+(t+e)}const _=y.length+m.length;for(let I=10;I<t.length;I+=4){const e=I>=d,n=I>=(e?f:h),r=ms(t,I),i=is(r);let o=os(r);o+=e?n?4*m.length:0:4*_+4*(n?m.length:0),gs(t,I,ns(r,i,o))}for(let I=0;I<4*m.length;I++)t.splice(f,0,null),t.splice(h,0,null),h++,d++,f+=2;for(let I=0;I<4*y.length;I++)t.splice(d,0,null),t.push(null),d++,f++;const b=t[4],w=t[3];for(let I=0;I<_;I++){const n=I>=m.length,r=n?I-m.length:I,o=n?y[r]:m[r];let u,c;n?(u=f+4*(s+r),c=h+4*(s+r)):(u=d+4*(a+r),c=10+4*(a+r));let l=n?b:w,p=As(l,o);-1===p?p=Fs(null,l,o,!n&&null,e)+1:p+=1;const g=Os(t,o,n,i||null);gs(t,c,ns(g,p,u)),us(t,c,o),cs(t,c,null),ds(t,c,0,e),gs(t,u,ns(g,p,c)),us(t,u,o),cs(t,u,null),ds(t,u,0,e)}o[1]=s+y.length,o[0]=a+m.length,u[0]+=y.length,c[0]+=m.length;const C=4*m.length,E=4*y.length,O=c.length;Ps(t,e,!1,d+4*a,m.length);for(let I=1;I<O;I+=4)c[I+1]+=E+C;const S=u.length;Ps(t,e,!0,f+4*s,y.length);for(let I=1;I<S;I+=4)u[I+1]+=2*C+E;gs(t,1,ns(0,0,d))}(t.stylingTemplate,i,e,n,r)}function fc(t,e,n,r){const i=Dr(),o=function(t,e){let n=null;return null!==t&&(n=e?fn(t)+e:t),n}(e,n),s=_c(i,Yn()),a=vc();a?Po(s,a,Ko,[s,t,o,a,r]):Ko(s,t,o,0,r)}function pc(t,e,n){const r=Dr(),i=e instanceof Mo?e:function(t){return"boolean"==typeof t?t:!!t||null}(e),o=vc(),s=_c(r,Yn());o?Po(s,o,Wo,[s,t,i,o,n]):Wo(s,t,i,0,n)}function gc(t){const e=Dr(),n=Yn(),r=_c(e,n),i=vc();if(i)Po(r,i,zo,[r,t,i]);else{const i=In(e,n);if(Qi(i)&&t!==Ro){const e=ks(r),o=(e.length?e+" ":"")+function(t){let e="";if(t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];e+=(r?";":"")+`${i}:${t[i]}`}}return e}(t);Ga(n,i.inputs.style,o),t=Ro}zo(r,t)}}function mc(t){const e=Dr(),n=Yn(),r=_c(e,n),i=vc();if(i)Po(r,i,Go,[r,t,i]);else{const i=In(e,n);if(zi(i)&&t!==Ro){const e=ks(r),o=(e.length?e+" ":"")+function(t){return t&&"string"!=typeof t&&(t=Object.keys(t).join(" ")),t||""}(t);Ga(n,i.inputs.class,o),t=Ro}Go(r,t)}}function yc(){const t=Dr(),e=vc()||0,n=Yn(),r=3===In(t,n).type?n[12]:null,i=0!=(8&n[2]);(function(t,e,n,r,i,o,s=0){let a=0;if(function(t,e){const n=t[8];return!n||n[0]===e}(t,s)&&(function(t){const e=t[8];if(e){for(let t=1;t<e.length;t+=3)e[t+1].apply(this,e[t+2]);e.length=1}}(t),function(t){return Xo(t,1)}(t))){const s=t[0],u=8&t[1],c=as(t);for(let n=10;n<t.length;n+=4)if(Xo(t,n)){const a=ms(t,n),u=Ts(t,n),l=vs(t,n),h=ys(t,n),d=4&a?xs(t,u):null,f=ps(t,n),p=!!(2&a);let g=h;n<c&&!Es(g)&&(g=ys(t,os(a))),Es(g)||(g=rs(t,a)),e&&(!r||g)&&(p?Zo(s,l,!!g,e,i,f):Yo(s,l,g,e,d,o,f)),Jo(t,n,!1)}if(u){const e=Array.isArray(n)?oo(n):n,i=Ki(t),o=i[0];for(let t=1;t<o;t+=2){const n=i[t],o=t+1,u=i[o];if(n){const t=n.buildPlayer(u,r);void 0!==t&&(null!=t&&Wi(i,e,s,t,o)&&a++,u&&u.destroy())}else u&&u.destroy()}bs(t,!1)}_s(t,!1)}return a})(_c(t,n),r,n,i,null,null,e)>0&&Na(oo(n),2),Gn(null)}function vc(){return tr+er}function _c(t,e){let n=Hn;return n||(n=Hi(t+20,e),Gn(n)),n}function bc(t,e,n,r){const i=Yn(),o=i[1],s=i[t+20]=Xs(e),a=i[12],u=ea(o,i[6],t,3,e,n||null);let c=0,l=0,h=-1;if(n){h=Yi(s,n),aa(o,u,n,h);const t=u.stylingTemplate;t&&(c=qo(s,t,a),l=Bo(s,t,a))}if(zu(s,u,i),ca(o,i,r),0===qn&&Pi(s,i),qn++,o.firstTemplatePass){const t=Va(u);t&&t.hasOwnProperty("class")&&(u.flags|=8),t&&t.hasOwnProperty("style")&&(u.flags|=16)}u.stylingTemplate&&(Bo(s,u.stylingTemplate,a,l),qo(s,u.stylingTemplate,a,c));const d=i[5];d&&(d.addNode(u),i[5]=d.clone(u)),ua(o,u,i)}function wc(){let t=ar();lr()?hr():(t=t.parent,ur(t,!1)),t.onElementCreationFns&&Qa(t);const e=Yn(),n=e[5];n&&t.index===n.nodeIndex&&(e[5]=n.parent),Ln(e[1],t),qn--;let r=null;zi(t)&&(r=Hi(t.index,e),Ga(e,t.inputs.class,ks(r))),Qi(t)&&(r=r||Hi(t.index,e),Ga(e,t.inputs.style,function(t){const e=t[3];let n=e[1];if(null===n){n="";for(let t=2;t<e.length;t+=3){const r=e[t+1];null!==r&&(n+=(n.length?";":"")+`${e[t]}:${r}`)}e[1]=n}return n}(r)))}function Cc(t,e,n,r){bc(t,e,n,r),wc()}function Ec(t){const e=Dr(),n=Yn(),r=In(e,n);if(3===r.type){const e=Zi(t,Yi(Sn(r,n),t));if(e>=0){const n=vc();r.stylingTemplate?Vo(r.stylingTemplate,t,e,n):r.stylingTemplate=Lo(t,e,n)}}}function Oc(t,e,n){const r=Yn(),i=r[1],o=r[t+20]=r[12].createComment(""),s=ea(i,r[6],t,4,"ng-container",e||null);e&&aa(i,s,e,0),zu(o,s,r),ca(i,r,n),Pi(o,r);const a=r[5];a&&(a.addNode(s),r[5]=a.clone(s)),ua(i,s,r)}function Sc(){let t=ar();const e=Yn(),n=e[1];lr()?hr():(t=t.parent,ur(t,!1));const r=e[5];r&&t.index===r.nodeIndex&&(e[5]=r.parent),t.onElementCreationFns&&Qa(t),Ln(n,t)}function Ic(t,e,n){const r=Yn(),i=ar(),o=2===i.type?i.parent:i,s=r[o.index];let a=function(t,e,n){for(let r=e+9;r<t.length;r++){const e=t[r][1].id;if(e===n)return t[r];if(!(e<n))break;Lu(t,r-9)}return null}(s,s[2],t);if(a)Jn=!0,Er(a,a[1].node);else{a=ta(r,function(t,e,n,r){const i=Yn()[1],o=r.tViews;return(t>=o.length||null==o[t])&&(o[t]=ha(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null,null)),o[t]}(t,e,n,o),null,16,null,null),s[5]&&(a[5]=s[5].createView());const u=lr()?i:i&&i.parent;na(a[1],u,t,a),Er(a,a[1].node)}return s&&(dr(a)&&Fu(a,s,s[2]),s[2]++),dr(a)?3:2}function Dc(){const t=Yn(),e=t[6];dr(t)&&(Zs(t),t[2]&=-5),Fn(t),Zs(t),Sr(t[3][3],!0),ur(e,!1)}function Tc(){return Yn()}function Ac(t){return!!t&&"function"==typeof t.then}function xc(t){return!!t&&"function"==typeof t.subscribe}function Nc(t,e,n=!1,r){jc(t,e,n,r)}function kc(t,e,n=!1,r){jc(t,e,n,r,qa)}function jc(t,e,n=!1,r,i){const o=Yn(),s=ar(),a=o[1],u=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[]));let c=!0;if(3===s.type){const a=Sn(s,o),l=r?r(a):Be,h=l.target||a,d=i?i(s,o):o[12],f=Ua(o),p=f.length,g=r?t=>r(wn(t[s.index])).target:s.index;if(xi(d)){let n=null;if(!r&&function(t){return t.directiveEnd>t.directiveStart}(s)&&(n=function(t,e,n){const r=t[1].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===e&&r[i+1]===n){const e=t[8],n=r[i+2];return e.length>n?e[n]:null}"string"==typeof o&&(i+=2)}return null}(o,t,s.index)),null!==n)e.__ngNextListenerFn__=n.__ngNextListenerFn__,n.__ngNextListenerFn__=e,c=!1;else{e=Pc(s,o,e,!1);const n=d.listen(l.name||h,t,e);f.push(e,n),u&&u.push(t,g,p,p+1)}}else e=Pc(s,o,e,!0),h.addEventListener(t,e,n),f.push(e),u&&u.push(t,g,p,n)}void 0===s.outputs&&(s.outputs=pa(s,1));const l=s.outputs;let h;if(c&&l&&(h=l[t])){const n=h.length;if(n){const r=Ua(o);for(let i=0;i<n;i+=3){const n=o[h[i]][h[i+2]].subscribe(e),a=r.length;r.push(e,n),u&&u.push(t,s.index,a,-(a+1))}}}}function Rc(t,e,n){try{return!1!==e(n)}catch(r){return Ha(t,r),!1}}function Pc(t,e,n,r){return function i(o){const s=1&t.flags?Tn(t.index,e):e;0==(32&e[2])&&xa(s);let a=Rc(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Rc(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Fc(t=1){return Or(t)}function Mc(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Hs(t,o,!0):Gs(r,o))return i}else n=i}return n}function Lc(t){const e=io(Yn())[6];if(!e.projection){const n=e.projection=new Array(t?t.length:1).fill(null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Mc(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Vc=!1;function Uc(t){Vc=t}function Bc(t,e=0,n){const r=Yn(),i=ea(r[1],r[6],t,1,null,n||null);null===i.projection&&(i.projection=e),hr(),Vc||Ku(r,i,e,io(r))}function qc(t,e,n){return Hc(t,"",e,"",n),qc}function Hc(t,e,n,r,i){const o=Dr(),s=du(e,n,r);return s!==Ro&&ma(o,t,s,i),Hc}function Gc(t,e,n,r,i,o,s){const a=Dr(),u=fu(e,n,r,i,o);return u!==Ro&&ma(a,t,u,s),Gc}function zc(t,e,n,r,i,o,s,a,u){const c=Dr(),l=pu(e,n,r,i,o,s,a);return l!==Ro&&ma(c,t,l,u),zc}function Qc(t,e,n,r,i,o,s,a,u,c,l){const h=Dr(),d=gu(e,n,r,i,o,s,a,u,c);return d!==Ro&&ma(h,t,d,l),Qc}function Wc(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=Dr(),p=mu(e,n,r,i,o,s,a,u,c,l,h);return p!==Ro&&ma(f,t,p,d),Wc}function Kc(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=Dr(),m=yu(e,n,r,i,o,s,a,u,c,l,h,d,f);return m!==Ro&&ma(g,t,m,p),Kc}function $c(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=Dr(),v=vu(e,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return v!==Ro&&ma(y,t,v,m),$c}function Yc(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){const _=Dr(),b=_u(e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return b!==Ro&&ma(_,t,b,v),Yc}function Zc(t,e,n){const r=Dr(),i=hu(e);return i!==Ro&&ma(r,t,i,n),Zc}function Jc(t,e){const n=Yn(),r=n[t+20]=Ru(e,n[12]),i=ea(n[1],n[6],t,3,null,null);hr(),zu(r,i,n)}function Xc(t){const e=Yn(),n=Dr(),r=uu(e,t);r!==Ro&&za(e,n,fn(r))}function tl(t){return el("",t,""),tl}function el(t,e,n){const r=Dr(),i=Yn(),o=du(t,e,n);return o!==Ro&&za(i,r,o),el}function nl(t,e,n,r,i){const o=Dr(),s=Yn(),a=fu(t,e,n,r,i);return a!==Ro&&za(s,o,a),nl}function rl(t,e,n,r,i,o,s){const a=Dr(),u=Yn(),c=pu(t,e,n,r,i,o,s);return c!==Ro&&za(u,a,c),rl}function il(t,e,n,r,i,o,s,a,u){const c=Dr(),l=Yn(),h=gu(t,e,n,r,i,o,s,a,u);return h!==Ro&&za(l,c,h),il}function ol(t,e,n,r,i,o,s,a,u,c,l){const h=Dr(),d=Yn(),f=mu(t,e,n,r,i,o,s,a,u,c,l);return f!==Ro&&za(d,h,f),ol}function sl(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=Dr(),p=Yn(),g=yu(t,e,n,r,i,o,s,a,u,c,l,h,d);return g!==Ro&&za(p,f,g),sl}function al(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=Dr(),m=Yn(),y=vu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p);return y!==Ro&&za(m,g,y),al}function ul(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=Dr(),v=Yn(),_=_u(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m);return _!==Ro&&za(v,y,_),ul}function cl(t){const e=Dr(),n=Yn(),r=hu(t);return r!==Ro&&za(n,e,r),cl}function ll(t,e){const n=ki(t);if(!n)return;const r=n.native,i=n.lView,o=function(t,e){if(!(e=e||ki(t)))return null;const{lView:n,nodeIndex:r}=e,i=Hi(r,n);return Ki(i)||$i(i)}(r,n),s=oo(i);Wi(o,s,r,e,0,t),Na(s,2)}function hl(t){const e=ki(t);if(!e)return[];const n=Hi(e.nodeIndex,e.lView),r=n?Ki(n):null;return r?function(t){const e=[],n=t[0];for(let r=2;r<n;r+=2){const n=t[r];n&&e.push(n)}for(let r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}function dl(t){const e=bl(t);return void 0===e.component&&(e.component=function(t,e){const n=e[1].data[t];return 1&n.flags?e[n.directiveStart]:null}(e.nodeIndex,e.lView)),e.component}function fl(t){return bl(t).lView[9]}function pl(t){let e,n=vl(t).lView;for(;null===n[0]&&(e=ro(n));)n=e;return 512&n[2]?null:n[9]}function gl(t){return[...oo(t).components]}function ml(t){const e=vl(t);return new Eo(e.lView[1].data[e.nodeIndex],e.lView)}function yl(t){const e=vl(t);return void 0===e.directives&&(e.directives=Vi(e.nodeIndex,e.lView,!1)),e.directives||[]}function vl(t,e=!0){const n=ki(t);if(!n&&e)throw new Error("Invalid ng target");return n}function _l(t){return ki(t).native}function bl(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return vl(t)}function wl(t){return"boolean"==typeof t.useCapture}function Cl(t){const e=bl(t).lView,n=e[8],r=e[1].cleanup,i=[];if(r&&n)for(let o=0;o<r.length;){const s=r[o++],a=r[o++];if("string"==typeof s){const u=s,c=wn(e[a]),l=n[r[o++]],h=r[o++],d="boolean"==typeof h?h:!(h>=0)&&null;t==c&&i.push({element:t,name:u,callback:l,useCapture:d})}}return i.sort(El),i}function El(t,e){return t.name==e.name?0:t.name<e.name?-1:1}let Ol=!1;function Sl(){Ol||(Ol=!0,Il("getComponent",dl),Il("getContext",fl),Il("getListeners",Cl),Il("getViewComponent",pl),Il("getHostElement",_l),Il("getInjector",ml),Il("getRootComponents",gl),Il("getDirectives",yl),Il("getPlayers",hl),Il("markDirty",xu))}function Il(t,e){if(V){let n=V.ng;n||(n=V.ng={}),n[t]=e}}function Dl(t,e={}){rr(null);const n=e.rendererFactory||Ni,r=e.sanitizer||null,i=un(t);i.type!=t&&(i.type=t);const o=da(n,e.host||i.selectors[0][0]),s=i.onPush?576:528,a=xl(e.scheduler,e.playerHandler),u=n.createRenderer(o,i),c=ta(null,ha(-1,null,1,0,null,null,null,null),a,s,null,null,n,u,void 0,e.injector||null),l=Er(c,null);let h,d=!1;try{n.begin&&n.begin();const t=Tl(o,i,c,n,u,r);h=Al(t,i,c,a,e.hostFeatures||null),Aa(c,t),Zs(c),c[2]&=-5,Fn(c),Zs(c),d=!0}finally{Sr(l,d),n.end&&n.end()}return h}function Tl(t,e,n,r,i,o){Jn=!1,Zn=null,qn=0,zn=!0;const s=n[1];n[20]=t;const a=ea(s,null,0,3,null,null),u=ta(n,la(e),null,e.onPush?64:16,n[20],a,r,i,o);return s.firstTemplatePass&&(po(co(a,n),n,e.type),a.flags=1,Ea(a,n.length,1),wa(a)),n[20]=u}function Al(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ar();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),va(t,r,1),Oa(t,e,n,n.factory));const i=bo(t.data,e,e.length-1,r);return ba(e,r,i),i}(o,n,e);r.components.push(s),t[9]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ar();if(o.firstTemplatePass&&e.hostBindings&&(rr(a.index-20),ya(e,o.expandoInstructions,s,a,o.firstTemplatePass),a.onElementCreationFns&&Qa(a),rr(null)),a.stylingTemplate){const e=t[0];Bo(e,a.stylingTemplate,t[12]),qo(e,a.stylingTemplate,t[12])}return s}function xl(t,e){return{components:[],scheduler:t||gn,clean:La,playerHandler:e||null,flags:0}}function Nl(t,e){const n=Rn(t)[1],r=n.data.length-1;Mn(r,e,n,-1,-1,-1),Ln(n,{directiveStart:r,directiveEnd:r+1})}function kl(t){return oo(t).clean}class jl{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Rl(){return Pl.ngInherit=!0,Pl}function Pl(t){t.type.prototype.ngOnChanges&&(t.setInput=Fl,t.onChanges=function(){const t=Ml(this),e=t&&t.current;if(e){const n=t.previous;if(n===Be)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Fl(t,e,n,r){const i=Ml(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Be,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new jl(u&&u.currentValue,e,s===Be),t[r]=e}function Ml(t){return t.__ngSimpleChanges__||null}function Ll(t){let e=Object.getPrototypeOf(t.type.prototype).constructor;for(;e;){let n=void 0;if(Nn(t))n=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");n=e.ngDirectiveDef}const r=e.ngBaseDef;if(r||n){const e=t;e.inputs=Vl(t.inputs),e.declaredInputs=Vl(t.declaredInputs),e.outputs=Vl(t.outputs)}if(r){const e=r.viewQuery,n=r.contentQueries,i=r.hostBindings;i&&ql(t,i),e&&Ul(t,e),n&&Bl(t,n),E(t.inputs,r.inputs),E(t.declaredInputs,r.declaredInputs),E(t.outputs,r.outputs)}if(n){const e=n.hostBindings;e&&ql(t,e);const r=n.viewQuery,i=n.contentQueries;r&&Ul(t,r),i&&Bl(t,i),E(t.inputs,n.inputs),E(t.declaredInputs,n.declaredInputs),E(t.outputs,n.outputs),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;const o=n.features;if(o)for(const n of o)n&&n.ngInherit&&n(t)}else{const n=e.prototype;n&&(t.afterContentChecked=t.afterContentChecked||n.ngAfterContentChecked,t.afterContentInit=t.afterContentInit||n.ngAfterContentInit,t.afterViewChecked=t.afterViewChecked||n.ngAfterViewChecked,t.afterViewInit=t.afterViewInit||n.ngAfterViewInit,t.doCheck=t.doCheck||n.ngDoCheck,t.onDestroy=t.onDestroy||n.ngOnDestroy,t.onInit=t.onInit||n.ngOnInit,n.ngOnChanges&&Rl()(t))}e=Object.getPrototypeOf(e)}}function Vl(t){return t===Be?{}:t===qe?[]:t}function Ul(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Bl(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ql(t,e){const n=t.hostBindings;e!==n&&(t.hostBindings=n?(t,r,i)=>{or(1);try{e(t,r,i)}finally{or(-1)}n(t,r,i)}:e)}function Hl(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let o=0;o<t.length;o++)Hl(t[o],e,n,r,i);else{const o=Yn();let s=zt(t)?t:R(t.provide),a=Bt(t);const u=ar(),c=65535&u.providerIndexes,l=u.directiveStart,h=u.providerIndexes>>16;if(t.useClass||zt(t)){const n=(t.useClass||t).prototype.ngOnDestroy;if(n){const t=o[1];(t.destroyHooks||(t.destroyHooks=[])).push(e.length,n)}}if(zt(t)||!t.multi){const t=new Ti(a,i,uc),r=zl(s,e,i?c:c+h,l);-1==r?(po(co(u,o),o,s),e.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)):(n[r]=t,o[r]=t)}else{const t=zl(s,e,c+h,l),d=zl(s,e,c,c+h),f=t>=0&&n[t],p=d>=0&&n[d];if(i&&!p||!i&&!f){po(co(u,o),o,s);const t=function(t,e,n,r,i){const o=new Ti(t,n,uc);return o.multi=[],o.index=e,o.componentProviders=0,Gl(o,i,r&&!n),o}(i?Wl:Ql,n.length,i,r,a);!i&&p&&(n[d].providerFactory=t),e.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)}else Gl(n[i?d:t],a,!i&&r);!i&&r&&p&&n[d].componentProviders++}}}function Gl(t,e,n){t.multi.push(e),n&&t.componentProviders++}function zl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ql(t,e,n,r){return Kl(this.multi,[])}function Wl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,s=bo(e,n,this.providerFactory.index,r);o=s.slice(0,t),Kl(i,o);for(let e=t;e<s.length;e++)o.push(s[e])}else o=[],Kl(i,o);return o}function Kl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $l(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yn()[1];if(r.firstTemplatePass){const i=Nn(t);Hl(n,r.data,r.blueprint,i,!0),Hl(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Yl{}class Zl{}function Jl(t){const e=Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`);return e[Xl]=t,e}const Xl="ngComponent";class th{resolveComponentFactory(t){throw Jl(t)}}let eh,nh,rh,ih=(()=>{class t{}return t.NULL=new th,t})();class oh{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Jl(t);return new sh(e,this._ngModule)}}class sh extends Zl{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class ah{}class uh{}class ch{constructor(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}get rootNodes(){return null==this._lView[0]?function t(e,n,r){let i=n.child;for(;i;){const n=Sn(i,e);if(n&&r.push(n),4===i.type)t(e,i,r);else if(1===i.type){const t=io(e),n=t[6],o=ro(t);let s=n.projection[i.projection];for(;s&&o;)r.push(Sn(s,o)),s=s.next}i=i.next}return r}(this._lView,this._lView[6],[]):[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vu(this._lView)}onDestroy(t){var e,n;n=t,Ua(e=this._lView).push(n),e[1].firstTemplatePass&&Ba(e).push(e[8].length-1,null)}markForCheck(){xa(this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ja(this._lView,this.context)}checkNoChanges(){!function(t,e){mr(!0);try{ja(t,e)}finally{mr(!1)}}(this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){this._appRef=null,function(t){Zu(t[12],1,t,null,null)}(this._lView)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}_lookUpContext(){return this._context=ro(this._lView)[this._componentIndex]}}class lh extends ch{constructor(t){super(t,null,-1),this._view=t}detectChanges(){Ra(this._view)}checkNoChanges(){!function(t){mr(!0);try{Ra(t)}finally{mr(!1)}}(this._view)}get context(){return null}}function hh(t,e,n){return eh||(eh=class extends t{}),new eh(Sn(e,n))}function dh(t,e,n,r){if(nh||(nh=class extends t{constructor(t,e,n,r,i){super(),this._declarationParentView=t,this.elementRef=e,this._tView=n,this._hostLContainer=r,this._injectorIndex=i}createEmbeddedView(t,e,n){const r=this._declarationParentView[5];r&&null==this._hostLContainer[5]&&(this._hostLContainer[5]=r.container());const i=function(t,e,n,r,i){const o=lr(),s=ar();ur(null,!0);const a=ta(n,t,e,16,null,null);return a[17]=n,r&&(a[5]=r.createView()),na(t,null,-1,a),t.firstTemplatePass&&(t.node.injectorIndex=i),ur(s,o),a}(this._tView,t,this._declarationParentView,this._hostLContainer[5],this._injectorIndex);e&&Fu(i,e,n),ra(i,this._tView,t);const o=new ch(i,t,-1);return o._tViewNode=i[6],o}}),0===n.type){const t=r[n.index];return new nh(r,hh(e,n,r),n.tViews,t,n.injectorIndex)}return null}function fh(t,e,n){if(xn(t)){const r=t.directiveStart,i=Tn(t.index,e);return new ch(i,n,r)}if(3===t.type||0===t.type||4===t.type){const t=io(e);return new ch(t,t[9],-1)}return null}function ph(...t){}let gh=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>yh(t),t})();const mh=function(t){return hh(t,ar(),Yn())},yh=ph;class vh{constructor(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}class _h{}class bh{}class wh{}class Ch{}const Eh=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Oh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ih(),t})();const Sh=function(){const t=Yn(),e=Tn(ar().index,t);return function(t){const e=t[12];if(xi(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Cn(e)?e:t)},Ih=ph;class Dh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Th=new Dh("8.1.3");class Ah{constructor(){}supports(t){return Xa(t)}create(t){return new Nh(t)}}const xh=(t,e)=>e;class Nh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ph(n,r,i)?e:n,s=Ph(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xa(t))throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ya(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Ya(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$a()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ya(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Ya(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ya(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ya(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new kh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ya(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Rh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new jh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ph(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Fh{constructor(){}supports(t){return t instanceof Map||tu(t)}create(){return new Mh}}class Mh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tu(t)))throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ya(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Vh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new v,new m]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=O({token:t,providedIn:"root",factory:()=>new t([new Ah])}),t})(),Uh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new v,new m]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=O({token:t,providedIn:"root",factory:()=>new t([new Fh])}),t})(),Bh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Hh(),t})();const qh=function(){return fh(ar(),Yn(),null)},Hh=(...t)=>{},Gh=[new Fh],zh=new Vh([new Ah]),Qh=new Uh(Gh);let Wh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$h(t,gh),t})();const Kh=function(t,e){return dh(t,e,ar(),Yn())},$h=ph;let Yh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Jh(t,gh),t})();const Zh=function(t,e){return function(t,e,n,r){let i;rh||(rh=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return hh(e,this._hostTNode,this._hostView)}get injector(){return new Eo(this._hostTNode,this._hostView)}get parentInjector(){const t=fo(this._hostTNode,this._hostView),e=no(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.injectorIndex;)e=e.parent;return e}let r=eo(t),i=e,o=e[6];for(;r>1;)i=i[17],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Xi(t)&&null!=n?new Eo(n,e):new Eo(null,this._hostView)}clear(){for(;this.length;)this.remove(0)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){const t=this._lContainer.length-9;return t>0?t:0}createEmbeddedView(t,e,n){this.allocateContainerIfNeeded();const r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainer,r);return i.attachToViewContainerRef(this),this._lContainer[8].splice(r,0,i),i}createComponent(t,e,n,r,i){const o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(ah,null));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();const n=t._lView,r=this._adjustIndex(e);return Pn(n)?this.move(t,r):(Fu(n,this._lContainer,r),Pu(n,!0,Qu(r,this._lContainer)),t.attachToViewContainerRef(this),this._lContainer[8].splice(r,0,t),t)}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(t);return-1!==n&&this.detach(n),this.insert(t,e),t}indexOf(t){return null!==this._lContainer[8]?this._lContainer[8].indexOf(t):0}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);Lu(this._lContainer,e),this._lContainer[8].splice(e,1)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Mu(this._lContainer,e);return n&&null!=this._lContainer[8].splice(e,1)[0]?new ch(n,n[9],-1):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(En(o))i=o,i[2]=-1;else{let t;if(t=4===n.type?wn(o):r[12].createComment(""),kn(r)){const e=r[12],i=Sn(n,r);qu(e,Gu(e,i),t,function(t,e){return xi(t)?t.nextSibling(e):e.nextSibling}(e,i))}else zu(t,n,r);r[n.index]=i=Da(o,r,t,n,!0),Aa(r,i)}return new rh(i,n,r)}(t,e,ar(),Yn())},Jh=ph;function Xh(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return td(n,e),n}(i,t)}function td(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function ed(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function nd(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function rd(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function id(t,e){return t.nodes[e]}function od(t,e){return t.nodes[e]}function sd(t,e){return t.nodes[e]}function ad(t,e){return t.nodes[e]}function ud(t,e){return t.nodes[e]}class cd{}const ld={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},hd=()=>{},dd=new Map;function fd(t){let e=dd.get(t);return e||(e=N(t)+"_"+dd.size,dd.set(t,e)),e}function pd(t,e,n,r){if(Ja.isWrapped(r)){r=Ja.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Ja.unwrap(t.oldValues[i]);t.oldValues[i]=new Ja(o)}return r}function gd(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let md=0;function yd(t,e,n,r){return!(!(2&t.state)&&Ya(t.oldValues[e.bindingIndex+n],r))}function vd(t,e,n,r){return!!yd(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function _d(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Za(i,r)){const o=e.bindings[n].name;throw Xh(ld.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function bd(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function wd(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Cd(t,e,n,r){try{return bd(33554432&t.def.nodes[e].flags?od(t,e).componentView:t),ld.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ed(t){return t.parent?od(t.parent,t.parentNodeDef.nodeIndex):null}function Od(t){return t.parent?t.parentNodeDef.parent:null}function Sd(t,e){switch(201347067&e.flags){case 1:return od(t,e.nodeIndex).renderElement;case 2:return id(t,e.nodeIndex).renderText}}function Id(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Dd(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Td(t){return 1<<t%32}function Ad(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Td(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function xd(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:fd(n)}})}function Nd(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ve.Native?od(t,n.renderParent.nodeIndex).renderElement:void 0:e}const kd=new WeakMap;function jd(t){let e=kd.get(t);return e||(e=t(()=>hd),e.factory=t,kd.set(t,e)),e}function Rd(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Sd(t,t.def.lastRenderRootNode))),Pd(t,e,0,t.def.nodes.length-1,n,r,i)}function Pd(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Md(t,n,e,i,o,s),a+=n.childCount}}function Fd(t,e,n,r,i,o){let s=t;for(;s&&!Id(s);)s=s.parent;const a=s.parent,u=Od(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const t=a.def.nodes[l];t.ngContentIndex===e&&Md(a,t,n,r,i,o),l+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Ld(t,s[e],n,r,i,o)}}function Md(t,e,n,r,i,o){if(8&e.flags)Fd(t,e.ngContent.index,n,r,i,o);else{const s=Sd(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ld(t,s,n,r,i,o),32&e.bindingFlags&&Ld(od(t,e.nodeIndex).componentView,s,n,r,i,o)):Ld(t,s,n,r,i,o),16777216&e.flags){const s=od(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Rd(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Pd(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Ld(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Vd=/^:([^:]+):(.+)$/;function Ud(t){if(":"===t[0]){const e=t.match(Vd);return[e[1],e[2]]}return["",t]}function Bd(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function qd(t,e){let n="";for(let r=0;r<2*t;r+=2)n=n+e[r]+Gd(e[r+1]);return n+e[2*t]}function Hd(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,_){switch(t){case 1:return e+Gd(n)+r;case 2:return e+Gd(n)+r+Gd(i)+o;case 3:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a;case 4:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c;case 5:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c+Gd(l)+h;case 6:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c+Gd(l)+h+Gd(d)+f;case 7:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c+Gd(l)+h+Gd(d)+f+Gd(p)+g;case 8:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c+Gd(l)+h+Gd(d)+f+Gd(p)+g+Gd(m)+y;case 9:return e+Gd(n)+r+Gd(i)+o+Gd(s)+a+Gd(u)+c+Gd(l)+h+Gd(d)+f+Gd(p)+g+Gd(m)+y+Gd(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Gd(t){return null!=t?t.toString():""}const zd=[],Qd={},Wd=new Object,Kd=fd(Kt),$d=fd(q),Yd=fd(ah);function Zd(t,e,n,r){return n=R(n),{index:-1,deps:xd(r,N(e)),flags:t,token:e,value:n}}function Jd(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===kt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[fd(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Xd(t,e,n=Kt.THROW_IF_NOT_FOUND){const r=K(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Kd:case $d:case Yd:return t}const a=t._def.providersByKey[s];let u;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=tf(t,a)),e===Wd?void 0:e}if((u=D(e.token))&&(i=t,null!=(o=u).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=Wd,t._providers[n]=tf(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{K(r)}var i,o}function tf(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Xd(t,n[0]));case 2:return new e(Xd(t,n[0]),Xd(t,n[1]));case 3:return new e(Xd(t,n[0]),Xd(t,n[1]),Xd(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Xd(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Xd(t,n[0]));case 2:return e(Xd(t,n[0]),Xd(t,n[1]));case 3:return e(Xd(t,n[0]),Xd(t,n[1]),Xd(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Xd(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Xd(t,e.deps[0]);break;case 256:n=e.value}return n===Wd||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Wd:n}function ef(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,sf(n,e),ld.dirtyParentQueries(r),rf(r),r}function nf(t,e,n){const r=e?Sd(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rd(n,2,i,o,void 0)}function rf(t){Rd(t,3,null,null,void 0)}function of(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sf(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const af=new Object;function uf(t,e,n,r,i,o){return new lf(t,e,n,r,i,o)}function cf(t){return t.viewDefFactory}class lf extends Zl{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=jd(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=ld.createRootView(t,e||[],n,i,r,af),a=sd(s,o).instance;return n&&s.renderer.setAttribute(od(s,0).renderElement,"ng-version",Th.full),new hf(s,new gf(s),a)}}class hf extends Yl{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new gh(od(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new _f(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function df(t,e,n){return new ff(t,e,n)}class ff{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new gh(this._data.renderElement)}get injector(){return new _f(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Od(t),t=t.parent;return t?new _f(t,e):new _f(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=ef(this._data,t);ld.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new gf(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof sh||(i=o.get(ah));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,of(i,n,r),function(t,e){const n=Ed(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),ld.dirtyParentQueries(r),nf(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];sf(r,e),null==n&&(n=r.length),of(r,n,i),ld.dirtyParentQueries(i),rf(i),nf(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=ef(this._data,t);e&&ld.destroyView(e)}detach(t){const e=ef(this._data,t);return e?new gf(e):null}}function pf(t){return new gf(t)}class gf{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Rd(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){bd(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{ld.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){ld.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ld.destroyView(this._view)}detachFromAppRef(){this._appRef=null,rf(this._view),ld.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function mf(t,e){return new yf(t,e)}class yf extends Wh{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new gf(ld.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new gh(od(this._parentView,this._def.nodeIndex).renderElement)}}function vf(t,e){return new _f(t,e)}class _f{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Kt.THROW_IF_NOT_FOUND){return ld.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:fd(t)},e)}}function bf(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=od(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return id(t,n.nodeIndex).renderText;if(20240&n.flags)return sd(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function wf(t){return new Cf(t.renderer)}class Cf{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Ud(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Ud(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Ef(t,e,n,r){return new Of(t,e,n,r)}class Of{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=tf(t,i))}}(this)}get(t,e=Kt.THROW_IF_NOT_FOUND,n=w.Default){let r=0;return n&w.SkipSelf?r|=1:n&w.Self&&(r|=4),Xd(this,{token:t,tokenKey:fd(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ih)}destroy(){if(this._destroyed)throw new Error(`The ng module ${N(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Wd){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Sf=fd(bh),If=fd(Oh),Df=fd(gh),Tf=fd(Yh),Af=fd(Wh),xf=fd(Bh),Nf=fd(Kt),kf=fd(q);function jf(t,e,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[t,e]=s[l];u[t]={flags:8,name:l,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Ff(t,e|=16384,n,r,i,i,o,u,c)}function Rf(t,e,n){return Ff(-1,t|=16,null,0,e,e,n)}function Pf(t,e,n,r,i){return Ff(-1,t,e,0,n,r,i)}function Ff(t,e,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=Ad(n);u||(u=[]),a||(a=[]),o=R(o);const d=xd(s,N(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Bd(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Mf(t,e){return Bf(t,e)}function Lf(t,e){let n=t;for(;n.parent&&!Id(n);)n=n.parent;return qf(n.parent,Od(n),!0,e.provider.value,e.provider.deps)}function Vf(t,e){const n=qf(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!xc(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Uf(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Uf(t,e,n){return r=>Cd(t,e,n,r)}function Bf(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return qf(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Gf(t,e,n,i[0]));case 2:return r(Gf(t,e,n,i[0]),Gf(t,e,n,i[1]));case 3:return r(Gf(t,e,n,i[0]),Gf(t,e,n,i[1]),Gf(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Gf(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return Gf(t,e.parent,n,r.deps[0]);case 256:return r.value}}function qf(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Gf(t,e,n,i[0]));case 2:return new r(Gf(t,e,n,i[0]),Gf(t,e,n,i[1]));case 3:return new r(Gf(t,e,n,i[0]),Gf(t,e,n,i[1]),Gf(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Gf(t,e,n,i[r]);return new r(...s)}}const Hf={};function Gf(t,e,n,r,i=Kt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===xf&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Sf:return wf(zf(a,e,n));case If:return zf(a,e,n).renderer;case Df:return new gh(od(a,e.nodeIndex).renderElement);case Tf:return od(a,e.nodeIndex).viewContainer;case Af:if(e.element.template)return od(a,e.nodeIndex).template;break;case xf:return pf(zf(a,e,n));case Nf:case kf:return vf(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=sd(a,t.nodeIndex);return e||(e={instance:Bf(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Id(a),e=Od(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Hf);return u!==Hf||i===Hf?u:o.root.ngModule.injector.get(r.token,i)}function zf(t,e,n){let r;if(n)r=od(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Id(r);)r=r.parent;return r}function Qf(t,e,n,r,i,o){if(32768&n.flags){const e=od(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Ja.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new jl(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Wf(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&$f(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Kf(t,s,e,r)),s=s.parent}}function Kf(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&$f(t,i,e.flags&n,r++),i+=e.childCount}return r}function $f(t,e,n,r){const i=sd(t,e);if(!i)return;const o=i.instance;o&&(ld.setCurrentNode(t,e),1048576&n&&rd(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rd(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}function Yf(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Zf=new B("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:()=>xl(Z(Jf))}),Jf=new B("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gn});class Xf extends Zl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors[0][0],this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Yf(this.componentDef.inputs)}get outputs(){return Yf(this.componentDef.outputs)}create(t,e,n,r){const i=void 0===n,o=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Hf,i);return o!==Hf||r===Hf?o:e.get(n,r,i)}}}(t,r.injector):t,s=o.get(Ch,Ni),a=o.get(gi,null),u=i?Xs(this.selector,s.createRenderer(null,this.componentDef)):da(s,n),c=this.componentDef.onPush?576:528,l="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h=i||l?xl():o.get(Zf),d=s.createRenderer(u,this.componentDef);n&&u&&(xi(d)?d.setAttribute(u,"ng-version",Th.full):u.setAttribute("ng-version",Th.full));const f=ta(null,ha(-1,null,1,0,null,null,null,null),h,c,null,null,s,d,a,o),p=Er(f,null);let g,m,y=!1;try{const t=Tl(u,this.componentDef,f,s,d);m=In(0,f),e&&(m.projection=e.map(t=>Array.from(t))),g=Al(t,this.componentDef,f,h,[Nl]),Aa(f,t),Zs(f),y=!0}finally{Sr(p,y)}const v=new tp(this.componentType,g,hh(gh,m,f),f,m);return i&&(v.hostView._tViewNode.child=m),v}}class tp extends Yl{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new lh(r),this.hostView._tViewNode=na(r[1],null,-1,r),this.componentType=t}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ep={},np=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),rp=void 0;var ip=["en",[["a","p"],["AM","PM"],rp],[["AM","PM"],rp,rp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rp,"{1} 'at' {0}",rp],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function op(t){return sp(t)[np.PluralCase]}function sp(t){const e=t.toLowerCase().replace(/_/g,"-");let n=ep[e];if(n)return n;const r=e.split("-")[0];if(n=ep[r],n)return n;if("en"===r)return ip;throw new Error(`Missing locale data for the locale "${t}".`)}function ap(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function up(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),up(r,e)):e!==t&&e.push(r)}return e}const cp=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,lp=/�\/?\*(\d+:\d+)�/gi,hp=/�(\/?[#*!]\d+):?\d*�/gi,dp=/�(\d+):?\d*�/gi,fp=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,pp=/\[(�.+?�?)\]/,gp=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,mp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,yp=/�I18N_EXP_(ICU(_\d+)?)�/g,vp=/\/\*/,_p=/\d+\:(\d+)/;function bp(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);cp.test(n)?r.push(wp(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function wp(t){const e=[],n=[];let r=1,i=0;const o=bp(t=t.replace(cp,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let u=0;u<o.length;){let t=o[u++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=bp(o[u++]);e.length>n.length&&n.push(i)}return s=e.indexOf("other"),a='Missing key "other" in ICU statement.',s<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(a),{type:r,mainBinding:i,cases:e,values:n};var s,a}function Cp(t){let e,n,r="",i=0,o=!1;for(;null!==(e=lp.exec(t));)o?e[0]===`�/*${n}�`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ep(t,e,n,r=null){const i=[null,null],o=t.split(dp);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Dp(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Op(t,e=0){let n;e|=Dp(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=dp.exec(r);)e|=Dp(parseInt(n[1],10));else e=Op(r,e)}}return e}const Sp=[];let Ip=-1;function Dp(t){return 1<<Math.min(t,31)}const Tp=[];function Ap(t,e,n){const r=Yn()[1];Sp[++Ip]=t,Uc(!0),r.firstTemplatePass&&null===r.data[t+20]&&function(t,e,n,r){const i=Yn(),o=t.blueprint.length-20;xp=0;const s=ar(),a=lr()?ar():s&&s.parent;let u=a&&a!==i[6]?a.index-20:e,c=0;Tp[c]=u;const l=[];e>0&&s!==a&&l.push(s.index<<3|0);const h=[],d=[],f=function(t,e){if("number"!=typeof e)return Cp(t);{const n=t.indexOf(`:${e}�`)+2+e.toString().length,r=t.search(new RegExp(`�\\/\\*\\d+:${e}�`));return Cp(t.substring(n,r))}}(n,r).split(hp);for(let p=0;p<f.length;p++){let t=f[p];if(1&p)if("/"===t.charAt(0)){if("#"===t.charAt(1)){const e=parseInt(t.substr(2),10);u=Tp[--c],l.push(e<<3|5)}}else{const e=parseInt(t.substr(1),10);l.push(e<<3|0,u<<17|1),"#"===t.charAt(0)&&(Tp[++c]=u=e)}else{const e=bp(t);for(let t=0;t<e.length;t++)if(1&t){const n=o+xp++;l.push(Qs,"",n,u<<17|1);const r=e[t],i=Op(r);Gp(d,r,n,n);const s=d.length-1;h.push(Dp(r.mainBinding),3,-1-r.mainBinding,n<<2|2,s,i,2,n<<2|3,s)}else if(""!==e[t]){const n=e[t],r=n.match(dp),i=o+xp++;l.push(r?"":n,i,u<<17|1),r&&ap(Ep(n,i),h)}}}!function(t,e){const n=t[1];if(n.firstTemplatePass){for(let r=0;r<e;r++)n.blueprint.push(null),n.data.push(null),t.push(null);n.expandoInstructions?n.expandoInstructions.push(e):n.expandoStartIndex+=e}}(i,xp),t.data[e+20]={vars:xp,create:l,update:h,icus:d.length?d:null}}(r,t,e,n)}let xp;function Np(t,e,n,r){const i=t.next;n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[6]&&(t.parent=e);let o=t.next;for(;o;)o.next===t&&(o.next=i),o=o.next;if(1===t.type)return Ku(r,t,t.projection,io(r)),t;zu(Sn(t,r),t,r);const s=r[t.index];return 0!==t.type&&En(s)&&zu(s[7],t,r),t}function kp(t,e={}){let n=t;if(pp.test(t)){const t={},e=[0];n=n.replace(gp,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(_p),n=e?parseInt(e[1],10):0,r=vp.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(mp,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(yp,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}function jp(){!function(t){const e=Yn(),n=Sp[Ip--],r=t.data[n+20];let i=ar();const o=Pp(n,r.create,0,e);for(let s=n+1;s<=i.index-20;s++)-1===o.indexOf(s)&&Fp(s,e)}(Yn()[1]),Uc(!1)}function Rp(t,e,n,r,i){const o=ar();t[e+20]=r;const s=ea(t[1],t[6],e,n,i,null);return o.next===s&&(o.next=null),s}function Pp(t,e,n,r){const i=Yn()[12];let o=null,s=null;const a=[];for(let u=0;u<e.length;u++){const n=e[u];if("string"==typeof n){const t=Ru(n,i),c=e[++u];s=o,o=Rp(r,c,3,t,null),a.push(c),hr()}else if("number"==typeof n)switch(7&n){case 1:const i=n>>>17;let c;c=i===t?r[6]:In(i,r),s=Np(o,c,s,r);break;case 0:const l=n>>>3;a.push(l),s=o,o=In(l,r),o&&ur(o,3===o.type);break;case 5:s=o=In(n>>>3,r),ur(o,!1);break;case 4:Ia(n>>>3,e[++u],e[++u],r);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}else switch(n){case Qs:const t=e[++u],c=e[++u],l=i.createComment(t);s=o,o=Rp(r,c,5,l,null),a.push(c),Pi(l,r),o.activeCaseIndex=null,hr();break;case zs:const h=e[++u],d=e[++u];s=o,o=Rp(r,d,3,i.createElement(h),h),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}}return hr(),a}function Fp(t,e){const n=In(t,e),r=On(t,e);r&&Wu(e[12],r);const i=ac(t);if(En(i)){const t=i;0!==n.type&&Wu(e[12],t[7])}n.flags|=32}function Mp(t,e,n){Ap(t,e,n),jp()}function Lp(t,e){!function(t,e,n){const r=ar().index-20,i=[];for(let o=0;o<n.length;o+=2){const s=n[o],a=n[o+1].split(fp);for(let n=0;n<a.length;n++){const o=a[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(dp))t.firstTemplatePass&&null===t.data[e+20]&&ap(Ep(o,r,s),i);else{const t=Yn();Ia(r,s,o,t);const e=In(r,t),n=e.inputs&&e.inputs[s];n&&Ga(t,n,o)}}}t.firstTemplatePass&&null===t.data[e+20]&&(t.data[e+20]=i)}(Yn()[1],t,e)}let Vp=0,Up=0;function Bp(t){return uu(Yn(),t)!==Ro&&(Vp|=1<<Up),Up++,Bp}function qp(t){if(Up){const e=Yn(),n=e[1].data[t+20];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function t(e,n,r,i,o,s=!1){let a=!1;for(let u=0;u<e.length;u++){const c=e[u],l=e[++u];if(s||c&i){let s="";for(let c=u+1;c<=u+l;c++){const u=e[c];if("string"==typeof u)s+=u;else if("number"==typeof u)if(u<0)s+=fn(o[r-u]);else{const l=u>>>2;let h,d,f;switch(3&u){case 1:ma(l,e[++c],s,e[++c]);break;case 0:za(o,l,s);break;case 2:if(h=e[++c],d=n[h],f=In(l,o),null!==f.activeCaseIndex){const t=d.remove[f.activeCaseIndex];for(let e=0;e<t.length;e++){const r=t[e];switch(7&r){case 3:Fp(r>>>3,o);break;case 6:const i=In(t[e+1]>>>3,o).activeCaseIndex;null!==i&&ap(n[r>>>3].remove[i],t)}}}const u=Hp(d,s);f.activeCaseIndex=-1!==u?u:null,Pp(-1,d.create[u],0,o),a=!0;break;case 3:h=e[++c],d=n[h],f=In(l,o),t(d.update[f.activeCaseIndex],n,r,i,o,a)}}}}u+=l}}(r,i,e[7]-Up-1,Vp,e),Vp=0,Up=0}}function Hp(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){switch(op(e)(t)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(e,Jp);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}function Gp(t,e,n,r){const i=[],o=[],s=[],a=[],u=[];for(let c=0;c<e.values.length;c++){const l=e.values[c],h=[];for(let t=0;t<l.length;t++){const e=l[t];if("string"!=typeof e){const n=h.push(e)-1;l[t]=`\x3c!--�${n}�--\x3e`}}const d=zp(l.join(""),n,h,t,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),u.push(d.childIcus)}t.push({type:e.type,vars:a,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),xp+=Math.max(...a)}function zp(t,e,n,r,i){const o=new zr(document).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const u=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if(ni.hasOwnProperty(l)){n.create.push(zs,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(dp)?oi.hasOwnProperty(r)&&ap(ri[r]?Ep(e.value,c,e.name,Kr):ii[r]?Ep(e.value,c,e.name,$r):Ep(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(dp);n.create.push(d?"":h,c,r<<17|1),n.remove.push(c<<3|3),d&&ap(Ep(h,c),n.update);break;case Node.COMMENT_NODE:const f=Qp.exec(e.textContent||"");if(f){const t=parseInt(f[1],10);n.create.push(Qs,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Gp(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Op(e);n.update.push(Dp(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((fi(o)||o).firstChild,s,e,n,r,i),s}const Qp=/�(\d+)�/;let Wp={};function Kp(t={translations:{}}){Wp=t.translations}const $p=/\{\$(.*?)\}/g;function Yp(t,e){return void 0!==Wp[t]&&(t=Wp[t]),void 0!==e&&Object.keys(e).length?t.replace($p,(t,n)=>e[n]||""):t}const Zp="en-US";let Jp=Zp;function Xp(t){Jp=t.toLowerCase().replace(/_/g,"-")}const tg=new Map;function eg(t,e){const n=tg.get(t);ng(t,n&&n.moduleType,e.moduleType),tg.set(t,e)}function ng(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${N(e)} vs ${N(e.name)}`)}function rg(t){if(null!==t.ngModuleDef.id){const e=t.ngModuleDef.id;ng(e,tg.get(e),t),tg.set(e,t)}let e=t.ngModuleDef.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>rg(t))}function ig(t){return tg.get(t)}const og={provide:ih,useClass:class extends ih{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=un(t);return new Xf(e,this.ngModule)}},deps:[ah]};class sg extends ah{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=dn(t),r=t[We]||null;r&&Xp(r),this._bootstrapComponents=bn(n.bootstrap),this._r3Injector=Lt(t,e,[{provide:ah,useValue:this},og],N(t)),this.instance=this.get(t)}get(t,e=Kt.THROW_IF_NOT_FOUND,n=w.Default){return t===Kt||t===ah||t===q?this:this._r3Injector.get(t,e,n)}get componentFactoryResolver(){return this.get(ih)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ag extends uh{constructor(t){super(),this.moduleType=t,null!==dn(t)&&rg(t)}create(t){return new sg(this.moduleType,t)}}function ug(t,e,n,r){return Ue(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==e&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign({},i.propDecorators,r))})}function cg(t,e,n){const r=vr()+t,i=Yn();return dr()?eu(i,r,n?e.call(n):e()):nu(i,r)}function lg(t,e,n,r){const i=Yn(),o=vr()+t;return ru(i,o,n)?eu(i,o+1,r?e.call(r,n):e(n)):nu(i,o+1)}function hg(t,e,n,r,i){const o=vr()+t,s=Yn();return iu(s,o,n,r)?eu(s,o+2,i?e.call(i,n,r):e(n,r)):nu(s,o+2)}function dg(t,e,n,r,i,o){const s=vr()+t,a=Yn();return ou(a,s,n,r,i)?eu(a,s+3,o?e.call(o,n,r,i):e(n,r,i)):nu(a,s+3)}function fg(t,e,n,r,i,o,s){const a=vr()+t,u=Yn();return su(u,a,n,r,i,o)?eu(u,a+4,s?e.call(s,n,r,i,o):e(n,r,i,o)):nu(u,a+4)}function pg(t,e,n,r,i,o,s,a){const u=vr()+t,c=Yn(),l=su(c,u,n,r,i,o);return ru(c,u+4,s)||l?eu(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):nu(c,u+5)}function gg(t,e,n,r,i,o,s,a,u){const c=vr()+t,l=Yn(),h=su(l,c,n,r,i,o);return iu(l,c+4,s,a)||h?eu(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):nu(l,c+6)}function mg(t,e,n,r,i,o,s,a,u,c){const l=vr()+t,h=Yn();let d=su(h,l,n,r,i,o);return ou(h,l+4,s,a,u)||d?eu(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):nu(h,l+7)}function yg(t,e,n,r,i,o,s,a,u,c,l){const h=vr()+t,d=Yn(),f=su(d,h,n,r,i,o);return su(d,h+4,s,a,u,c)||f?eu(d,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):nu(d,h+8)}function vg(t,e,n,r){let i=vr()+t,o=!1;const s=Yn();for(let a=0;a<n.length;a++)ru(s,i++,n[a])&&(o=!0);return o?eu(s,i,e.apply(r,n)):nu(s,i)}function _g(t,e){const n=Yn()[1];let r;const i=t+20;n.firstTemplatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory();return oc(t,o),o}function bg(t,e,n){const r=ac(t);return Ig(Sg(t)?lg(e,r.transform,n,r):r.transform(n))}function wg(t,e,n,r){const i=ac(t);return Ig(Sg(t)?hg(e,i.transform,n,r,i):i.transform(n,r))}function Cg(t,e,n,r,i){const o=ac(t);return Ig(Sg(t)?dg(e,o.transform,n,r,i,o):o.transform(n,r,i))}function Eg(t,e,n,r,i,o){const s=ac(t);return Ig(Sg(t)?fg(e,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Og(t,e,n){const r=ac(t);return Ig(Sg(t)?vg(e,r.transform,n,r):r.transform.apply(r,n))}function Sg(t){return Yn()[1].data[t+20].pure}function Ig(t){if(Ja.isWrapped(t)){t=Ja.unwrap(t);const e=Yn();e[e[7]]=Ro}return t}class Dg extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function Tg(){return this._results[$a()]()}class Ag{constructor(){this.dirty=!0,this._results=[],this.changes=new Dg,this.length=0;const t=$a(),e=Ag.prototype;e[t]||(e[t]=Tg)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=up(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xg{constructor(t,e,n,r,i){this.next=t,this.list=e,this.predicate=n,this.values=r,this.containerValues=i}}class Ng{constructor(t,e,n,r=-1){this.parent=t,this.shallow=e,this.deep=n,this.nodeIndex=r}track(t,e,n,r){n?this.deep=qg(this.deep,t,e,null!=r?r:null):this.shallow=qg(this.shallow,t,e,null!=r?r:null)}clone(t){return null!==this.shallow||An(t)?new Ng(this,null,this.deep,t.index):this}container(){const t=kg(this.shallow),e=kg(this.deep);return t||e?new Ng(this,t,e):null}createView(){const t=jg(this.shallow),e=jg(this.deep);return t||e?new Ng(this,t,e):null}insertView(t){Rg(t,this.shallow),Rg(t,this.deep)}addNode(t){Ug(this.deep,t,!1),Ug(this.shallow,t,!1)}insertNodeBeforeViews(t){Ug(this.deep,t,!0),Ug(this.shallow,t,!0)}removeView(){Pg(this.shallow),Pg(this.deep)}}function kg(t){let e=null;for(;t;){const n=[];t.values.push(n),e=new xg(e,t.list,t.predicate,n,null),t=t.next}return e}function jg(t){let e=null;for(;t;)e=new xg(e,t.list,t.predicate,[],t.values),t=t.next;return e}function Rg(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e.values.length&&e.list.setDirty(),e=e.next}function Pg(t){for(;t;){const e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function Fg(t,e){const n=t.localNames;if(n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mg(t,e,n){const r=t[$e];if("function"==typeof r)return r();{const r=n[1],i=_o(e,r,t,!1,!1);if(null!==i)return bo(r.data,n,i,e)}return null}function Lg(t,e,n,r){const i=t[$e]();return r?i?Mg(r,e,n):null:i}function Vg(t,e,n,r){return n?Mg(n,t,e):r>-1?bo(e[1].data,e,r,t):function(t,e){return 3===t.type||4===t.type?hh(gh,t,e):0===t.type?dh(Wh,gh,t,e):null}(t,e)}function Ug(t,e,n){const r=Yn(),i=r[1];for(;t;){const o=t.predicate,s=o.type;if(s){let a=null;if(s===Wh)a=Lg(s,e,r,o.read);else{const t=_o(e,i,s,!1,!1);null!==t&&(a=Vg(e,r,o.read,t))}null!==a&&Bg(t,a,n)}else{const i=o.selector;for(let s=0;s<i.length;s++){const a=Fg(e,i[s]);if(null!==a){const i=Vg(e,r,o.read,a);null!==i&&Bg(t,i,n)}}}t=t.next}}function Bg(t,e,n){n?t.values.unshift(e):t.values.push(e),t.list.setDirty()}function qg(t,e,n,r){return new xg(t,e,function(t,e){const n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}(n,r),e._valuesTree,null)}function Hg(t,e,n,r,i,o){const s=new Ag,a=t[5]||(t[5]=new Ng(null,null,null,o));return s._valuesTree=[],s._static=i,a.track(s,e,n,r),function(t,e,n){const r=Ua(t);r.push(e),t[1].firstTemplatePass&&Ba(t).push(n,r.length-1)}(t,s,s.destroy),s}function Gg(t){const e=t,n=dr();return!(!t.dirty||n!==e._static||(t.reset(e._valuesTree||[]),t.notifyOnChanges(),0))}function zg(t,e,n){const r=Yn(),i=r[1];Wg(r,i,t,e,n,!0),i.staticViewQueries=!0}function Qg(t,e,n){const r=Yn();return Wg(r,r[1],t,e,n,!1)}function Wg(t,e,n,r,i,o){e.firstTemplatePass&&e.expandoStartIndex++;const s=wr(),a=Hg(t,n,r,i,o,-1);return oc(s-20,a),Cr(s+1),a}function Kg(){const t=wr();return Cr(t+1),Dn(Yn(),t-20)}function $g(t,e,n,r){const i=Yn();return Yg(i,i[1],t,e,n,r,!1,ar().index)}function Yg(t,e,n,r,i,o,s,a){const u=Hg(t,r,i,o,s,a);if((t[16]||(t[16]=[])).push(u),e.firstTemplatePass){const t=e.contentQueries||(e.contentQueries=[]);n!==(e.contentQueries.length?e.contentQueries[e.contentQueries.length-1]:-1)&&t.push(n)}return u}function Zg(t,e,n,r){const i=Yn(),o=i[1];Yg(i,o,t,e,n,r,!0,ar().index),o.staticContentQueries=!0}function Jg(){const t=Yn(),e=wr();return Cr(e+1),t[16][e]}function Xg(t,e){return dh(Wh,gh,t,e)}const tm=(()=>({"ɵɵattribute":lu,"ɵɵattributeInterpolate1":bu,"ɵɵattributeInterpolate2":wu,"ɵɵattributeInterpolate3":Cu,"ɵɵattributeInterpolate4":Eu,"ɵɵattributeInterpolate5":Ou,"ɵɵattributeInterpolate6":Su,"ɵɵattributeInterpolate7":Iu,"ɵɵattributeInterpolate8":Du,"ɵɵattributeInterpolateV":Tu,"ɵɵdefineBase":on,"ɵɵdefineComponent":Ze,"ɵɵdefineDirective":sn,"ɵɵdefineInjectable":O,"ɵɵdefineInjector":I,"ɵɵdefineNgModule":en,"ɵɵdefinePipe":an,"ɵɵdirectiveInject":uc,"ɵɵgetFactoryOf":Oo,"ɵɵgetInheritedFactory":So,"ɵɵinject":Z,"ɵɵinjectAttribute":cc,"ɵɵtemplateRefExtractor":Xg,"ɵɵNgOnChangesFeature":Rl,"ɵɵProvidersFeature":$l,"ɵɵInheritDefinitionFeature":Ll,"ɵɵcontainer":Xu,"ɵɵnextContext":Fc,"ɵɵcontainerRefreshStart":ec,"ɵɵcontainerRefreshEnd":nc,"ɵɵnamespaceHTML":kr,"ɵɵnamespaceMathML":Nr,"ɵɵnamespaceSVG":xr,"ɵɵenableBindings":Kn,"ɵɵdisableBindings":$n,"ɵɵallocHostVars":Wa,"ɵɵelementStart":bc,"ɵɵelementEnd":wc,"ɵɵelement":Cc,"ɵɵelementContainerStart":Oc,"ɵɵelementContainerEnd":Sc,"ɵɵpureFunction0":cg,"ɵɵpureFunction1":lg,"ɵɵpureFunction2":hg,"ɵɵpureFunction3":dg,"ɵɵpureFunction4":fg,"ɵɵpureFunction5":pg,"ɵɵpureFunction6":gg,"ɵɵpureFunction7":mg,"ɵɵpureFunction8":yg,"ɵɵpureFunctionV":vg,"ɵɵgetCurrentView":Tc,"ɵɵrestoreView":sr,"ɵɵinterpolation1":du,"ɵɵinterpolation2":fu,"ɵɵinterpolation3":pu,"ɵɵinterpolation4":gu,"ɵɵinterpolation5":mu,"ɵɵinterpolation6":yu,"ɵɵinterpolation7":vu,"ɵɵinterpolation8":_u,"ɵɵinterpolationV":hu,"ɵɵlistener":Nc,"ɵɵload":ac,"ɵɵprojection":Bc,"ɵɵupdateSyntheticHostBinding":cu,"ɵɵcomponentHostSyntheticListener":kc,"ɵɵpipeBind1":bg,"ɵɵpipeBind2":wg,"ɵɵpipeBind3":Cg,"ɵɵpipeBind4":Eg,"ɵɵpipeBindV":Og,"ɵɵprojectionDef":Lc,"ɵɵproperty":au,"ɵɵpropertyInterpolate":qc,"ɵɵpropertyInterpolate1":Hc,"ɵɵpropertyInterpolate2":Gc,"ɵɵpropertyInterpolate3":zc,"ɵɵpropertyInterpolate4":Qc,"ɵɵpropertyInterpolate5":Wc,"ɵɵpropertyInterpolate6":Kc,"ɵɵpropertyInterpolate7":$c,"ɵɵpropertyInterpolate8":Yc,"ɵɵpropertyInterpolateV":Zc,"ɵɵpipe":_g,"ɵɵqueryRefresh":Gg,"ɵɵviewQuery":Qg,"ɵɵstaticViewQuery":zg,"ɵɵstaticContentQuery":Zg,"ɵɵloadViewQuery":Kg,"ɵɵcontentQuery":$g,"ɵɵloadContentQuery":Jg,"ɵɵreference":sc,"ɵɵelementHostAttrs":Ec,"ɵɵclassMap":mc,"ɵɵstyling":hc,"ɵɵstyleMap":gc,"ɵɵstyleProp":fc,"ɵɵstyleSanitizer":lc,"ɵɵstylingApply":yc,"ɵɵclassProp":pc,"ɵɵselect":Ks,"ɵɵtemplate":tc,"ɵɵtext":Jc,"ɵɵtextBinding":Xc,"ɵɵtextInterpolate":tl,"ɵɵtextInterpolate1":el,"ɵɵtextInterpolate2":nl,"ɵɵtextInterpolate3":rl,"ɵɵtextInterpolate4":il,"ɵɵtextInterpolate5":ol,"ɵɵtextInterpolate6":sl,"ɵɵtextInterpolate7":al,"ɵɵtextInterpolate8":ul,"ɵɵtextInterpolateV":cl,"ɵɵembeddedViewStart":Ic,"ɵɵembeddedViewEnd":Dc,"ɵɵi18n":Mp,"ɵɵi18nAttributes":Lp,"ɵɵi18nExp":Bp,"ɵɵi18nStart":Ap,"ɵɵi18nEnd":jp,"ɵɵi18nApply":qp,"ɵɵi18nPostprocess":kp,"ɵɵi18nLocalize":Yp,"ɵɵresolveWindow":mn,"ɵɵresolveDocument":yn,"ɵɵresolveBody":vn,"ɵɵsetComponentScope":Je,"ɵɵsetNgModuleScope":nn,"ɵɵsanitizeHtml":_i,"ɵɵsanitizeStyle":bi,"ɵɵdefaultStyleSanitizer":Ii,"ɵɵsanitizeResourceUrl":Ci,"ɵɵsanitizeScript":Ei,"ɵɵsanitizeUrl":wi,"ɵɵsanitizeUrlOrResourceUrl":Si}))(),em=[],nm=[];let rm=!1;function im(){if(!rm){rm=!0;try{for(let t=nm.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=nm[t];n.declarations&&n.declarations.every(om)&&(nm.splice(t,1),hm(e,n))}}finally{rm=!1}}}function om(t){return Array.isArray(t)?t.every(om):!!R(t)}function sm(t,e={}){am(t,e),function(t,e){nm.push({moduleType:t,ngModule:e})}(t,e)}function am(t,e,n=!1){const r=up(e.declarations||em);let i=null;Object.defineProperty(t,Qe,{configurable:!0,get:()=>(null===i&&(i=U().compileNgModule(tm,`ng:///${t.name}/ngModuleDef.js`,{type:t,bootstrap:up(e.bootstrap||em).map(R),declarations:r.map(R),imports:up(e.imports||em).map(R).map(pm),exports:up(e.exports||em).map(R).map(pm),emitInline:!0,schemas:e.schemas?up(e.schemas):null,id:e.id||null})),i)});let o=null;Object.defineProperty(t,x,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:mt(t),providers:e.providers||em,imports:[(e.imports||em).map(R),(e.exports||em).map(R)]};o=U().compileInjector(tm,`ng:///${t.name}/ngInjectorDef.js`,n)}return o},configurable:!1})}let um=new Map,cm=new Map;function lm(){um=new Map,cm=new Map,nm.length=0}function hm(t,e){const n=up(e.declarations||em),r=fm(t);n.forEach(e=>{e.hasOwnProperty(He)?dm(un(e),r):e.hasOwnProperty(Ge)||e.hasOwnProperty(ze)||(e.ngSelectorScope=t)})}function dm(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(He)?un(t):cn(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>ln(t)),t.schemas=e.schemas,t.tView=null}function fm(t,e){if(!gm(t))throw new Error(t.name+" does not have an ngModuleDef");const n=dn(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return bn(n.declarations).forEach(t=>{ln(t)?r.compilation.pipes.add(t):r.compilation.directives.add(t)}),bn(n.imports).forEach(t=>{const n=t;if(!gm(n))throw new Error(`Importing ${n.name} which does not have an ngModuleDef`);e&&e(n);const i=fm(n,e);i.exported.directives.forEach(t=>r.compilation.directives.add(t)),i.exported.pipes.forEach(t=>r.compilation.pipes.add(t))}),bn(n.exports).forEach(t=>{const n=t;if(gm(n)){const t=fm(n,e);t.exported.directives.forEach(t=>{r.compilation.directives.add(t),r.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{r.compilation.pipes.add(t),r.exported.pipes.add(t)})}else ln(n)?r.exported.pipes.add(n):r.exported.directives.add(n)}),n.transitiveCompileScopes=r,r}function pm(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function gm(t){return!!dn(t)}function mm(t,e){let n=null;!function(t,e){Fe(e)&&(Re.set(t,e),Pe.add(t))}(t,e),Object.defineProperty(t,He,{get:()=>{const r=U();if(null===n){if(Fe(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=e.templateUrl||`ng:///${t.name}/template.html`,o=Object.assign({},_m(t,e),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,i),template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||qe,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||Ve.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(o.usesInheritance&&bm(t),n=r.compileComponent(tm,i,o),im(),void 0!==t.ngSelectorScope){const e=fm(t.ngSelectorScope);dm(n,e)}}return n},configurable:!1}),vt(t)}function ym(t,e){let n=null;Object.defineProperty(t,Ge,{get:()=>{if(null===n){const r=t&&t.name,i=`ng:///${r}/ngDirectiveDef.js`,o=U(),s=_m(t,e);s.typeSourceSpan=o.createParseSourceSpan("Directive",r,i),s.usesInheritance&&bm(t),n=o.compileDirective(tm,i,s)}return n},configurable:!1}),vt(t)}function vm(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function _m(t,e){const n=gt().ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:mt(t),host:e.host||Be,propMetadata:n,inputs:e.inputs||qe,outputs:e.outputs||qe,queries:Om(t,n,Sm),lifecycle:{usesOnChanges:t.prototype.hasOwnProperty("ngOnChanges")},typeSourceSpan:null,usesInheritance:!vm(t),exportAs:(r=e.exportAs,void 0===r?null:r.split(",").map(t=>t.trim())),providers:e.providers||null,viewQueries:Om(t,n,Im)};var r}function bm(t){const e=Object.prototype;let n=Object.getPrototypeOf(t);for(;n&&n!==e;){if(!cn(n)&&!un(n)&&!hn(n)){const t=Cm(n);t&&wm(n,t)}n=Object.getPrototypeOf(n)}}function wm(t,e){let n=null;Object.defineProperty(t,Ke,{get:()=>{if(null===n){const r=`ng://${t&&t.name}/ngBaseDef.js`,i=U();n=i.compileBase(tm,r,e)}return n},configurable:!1})}function Cm(t){const e=gt().ownPropMetadata(t),n=Om(t,e,Im),r=Om(t,e,Sm);let i,o,s=!1;for(const a in e)e[a].forEach(t=>{const e=t.ngMetadataName;"Input"===e?(i=i||{},i[a]=t.bindingPropertyName?[t.bindingPropertyName,a]:a):"Output"===e?(o=o||{},o[a]=t.bindingPropertyName||a):"HostBinding"!==e&&"HostListener"!==e||(s=!0)});return i||o||n.length||r.length||s?{name:t.name,inputs:i,outputs:o,viewQueries:n,queries:r,propMetadata:e}:null}function Em(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(t=>t.trim()):R(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function Om(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${pn(t)}" since the query selector wasn't defined.`);if(o.some(Dm))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Em(i,e))}})}return r}function Sm(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Im(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Dm(t){return"Input"===t.ngMetadataName}function Tm(t,e){let n=null;Object.defineProperty(t,ze,{get:()=>{if(null===n){const r=t.name;n=U().compilePipe(tm,`ng:///${r}/ngPipeDef.js`,{type:t,typeArgumentCount:0,name:r,deps:mt(t),pipeName:e.name,pure:void 0===e.pure||e.pure})}return n},configurable:!1})}const Am=h("Directive",(t={})=>t,void 0,void 0,(t,e)=>Um(t,e)),xm=h("Component",(t={})=>Object.assign({changeDetection:xe.Default},t),Am,void 0,(t,e)=>Vm(t,e)),Nm=h("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Bm(t,e)),km=p("Input",t=>({bindingPropertyName:t})),jm=p("Output",t=>({bindingPropertyName:t})),Rm=p("HostBinding",t=>({hostPropertyName:t})),Pm=p("HostListener",(t,e)=>({eventName:t,args:e})),Fm=mm,Mm=ym,Lm=Tm,Vm=ph,Um=ph,Bm=ph,qm=h("NgModule",t=>t,void 0,void 0,(t,e)=>Gm(t,e)),Hm=sm,Gm=function(t,e){let n=e&&e.imports||[];e&&e.exports&&(n=[...n,e.exports]),t.ngInjectorDef=I({factory:It(t,{useClass:t}),providers:e&&e.providers,imports:n})},zm=new B("Application Initializer");class Qm{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ac(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Wm=new B("AppId");function Km(){return`${Ym()}${Ym()}${Ym()}`}const $m={provide:Wm,useFactory:Km,deps:[]};function Ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zm=new B("Platform Initializer"),Jm=new B("Platform ID"),Xm=new B("appBootstrapListener"),ty=new B("Application Packages Root URL");class ey{log(t){console.log(t)}warn(t){console.warn(t)}}const ny=new B("LocaleId"),ry=new B("Translations"),iy=new B("TranslationsFormat"),oy=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}();class sy{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}function ay(){throw new Error("Runtime compiler is not loaded")}const uy=function(t){return new ag(t)},cy=ay,ly=function(t){return Promise.resolve(uy(t))},hy=ay,dy=function(t){const e=uy(t),n=bn(dn(t).declarations).reduce((t,e)=>{const n=un(e);return n&&t.push(new Xf(n)),t},[]);return new sy(e,n)},fy=ay,py=function(t){return Promise.resolve(dy(t))},gy=ay;class my{constructor(){this.compileModuleSync=cy,this.compileModuleAsync=hy,this.compileModuleAndAllComponentsSync=fy,this.compileModuleAndAllComponentsAsync=gy}clearCache(){}clearCacheFor(t){}getModuleId(t){}}const yy=new B("compilerOptions");class vy{}let _y,by;function wy(){const t=V.wtf;return!(!t||(_y=t.trace,!_y)||(by=_y.events,0))}function Cy(t,e=null){return by.createScope(t,e)}function Ey(t,e){return _y.leaveScope(t,e),e}function Oy(t,e){return _y.beginTimeRange(t,e)}function Sy(t){_y.endTimeRange(t)}const Iy=wy();function Dy(t,e){return null}const Ty=Iy?Cy:(t,e)=>Dy,Ay=Iy?Ey:(t,e)=>e,xy=Iy?Oy:(t,e)=>null,Ny=Iy?Sy:t=>null,ky=(()=>Promise.resolve(0))();function jy(t){"undefined"==typeof Zone?ky.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ry{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dg(!1),this.onMicrotaskEmpty=new Dg(!1),this.onStable=new Dg(!1),this.onError=new Dg(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Ly(e),t.invokeTask(r,i,o,s)}finally{Vy(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Ly(e),t.invoke(r,i,o,s,a)}finally{Vy(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,My(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ry.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ry.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Fy,Py,Py);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Py(){}const Fy={};function My(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ly(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vy(t){t._nesting--,My(t)}class Uy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dg,this.onMicrotaskEmpty=new Dg,this.onStable=new Dg,this.onError=new Dg}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class By{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ry.assertNotInAngularZone(),jy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class qy{constructor(){this._applications=new Map,Qy.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Qy.findTestabilityInTree(this,t,e)}}class Hy{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Gy(t){Qy=t}let zy,Qy=new Hy;function Wy(t,e,n){const r=new ag(n);if(0===Re.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(yy,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=U(),s=Kt.create({providers:i}).get(o.ResourceLoader);return je(t=>Promise.resolve(s.get(t))).then(()=>r)}function Ky(t){return t.isBoundToModule}const $y=new B("AllowMultipleToken");class Yy{constructor(t,e){this.name=t,this.token=e}}function Zy(t){if(zy&&!zy.destroyed&&!zy.injector.get($y,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zy=t.get(nv);const e=t.get(Zm,null);return e&&e.forEach(t=>t()),zy}function Jy(t,e,n=[]){const r="Platform: "+e,i=new B(r);return(e=[])=>{let o=ev();if(!o||o.injector.get($y,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});Zy(Kt.create({providers:t,name:r}))}return Xy(i)}}function Xy(t){const e=ev();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function tv(){zy&&!zy.destroyed&&zy.destroy()}function ev(){return zy&&!zy.destroyed?zy:null}class nv{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new Uy:("zone.js"===t?void 0:t)||new Ry({enableLongStackTrace:Hr()}),e}(e?e.ngZone:void 0),r=[{provide:Ry,useValue:n}];return n.run(()=>{const e=Kt.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ao,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Xp(i.injector.get(ny,Zp)),i.onDestroy(()=>ov(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ac(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Qm);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=rv({},e);return function(t,e,n){return t.get(vy).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(iv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function rv(t,e){return Array.isArray(e)?e.reduce(rv,t):Object.assign({},t,e)}let iv=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Hr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ry.assertNotInAngularZone(),jy(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ry.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Zl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof sh?null:this._injector.get(ah),i=n.create(Kt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(By,null);return o&&i.injector.get(qy).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Hr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Ay(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ov(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xm,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ov(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ty("ApplicationRef#tick()"),t})();function ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sv{}function av(t){const e=ig(t);if(!e)throw lv(t);return e}function uv(t){const e=ig(t);if(!e)throw lv(t);return new ag(e)}const cv=av;function lv(t){return new Error(`No module with ID ${t} loaded`)}const hv=!0,dv=!1;class fv{}const pv={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class gv{constructor(t,e){this._compiler=t,this._config=e||pv}load(t){return!dv&&this._compiler instanceof my?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>mv(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mv(t,e,r))}}function mv(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class yv extends Bh{}class vv extends yv{}class _v{constructor(t,e){this.name=t,this.callback=e}}class bv{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof wv&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class wv extends bv{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof wv&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof wv&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof wv&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof wv)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}function Cv(t){return t.map(t=>t.nativeElement)}class Ev{constructor(t){this.nativeNode=t}get parent(){const t=this.nativeNode.parentNode;return t?new Ov(t):null}get injector(){return ml(this.nativeNode)}get componentInstance(){const t=this.nativeNode;return t&&(dl(t)||pl(t))}get context(){return fl(this.nativeNode)}get listeners(){return Cl(this.nativeNode).filter(wl)}get references(){return function(t){const e=vl(t);return void 0===e.localRefs&&(e.localRefs=function(t,e){const n=t[1].data[e];if(n&&n.localNames){const e={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)e[n.localNames[i]]=t[r],r++;return e}return null}(e.lView,e.nodeIndex)),e.localRefs||{}}(this.nativeNode)}get providerTokens(){return function(t){const e=vl(t,!1);if(!e)return[];const n=e.lView[1],r=n.data[e.nodeIndex],i=[],o=r.directiveEnd;for(let a=65535&r.providerIndexes;a<o;a++){let t=n.data[a];void 0!==(s=t).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(t=t.type),i.push(t)}var s;return i}(this.nativeNode)}}class Ov extends Ev{constructor(t){super(t)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){return this.nativeElement.nodeName}get properties(){const t=vl(this.nativeNode),e=t.lView,n=e[1].data,r=n[t.nodeIndex],i=function(t,e,n){const r={};let i=function(t,e){let n=t-1,r=e[n];for(;"string"==typeof r&&!_n(r);)r=e[--n];return n+1}(t.propertyMetadataStartIndex,n);for(;i<t.propertyMetadataEndIndex;){let t,o=n[i];for(;!_n(o);)t=(t||"")+fn(e[i])+n[i],o=n[++i];t=void 0===t?e[i]:t+=e[i];const s=o.split("�"),a=s[0];a&&(r[a]=s[1]&&s[2]?s[1]+t+s[2]:t),i++}return r}(r,e,n),o=function(t,e,n){const r={};let i=t.directiveEnd,o=n[i];for(;"string"==typeof o;)r[o.split("�")[0]]=e[i],o=n[++i];return r}(r,e,n),s=function(t){const e=t.classes;let n="";for(const r of Object.keys(e))e[r]&&(n=n?n+" "+r:r);return n}(this),a=Object.assign({},i,o);return s&&(a.className=a.className?a.className+" "+s:s),a}get attributes(){const t={},e=this.nativeElement;if(!e)return t;const n=vl(e),r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let e=0;for(;e<r.length;){const n=r[e];if("string"!=typeof n)break;t[n]=r[e+1],i.push(n.toLowerCase()),e+=2}}const o=e.attributes;for(let s=0;s<o.length;s++){const e=o[s];-1===i.indexOf(e.name)&&(t[e.name]=e.value)}return t}get classes(){const t={},e=this.nativeElement;if(e){const n=bl(e),r=Hi(n.nodeIndex,n.lView);if(r){for(let e=10;e<r.length;e+=4)if(ts(r,e)){const n=vs(r,e),i=ys(r,e);"boolean"==typeof i&&(t[n]=i)}}else{const n=e.classList;for(let e=0;e<n.length;e++)t[n[e]]=!0}}return t}get styles(){const t={},e=this.nativeElement;if(e){const n=bl(e),r=Hi(n.nodeIndex,n.lView);if(r){for(let e=10;e<r.length;e+=4)if(!ts(r,e)){const n=vs(r,e),i=ys(r,e);null!==i&&(t[n]=i)}}else{const n=e.style;for(let e=0;e<n.length;e++){const r=n.item(e);t[r]=n.getPropertyValue(r)}}}return t}get childNodes(){const t=this.nativeNode.childNodes,e=[];for(let n=0;n<t.length;n++)e.push(xv(t[n]));return e}get children(){const t=this.nativeElement;if(!t)return[];const e=t.children,n=[];for(let r=0;r<e.length;r++)n.push(xv(e[r]));return n}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return Sv(this,t,e,!0),e}queryAllNodes(t){const e=[];return Sv(this,t,e,!1),e}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name===t&&n.callback(e)})}}function Sv(t,e,n,r){const i=vl(t.nativeNode);Iv(i.lView[1].data[i.nodeIndex],i.lView,e,n,r,t.nativeNode)}function Iv(t,e,n,r,i,o){const s=Sn(t,e);if(3===t.type||4===t.type){if(Tv(s,n,r,i,o),xn(t)){const s=Tn(t.index,e);s&&s[1].firstChild&&Iv(s[1].firstChild,s,n,r,i,o)}else t.child&&Iv(t.child,e,n,r,i,o);const a=e[t.index];En(a)&&Dv(a,n,r,i,o)}else if(0===t.type){const s=e[t.index];Tv(s[7],n,r,i,o),Dv(s,n,r,i,o)}else if(1===t.type){const s=io(e),a=s[6].projection[t.projection];if(Array.isArray(a))for(let t of a)Tv(t,n,r,i,o);else if(a){const t=s[3];Iv(t[1].data[a.index],t,n,r,i,o)}}else t.child&&Iv(t.child,e,n,r,i,o);if(o!==s){const s=2&t.flags?t.projectionNext:t.next;s&&Iv(s,e,n,r,i,o)}}function Dv(t,e,n,r,i){for(let o=9;o<t.length;o++){const s=t[o];Iv(s[1].node,s,e,n,r,i)}}function Tv(t,e,n,r,i){if(i!==t){const i=Nv(t);i&&(!r||i instanceof Ov)&&e(i)&&n.push(i)}}const Av=new Map;function xv(t){return t instanceof Node?(t.hasOwnProperty("__ng_debug__")||(t.__ng_debug__=t.nodeType==Node.ELEMENT_NODE?new Ov(t):new Ev(t)),t.__ng_debug__):null}const Nv=function(t){return Av.get(t)||null};function kv(t){Av.set(t.nativeNode,t)}const jv=bv,Rv=wv,Pv=Jy(null,"core",[{provide:Jm,useValue:"unknown"},{provide:nv,deps:[Kt]},{provide:qy,deps:[]},{provide:ey,deps:[]}]);function Fv(){return zh}function Mv(){return Qh}function Lv(t){return t||"en-US"}const Vv=[{provide:iv,useClass:iv,deps:[Ry,ey,Kt,Ao,ih,Qm]},{provide:Jf,deps:[Ry],useFactory:Uv},{provide:Qm,useClass:Qm,deps:[[new m,zm]]},{provide:my,useClass:my,deps:[]},$m,{provide:Vh,useFactory:Fv,deps:[]},{provide:Uh,useFactory:Mv,deps:[]},{provide:ny,useFactory:Lv,deps:[[new g(ny),new m,new v]]}];function Uv(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Bv{constructor(t){}}function qv(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=Ad(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?jd(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||hd},provider:null,text:null,query:null,ngContent:null}}function Hv(t,e,n,r,i,o,s=[],a,u,c,l,h){c||(c=hd);const{matchedQueries:d,references:f,matchedQueryIds:p}=Ad(n);let g=null,m=null;o&&([g,m]=Ud(o)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[r,i]=Ud(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=new Array(u.length);for(let b=0;b<u.length;b++){const[t,e]=u[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(s=s||[]).map(([t,e])=>{const[n,r]=Ud(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Ve.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+md++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Bd(y),outputs:v,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||hd},provider:null,text:null,query:null,ngContent:null}}function Gv(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Nd(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Ve.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function zv(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=Qv(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=t;"component"===a.target&&(c=null,l=e);const h=l.renderer.listen(c||r,a.eventName,u);t.disposables[n.outputIndex+s]=h}var i,o}function Qv(t,e,n){return r=>Cd(t,e,n,r)}function Wv(t,e,n,r){if(!vd(t,e,n,r))return!1;const i=e.bindings[n],o=od(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(pi.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Kv(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Td(e),bindings:r},ngContent:null}}function $v(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Dd(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&ud(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&ud(t,n).setDirty(),n+=e.childCount}}function Yv(t,e){const n=ud(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Zv(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=sd(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Zv(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Zv(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Jv(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=od(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Zv(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Ed(o);s&&s===n&&Zv(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Zv(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Jv(t,e,n){if(null!=n)switch(n){case 1:return od(t,e.nodeIndex).renderElement;case 0:return new gh(od(t,e.nodeIndex).renderElement);case 2:return od(t,e.nodeIndex).template;case 3:return od(t,e.nodeIndex).viewContainer;case 4:return sd(t,e.nodeIndex).instance}}function Xv(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function t_(t,e,n){const r=Nd(t,e,n);r&&Fd(t,n.ngContent.index,1,r,null,void 0)}function e_(t,e){return i_(128,t,new Array(e+1))}function n_(t,e){return i_(32,t,new Array(e))}function r_(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return i_(64,t,i)}function i_(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Bd(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function o_(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function s_(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Nd(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function a_(t,e){return(null!=t?t.toString():"")+e.suffix}function u_(t,e,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=c,t.bindingIndex=i,t.outputIndex=o,t.renderParent=l,s|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(l_(c,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!l&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[fd(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[fd(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,c_(t)||(l=t);else for(;c&&p===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,l=c&&c_(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||hd,updateRenderer:r||hd,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function c_(t){return 0!=(1&t.flags)&&null===t.element.name}function l_(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function h_(t,e,n,r){const i=p_(t.root,t.renderer,t,e,n);return g_(i,t.component,r),m_(i),i}function d_(t,e,n){const r=p_(t,t.renderer,null,null,e);return g_(r,n,n),m_(r),r}function f_(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,p_(t.root,o,t,e.element.componentProvider,n)}function p_(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function g_(t,e,n){t.component=e,t.context=n}function m_(t){let e;Id(t)&&(e=od(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(ld.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Gv(t,e,o);let a=void 0;if(33554432&o.flags){const e=jd(o.element.componentView);a=ld.createComponentView(t,o,e,n)}zv(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?mf(t,o):void 0},16777216&o.flags&&(s.viewContainer=df(t,o,s));break;case 2:s=s_(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Mf(t,o)});break;case 16:s={instance:Lf(t,o)};break;case 16384:s=r[i],s||(s={instance:Vf(t,o)}),32768&o.flags&&g_(od(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Ag;break;case 8:t_(t,e,o),s=void 0}r[i]=s}S_(t,O_.CreateViewNodes),A_(t,201326592,268435456,0)}function y_(t){b_(t),ld.updateDirectives(t,1),I_(t,O_.CheckNoChanges),ld.updateRenderer(t,1),S_(t,O_.CheckNoChanges),t.state&=-97}function v_(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,nd(t,0,256),b_(t),ld.updateDirectives(t,0),I_(t,O_.CheckAndUpdate),A_(t,67108864,536870912,0);let e=nd(t,256,512);Wf(t,2097152|(e?1048576:0)),ld.updateRenderer(t,0),S_(t,O_.CheckAndUpdate),A_(t,134217728,536870912,0),e=nd(t,512,768),Wf(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,nd(t,768,1024)}function __(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;let f=!1;return d>0&&Wv(t,e,0,n)&&(f=!0),d>1&&Wv(t,e,1,r)&&(f=!0),d>2&&Wv(t,e,2,i)&&(f=!0),d>3&&Wv(t,e,3,o)&&(f=!0),d>4&&Wv(t,e,4,s)&&(f=!0),d>5&&Wv(t,e,5,a)&&(f=!0),d>6&&Wv(t,e,6,u)&&(f=!0),d>7&&Wv(t,e,7,c)&&(f=!0),d>8&&Wv(t,e,8,l)&&(f=!0),d>9&&Wv(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return function(t,e,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&vd(t,e,0,n)&&(d=!0),p>1&&vd(t,e,1,r)&&(d=!0),p>2&&vd(t,e,2,i)&&(d=!0),p>3&&vd(t,e,3,o)&&(d=!0),p>4&&vd(t,e,4,s)&&(d=!0),p>5&&vd(t,e,5,a)&&(d=!0),p>6&&vd(t,e,6,u)&&(d=!0),p>7&&vd(t,e,7,c)&&(d=!0),p>8&&vd(t,e,8,l)&&(d=!0),p>9&&vd(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=a_(n,f[0])),p>1&&(d+=a_(r,f[1])),p>2&&(d+=a_(i,f[2])),p>3&&(d+=a_(o,f[3])),p>4&&(d+=a_(s,f[4])),p>5&&(d+=a_(a,f[5])),p>6&&(d+=a_(u,f[6])),p>7&&(d+=a_(c,f[7])),p>8&&(d+=a_(l,f[8])),p>9&&(d+=a_(h,f[9]));const g=id(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=sd(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&yd(t,e,0,n)&&(p=!0,g=Qf(t,d,e,0,n,g)),m>1&&yd(t,e,1,r)&&(p=!0,g=Qf(t,d,e,1,r,g)),m>2&&yd(t,e,2,i)&&(p=!0,g=Qf(t,d,e,2,i,g)),m>3&&yd(t,e,3,o)&&(p=!0,g=Qf(t,d,e,3,o,g)),m>4&&yd(t,e,4,s)&&(p=!0,g=Qf(t,d,e,4,s,g)),m>5&&yd(t,e,5,a)&&(p=!0,g=Qf(t,d,e,5,a,g)),m>6&&yd(t,e,6,u)&&(p=!0,g=Qf(t,d,e,6,u,g)),m>7&&yd(t,e,7,c)&&(p=!0,g=Qf(t,d,e,7,c,g)),m>8&&yd(t,e,8,l)&&(p=!0,g=Qf(t,d,e,8,l,g)),m>9&&yd(t,e,9,h)&&(p=!0,g=Qf(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&rd(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&vd(t,e,0,n)&&(f=!0),p>1&&vd(t,e,1,r)&&(f=!0),p>2&&vd(t,e,2,i)&&(f=!0),p>3&&vd(t,e,3,o)&&(f=!0),p>4&&vd(t,e,4,s)&&(f=!0),p>5&&vd(t,e,5,a)&&(f=!0),p>6&&vd(t,e,6,u)&&(f=!0),p>7&&vd(t,e,7,c)&&(f=!0),p>8&&vd(t,e,8,l)&&(f=!0),p>9&&vd(t,e,9,h)&&(f=!0),f){const f=ad(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=u),p>7&&(g[7]=c),p>8&&(g[8]=l),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=l),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,u);break;case 8:g=t.transform(r,i,o,s,a,u,c);break;case 9:g=t.transform(r,i,o,s,a,u,c,l);break;case 10:g=t.transform(r,i,o,s,a,u,c,l,h)}}f.value=g}return f}(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Wv(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)vd(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=a_(n[t],r[t]);i=e.text.prefix+i;const o=id(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=sd(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)yd(t,e,a,n[a])&&(o=!0,s=Qf(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&rd(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)vd(t,e,o,n[o])&&(i=!0);if(i){const i=ad(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function b_(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=od(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,wd(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function w_(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;d>0&&_d(t,e,0,n),d>1&&_d(t,e,1,r),d>2&&_d(t,e,2,i),d>3&&_d(t,e,3,o),d>4&&_d(t,e,4,s),d>5&&_d(t,e,5,a),d>6&&_d(t,e,6,u),d>7&&_d(t,e,7,c),d>8&&_d(t,e,8,l),d>9&&_d(t,e,9,h)}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){for(let r=0;r<n.length;r++)_d(t,e,r,n[r])}(t,e,r),!1}function C_(t,e){if(ud(t,e.nodeIndex).dirty)throw Xh(ld.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function E_(t){if(!(128&t.state)){if(I_(t,O_.Destroy),S_(t,O_.Destroy),Wf(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Ed(t);if(e){const n=e.template._projectedViews;n&&(sf(n,n.indexOf(t)),ld.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(od(t,n).renderElement):2&e.flags?t.renderer.destroyNode(id(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&ud(t,n).destroy()}}(t),Id(t)&&t.renderer.destroy(),t.state|=128}}const O_=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function S_(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?D_(od(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function I_(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=od(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)D_(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function D_(t,e){const n=t.state;switch(e){case O_.CheckNoChanges:0==(128&n)&&(12==(12&n)?y_(t):64&n&&T_(t,O_.CheckNoChangesProjectedViews));break;case O_.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?y_(t):64&n&&T_(t,e));break;case O_.CheckAndUpdate:0==(128&n)&&(12==(12&n)?v_(t):64&n&&T_(t,O_.CheckAndUpdateProjectedViews));break;case O_.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?v_(t):64&n&&T_(t,e));break;case O_.Destroy:E_(t);break;case O_.CreateViewNodes:m_(t)}}function T_(t,e){I_(t,e),S_(t,e)}function A_(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(ld.setCurrentNode(t,i.nodeIndex),r){case 0:Yv(t,i);break;case 1:C_(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let x_=!1;function N_(){if(x_)return;x_=!0;const t=Hr()?{setCurrentNode:tb,createRootView:j_,createEmbeddedView:P_,createComponentView:F_,createNgModuleRef:M_,overrideProvider:B_,overrideComponentView:q_,clearOverrides:H_,checkAndUpdateView:W_,checkNoChangesView:K_,destroyView:$_,createDebugContext:(t,e)=>new ub(t,e),handleEvent:eb,updateDirectives:nb,updateRenderer:rb}:{setCurrentNode:()=>{},createRootView:k_,createEmbeddedView:h_,createComponentView:f_,createNgModuleRef:Ef,overrideProvider:hd,overrideComponentView:hd,clearOverrides:hd,checkAndUpdateView:v_,checkNoChangesView:y_,destroyView:E_,createDebugContext:(t,e)=>new ub(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?z_:Q_,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?z_:Q_,t)};ld.setCurrentNode=t.setCurrentNode,ld.createRootView=t.createRootView,ld.createEmbeddedView=t.createEmbeddedView,ld.createComponentView=t.createComponentView,ld.createNgModuleRef=t.createNgModuleRef,ld.overrideProvider=t.overrideProvider,ld.overrideComponentView=t.overrideComponentView,ld.clearOverrides=t.clearOverrides,ld.checkAndUpdateView=t.checkAndUpdateView,ld.checkNoChangesView=t.checkNoChangesView,ld.destroyView=t.destroyView,ld.resolveDep=Gf,ld.createDebugContext=t.createDebugContext,ld.handleEvent=t.handleEvent,ld.updateDirectives=t.updateDirectives,ld.updateRenderer=t.updateRenderer,ld.dirtyParentQueries=$v}function k_(t,e,n,r,i,o){const s=i.injector.get(Ch);return d_(R_(t,i,s,e,n),r,o)}function j_(t,e,n,r,i,o){const s=i.injector.get(Ch),a=R_(t,i,new db(s),e,n),u=G_(r);return lb(Y_.create,d_,null,[a,u,o])}function R_(t,e,n,r,i){const o=e.injector.get(gi),s=e.injector.get(Ao),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function P_(t,e,n,r){const i=G_(n);return lb(Y_.create,h_,null,[t,e,i,r])}function F_(t,e,n,r){return n=U_.get(e.element.componentProvider.provider.token)||G_(n),lb(Y_.create,f_,null,[t,e,n,r])}function M_(t,e,n,r){return Ef(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===L_.size||(t.providers.forEach(t=>{const r=L_.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{V_.forEach((r,i)=>{D(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=L_.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=xd(i.deps),r.value=i.value)}if(V_.size>0){let e=new Set(t.modules);V_.forEach((r,i)=>{if(e.has(D(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:xd(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[fd(i)]=e}})}}(t=t.factory(()=>hd)),t):t}(r))}const L_=new Map,V_=new Map,U_=new Map;function B_(t){let e;L_.set(t.token,t),"function"==typeof t.token&&(e=D(t.token))&&"function"==typeof e.providedIn&&V_.set(t.token,t)}function q_(t,e){const n=jd(cf(e)),r=jd(n.nodes[0].element.componentView);U_.set(t,r)}function H_(){L_.clear(),V_.clear(),U_.clear()}function G_(t){if(0===L_.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&L_.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>hd);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=L_.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=xd(n.deps),t.value=n.value)}}}}function z_(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return __(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ad(t,e).value:void 0}function Q_(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return w_(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ad(t,e).value:void 0}function W_(t){return lb(Y_.detectChanges,v_,null,[t])}function K_(t){return lb(Y_.checkNoChanges,y_,null,[t])}function $_(t){return lb(Y_.destroy,E_,null,[t])}const Y_=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Z_,J_,X_;function tb(t,e){J_=t,X_=e}function eb(t,e,n,r){return tb(t,e),lb(Y_.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function nb(t,e){if(128&t.state)throw ed(Y_[Z_]);return tb(t,sb(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ib(t,o,r,i):ob(t,o,r,i),16384&o.flags&&tb(t,sb(t,n)),224&o.flags?ad(t,o.nodeIndex).value:void 0}),t)}function rb(t,e){if(128&t.state)throw ed(Y_[Z_]);return tb(t,ab(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ib(t,o,r,i):ob(t,o,r,i),3&o.flags&&tb(t,ab(t,n)),224&o.flags?ad(t,o.nodeIndex).value:void 0}),t)}function ib(t,e,n,r){if(__(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(ko,(...t)=>"-"+t[1].toLowerCase()))]=jo(s))}const r=e.parent,s=od(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}var i}function ob(t,e,n,r){w_(t,e,n,...r)}function sb(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function ab(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class ub{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Od(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return od(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return vf(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){cb(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&cb(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Id(t);)t=t.parent;return t.parent?od(t.parent,Od(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Sd(this.view,this.nodeDef):Sd(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):hd)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function cb(t,e,n){for(let r in e.references)n[r]=Jv(t,e,e.references[r])}function lb(t,e,n,r){const i=Z_,o=J_,s=X_;try{Z_=t;const a=e.apply(n,r);return J_=o,X_=s,Z_=i,a}catch(a){if(Io(a)||!J_)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),td(t,e),t}(a,hb())}}function hb(){return J_?new ub(J_,X_):null}class db{constructor(t){this.delegate=t}createRenderer(t,e){return new fb(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class fb{constructor(t){this.delegate=t,this.debugContextFactory=hb,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){Av.delete(t.nativeNode)}(Nv(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new wv(n,null,r);e.name=t,kv(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&kv(new bv(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&kv(new bv(e,null,n)),e}appendChild(t,e){const n=Nv(t),r=Nv(e);n&&r&&n instanceof wv&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Nv(t),i=Nv(e),o=Nv(n);r&&i&&r instanceof wv&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Nv(t),r=Nv(e);n&&r&&n instanceof wv&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=hb();return r&&kv(new wv(n,null,r)),n}setAttribute(t,e,n,r){const i=Nv(t);i&&i instanceof wv&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Nv(t);r&&r instanceof wv&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Nv(t);n&&n instanceof wv&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Nv(t);n&&n instanceof wv&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Nv(t);i&&i instanceof wv&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Nv(t);r&&r instanceof wv&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Nv(t);r&&r instanceof wv&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Nv(t);r&&r.listeners.push(new _v(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function pb(t){return N_(),ld.overrideProvider(t)}function gb(t,e){return N_(),ld.overrideComponentView(t,e)}function mb(){return N_(),ld.clearOverrides()}function yb(t,e,n){return new vb(t,e,n)}class vb extends uh{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){N_();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(jd(this._ngModuleDefFactory));return ld.createNgModuleRef(this.moduleType,t||Kt.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.environment={production:!1,firebase:{apiKey:"AIzaSyBL4ya5v1yFZ9jwtoOISHDZbXZv3-GPfKw",authDomain:"sala-de-juegos-ea37e.firebaseapp.com",projectId:"sala-de-juegos-ea37e",storageBucket:"sala-de-juegos-ea37e.appspot.com",messagingSenderId:"334176441614",appId:"1:334176441614:web:c3d17d5dbd5ea40d4af35f",measurementId:"G-F2713EBGN1"}}}).apply(e,[n,e]))||(t.exports=r)},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",(function(){return h}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},D8EZ:function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoginComponent=class{constructor(){}ngOnInit(){}}}).apply(e,r))||(t.exports=i)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GeC7:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},Gm1F:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mensaje=class{constructor(){this.id="",this.usuario="",this.mensaje="",this.estado=!1}}}).apply(e,[n,e]))||(t.exports=r)},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HJHu:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return i}));class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JX91:function(t,e,n){"use strict";var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}var s=n("z+Ro");function a(...t){const e=t[t.length-1];return Object(s.a)(e)?(t.pop(),n=>o(t,n,e)):e=>o(t,e)}n.d(e,"a",(function(){return a}))},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.3.1","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},"MT/P":function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("wD+u")],void 0===(i=(function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t){this.bd=t,this.rutaDeLaColeccion="/mensajeFire",this.referenciaAlaColeccion=t.collection(this.rutaDeLaColeccion)}Crear(t){return this.referenciaAlaColeccion.add(Object.assign({},t))}ObtenerTodos(){return this.referenciaAlaColeccion}BorrarMensaje(t){return this.referenciaAlaColeccion.doc(t).delete()}ModificarMensaje(t,e){return this.referenciaAlaColeccion.doc(t).update(e)}}i.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new i(n.ɵɵinject(r.AngularFirestore))},token:i,providedIn:"root"}),e.MensajefireService=i}).apply(e,r))||(t.exports=i)},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},OprF:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},PrD7:function(t,e,n){var r,i;r=[n,e,n("HJHu"),n("8Y7J"),n("bG0O")],void 0===(i=(function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function s(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["quien-soy works!"]))],null,null)}function a(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-quien-soy",[],null,null,null,s,o)),r.ɵdid(1,114688,null,0,i.QuienSoyComponent,[],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_QuienSoyComponent=o,e.View_QuienSoyComponent_0=s,e.View_QuienSoyComponent_Host_0=a;var u=r.ɵccf("app-quien-soy",i.QuienSoyComponent,a,{},{},[]);e.QuienSoyComponentNgFactory=u}).apply(e,r))||(t.exports=i)},SVse:function(t,e,n){"use strict";n.r(e),n.d(e,"ɵangular_packages_common_common_c",(function(){return re})),n.d(e,"ɵangular_packages_common_common_h",(function(){return xt})),n.d(e,"ɵangular_packages_common_common_g",(function(){return Tt})),n.d(e,"ɵangular_packages_common_common_f",(function(){return Dt})),n.d(e,"ɵangular_packages_common_common_k",(function(){return Jt})),n.d(e,"ɵangular_packages_common_common_j",(function(){return Yt})),n.d(e,"ɵangular_packages_common_common_i",(function(){return $t})),n.d(e,"ɵangular_packages_common_common_a",(function(){return dt})),n.d(e,"ɵangular_packages_common_common_b",(function(){return mt})),n.d(e,"ɵangular_packages_common_common_e",(function(){return Se})),n.d(e,"ɵangular_packages_common_common_d",(function(){return Ke})),n.d(e,"ɵregisterLocaleData",(function(){return yt})),n.d(e,"registerLocaleData",(function(){return yt})),n.d(e,"formatDate",(function(){return K})),n.d(e,"formatCurrency",(function(){return at})),n.d(e,"formatNumber",(function(){return ct})),n.d(e,"formatPercent",(function(){return ut})),n.d(e,"NgLocaleLocalization",(function(){return gt})),n.d(e,"NgLocalization",(function(){return ft})),n.d(e,"Plural",(function(){return p})),n.d(e,"NumberFormatStyle",(function(){return f})),n.d(e,"FormStyle",(function(){return g})),n.d(e,"TranslationWidth",(function(){return m})),n.d(e,"FormatWidth",(function(){return y})),n.d(e,"NumberSymbol",(function(){return v})),n.d(e,"WeekDay",(function(){return _})),n.d(e,"getNumberOfCurrencyDigits",(function(){return B})),n.d(e,"getCurrencySymbol",(function(){return U})),n.d(e,"getLocaleDayPeriods",(function(){return w})),n.d(e,"getLocaleDayNames",(function(){return C})),n.d(e,"getLocaleMonthNames",(function(){return E})),n.d(e,"getLocaleId",(function(){return b})),n.d(e,"getLocaleEraNames",(function(){return O})),n.d(e,"getLocaleWeekEndRange",(function(){return I})),n.d(e,"getLocaleFirstDayOfWeek",(function(){return S})),n.d(e,"getLocaleDateFormat",(function(){return D})),n.d(e,"getLocaleDateTimeFormat",(function(){return A})),n.d(e,"getLocaleExtraDayPeriodRules",(function(){return F})),n.d(e,"getLocaleExtraDayPeriods",(function(){return M})),n.d(e,"getLocalePluralCase",(function(){return R})),n.d(e,"getLocaleTimeFormat",(function(){return T})),n.d(e,"getLocaleNumberSymbol",(function(){return x})),n.d(e,"getLocaleNumberFormat",(function(){return N})),n.d(e,"getLocaleCurrencyName",(function(){return j})),n.d(e,"getLocaleCurrencySymbol",(function(){return k})),n.d(e,"ɵparseCookieValue",(function(){return vt})),n.d(e,"CommonModule",(function(){return $e})),n.d(e,"DeprecatedI18NPipesModule",(function(){return Ye})),n.d(e,"NgClass",(function(){return jt})),n.d(e,"NgClassBase",(function(){return kt})),n.d(e,"NgForOf",(function(){return Ft})),n.d(e,"NgForOfContext",(function(){return Pt})),n.d(e,"NgIf",(function(){return Lt})),n.d(e,"NgIfContext",(function(){return Vt})),n.d(e,"NgPlural",(function(){return zt})),n.d(e,"NgPluralCase",(function(){return Qt})),n.d(e,"NgStyle",(function(){return ee})),n.d(e,"NgStyleBase",(function(){return te})),n.d(e,"NgSwitch",(function(){return qt})),n.d(e,"NgSwitchCase",(function(){return Ht})),n.d(e,"NgSwitchDefault",(function(){return Gt})),n.d(e,"NgTemplateOutlet",(function(){return ne})),n.d(e,"NgComponentOutlet",(function(){return Rt})),n.d(e,"DOCUMENT",(function(){return Ze})),n.d(e,"AsyncPipe",(function(){return xe})),n.d(e,"DatePipe",(function(){return Pe})),n.d(e,"I18nPluralPipe",(function(){return Me})),n.d(e,"I18nSelectPipe",(function(){return Le})),n.d(e,"JsonPipe",(function(){return Ve})),n.d(e,"LowerCasePipe",(function(){return Ne})),n.d(e,"CurrencyPipe",(function(){return Ge})),n.d(e,"DecimalPipe",(function(){return qe})),n.d(e,"PercentPipe",(function(){return He})),n.d(e,"SlicePipe",(function(){return We})),n.d(e,"UpperCasePipe",(function(){return Re})),n.d(e,"TitleCasePipe",(function(){return je})),n.d(e,"KeyValuePipe",(function(){return Ue})),n.d(e,"DeprecatedDatePipe",(function(){return _e})),n.d(e,"DeprecatedCurrencyPipe",(function(){return Oe})),n.d(e,"DeprecatedDecimalPipe",(function(){return Ce})),n.d(e,"DeprecatedPercentPipe",(function(){return Ee})),n.d(e,"ɵPLATFORM_BROWSER_ID",(function(){return Je})),n.d(e,"ɵPLATFORM_SERVER_ID",(function(){return Xe})),n.d(e,"ɵPLATFORM_WORKER_APP_ID",(function(){return tn})),n.d(e,"ɵPLATFORM_WORKER_UI_ID",(function(){return en})),n.d(e,"isPlatformBrowser",(function(){return nn})),n.d(e,"isPlatformServer",(function(){return rn})),n.d(e,"isPlatformWorkerApp",(function(){return on})),n.d(e,"isPlatformWorkerUi",(function(){return sn})),n.d(e,"VERSION",(function(){return an})),n.d(e,"ViewportScroller",(function(){return un})),n.d(e,"ɵNullViewportScroller",(function(){return ln})),n.d(e,"ɵNgClassImplProvider__POST_R3__",(function(){return At})),n.d(e,"ɵNgClassR2Impl",(function(){return It})),n.d(e,"ɵNgClassImpl",(function(){return St})),n.d(e,"ɵNgStyleImplProvider__POST_R3__",(function(){return Zt})),n.d(e,"ɵNgStyleR2Impl",(function(){return Kt})),n.d(e,"ɵNgStyleImpl",(function(){return Wt})),n.d(e,"ɵngStyleDirectiveDef__POST_R3__",(function(){return Xt})),n.d(e,"ɵngClassDirectiveDef__POST_R3__",(function(){return Nt})),n.d(e,"PlatformLocation",(function(){return i})),n.d(e,"LOCATION_INITIALIZED",(function(){return o})),n.d(e,"LocationStrategy",(function(){return s})),n.d(e,"APP_BASE_HREF",(function(){return a})),n.d(e,"HashLocationStrategy",(function(){return l})),n.d(e,"PathLocationStrategy",(function(){return h})),n.d(e,"Location",(function(){return u}));var r=n("8Y7J");class i{}const o=new r.InjectionToken("Location Initialized");class s{}const a=new r.InjectionToken("appBaseHref");class u{constructor(t,e){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=u.stripTrailingSlash(c(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+u.normalizeQueryParams(e))}normalize(t){return u.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+u.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+u.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function c(t){return t.replace(/\/index.html$/,"")}class l extends s{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=u.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class h extends s{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return u.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const d={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"р.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",0],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"₱"],PKR:[void 0,"Rs",0],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RUR:[void 0,"р."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},f=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),p=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),g=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),m=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),y=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),v=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),_=function(){var t={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return t[t.Sunday]="Sunday",t[t.Monday]="Monday",t[t.Tuesday]="Tuesday",t[t.Wednesday]="Wednesday",t[t.Thursday]="Thursday",t[t.Friday]="Friday",t[t.Saturday]="Saturday",t}();function b(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].LocaleId]}function w(t,e,n){const i=Object(r["ɵfindLocaleData"])(t),o=L([i[r["ɵLocaleDataIndex"].DayPeriodsFormat],i[r["ɵLocaleDataIndex"].DayPeriodsStandalone]],e);return L(o,n)}function C(t,e,n){const i=Object(r["ɵfindLocaleData"])(t),o=L([i[r["ɵLocaleDataIndex"].DaysFormat],i[r["ɵLocaleDataIndex"].DaysStandalone]],e);return L(o,n)}function E(t,e,n){const i=Object(r["ɵfindLocaleData"])(t),o=L([i[r["ɵLocaleDataIndex"].MonthsFormat],i[r["ɵLocaleDataIndex"].MonthsStandalone]],e);return L(o,n)}function O(t,e){return L(Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].Eras],e)}function S(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].FirstDayOfWeek]}function I(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].WeekendRange]}function D(t,e){return L(Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].DateFormat],e)}function T(t,e){return L(Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].TimeFormat],e)}function A(t,e){return L(Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].DateTimeFormat],e)}function x(t,e){const n=Object(r["ɵfindLocaleData"])(t),i=n[r["ɵLocaleDataIndex"].NumberSymbols][e];if(void 0===i){if(e===v.CurrencyDecimal)return n[r["ɵLocaleDataIndex"].NumberSymbols][v.Decimal];if(e===v.CurrencyGroup)return n[r["ɵLocaleDataIndex"].NumberSymbols][v.Group]}return i}function N(t,e){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].NumberFormats][e]}function k(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].CurrencySymbol]||null}function j(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].CurrencyName]||null}const R=r["ɵgetLocalePluralCase"];function P(t){if(!t[r["ɵLocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r["ɵLocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t){const e=Object(r["ɵfindLocaleData"])(t);return P(e),(e[r["ɵLocaleDataIndex"].ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}function M(t,e,n){const i=Object(r["ɵfindLocaleData"])(t);P(i);const o=L([i[r["ɵLocaleDataIndex"].ExtraData][0],i[r["ɵLocaleDataIndex"].ExtraData][1]],e)||[];return L(o,n)||[]}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}function U(t,e,n="en"){const i=function(t){return Object(r["ɵfindLocaleData"])(t)[r["ɵLocaleDataIndex"].Currencies]}(n)[t]||d[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}function B(t){let e;const n=d[t];return n&&(e=n[2]),"number"==typeof e?e:2}const q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},G=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,z=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Q=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),W=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function K(t,e,n,r){let i=function(t){if(it(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(q))return rt(n)}const e=new Date(t);if(!it(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=b(e);if(H[r]=H[r]||{},H[r][n])return H[r][n];let i="";switch(n){case"shortDate":i=D(e,y.Short);break;case"mediumDate":i=D(e,y.Medium);break;case"longDate":i=D(e,y.Long);break;case"fullDate":i=D(e,y.Full);break;case"shortTime":i=T(e,y.Short);break;case"mediumTime":i=T(e,y.Medium);break;case"longTime":i=T(e,y.Long);break;case"fullTime":i=T(e,y.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=$(A(e,y.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=$(A(e,y.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=$(A(e,y.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");i=$(A(e,y.Full),[c,l])}return i&&(H[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=G.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=nt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(nt(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(et[t])return et[t];let e;switch(t){case"G":case"GG":case"GGG":e=J(W.Eras,m.Abbreviated);break;case"GGGG":e=J(W.Eras,m.Wide);break;case"GGGGG":e=J(W.Eras,m.Narrow);break;case"y":e=Z(Q.FullYear,1,0,!1,!0);break;case"yy":e=Z(Q.FullYear,2,0,!0,!0);break;case"yyy":e=Z(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=Z(Q.FullYear,4,0,!1,!0);break;case"M":case"L":e=Z(Q.Month,1,1);break;case"MM":case"LL":e=Z(Q.Month,2,1);break;case"MMM":e=J(W.Months,m.Abbreviated);break;case"MMMM":e=J(W.Months,m.Wide);break;case"MMMMM":e=J(W.Months,m.Narrow);break;case"LLL":e=J(W.Months,m.Abbreviated,g.Standalone);break;case"LLLL":e=J(W.Months,m.Wide,g.Standalone);break;case"LLLLL":e=J(W.Months,m.Narrow,g.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=Z(Q.Date,1);break;case"dd":e=Z(Q.Date,2);break;case"E":case"EE":case"EEE":e=J(W.Days,m.Abbreviated);break;case"EEEE":e=J(W.Days,m.Wide);break;case"EEEEE":e=J(W.Days,m.Narrow);break;case"EEEEEE":e=J(W.Days,m.Short);break;case"a":case"aa":case"aaa":e=J(W.DayPeriods,m.Abbreviated);break;case"aaaa":e=J(W.DayPeriods,m.Wide);break;case"aaaaa":e=J(W.DayPeriods,m.Narrow);break;case"b":case"bb":case"bbb":e=J(W.DayPeriods,m.Abbreviated,g.Standalone,!0);break;case"bbbb":e=J(W.DayPeriods,m.Wide,g.Standalone,!0);break;case"bbbbb":e=J(W.DayPeriods,m.Narrow,g.Standalone,!0);break;case"B":case"BB":case"BBB":e=J(W.DayPeriods,m.Abbreviated,g.Format,!0);break;case"BBBB":e=J(W.DayPeriods,m.Wide,g.Format,!0);break;case"BBBBB":e=J(W.DayPeriods,m.Narrow,g.Format,!0);break;case"h":e=Z(Q.Hours,1,-12);break;case"hh":e=Z(Q.Hours,2,-12);break;case"H":e=Z(Q.Hours,1);break;case"HH":e=Z(Q.Hours,2);break;case"m":e=Z(Q.Minutes,1);break;case"mm":e=Z(Q.Minutes,2);break;case"s":e=Z(Q.Seconds,1);break;case"ss":e=Z(Q.Seconds,2);break;case"S":e=Z(Q.FractionalSeconds,1);break;case"SS":e=Z(Q.FractionalSeconds,2);break;case"SSS":e=Z(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(z.Short);break;case"ZZZZZ":e=X(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(z.Long);break;default:return null}return et[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Y(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Z(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Q.Hours)0===a&&-12===n&&(a=12);else if(t===Q.FractionalSeconds)return u=e,Y(a,3).substr(0,u);var u;const c=x(s,v.MinusSign);return Y(a,e,c,r,i)}}function J(t,e,n=g.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case W.Months:return E(e,i,r)[t.getMonth()];case W.Days:return C(e,i,r)[t.getDay()];case W.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=F(e),n=M(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:u,minutes:c}=t[1];s>=r&&a>=i&&(s<u||s===u&&a<c)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return w(e,i,r)[s<12?0:1];case W.Eras:return O(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function X(t){return function(e,n,r){const i=-1*r,o=x(n,v.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case z.Short:return(i>=0?"+":"")+Y(s,2,o)+Y(Math.abs(i%60),2,o);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+Y(s,1,o);case z.Long:return"GMT"+(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Y(i,t,x(r,v.MinusSign))}}const et={};function nt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rt(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}function it(t){return t instanceof Date&&!isNaN(t.valueOf())}const ot=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function st(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(ot);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=ht(e)),null!=n&&(h=ht(n)),null!=r?d=ht(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(x(n,r)),m.length&&(a+=x(n,i)+m.join("")),g&&(a+=x(n,v.Exponential)+"+"+g)}else a=x(n,v.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function at(t,e,n,r,i){const o=lt(N(e,f.Currency),x(e,v.MinusSign));return o.minFrac=B(r),o.maxFrac=o.minFrac,st(t,o,e,v.CurrencyGroup,v.CurrencyDecimal,i).replace("¤",n).replace("¤","")}function ut(t,e,n){return st(t,lt(N(e,f.Percent),x(e,v.MinusSign)),e,v.Group,v.Decimal,n,!0).replace(new RegExp("%","g"),x(e,v.PercentSign))}function ct(t,e,n){return st(t,lt(N(e,f.Decimal),x(e,v.MinusSign)),e,v.Group,v.Decimal,n)}function lt(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function ht(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const dt=new r.InjectionToken("UseV4Plurals");class ft{}function pt(t,e,n,r){let i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}class gt extends ft{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):R(e||this.locale)(t)){case p.Zero:return"zero";case p.One:return"one";case p.Two:return"two";case p.Few:return"few";case p.Many:return"many";default:return"other"}}}function mt(t,e){"string"==typeof e&&(e=parseInt(e,10));const n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?p.One:p.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?p.One:p.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?p.One:p.Other;case"ar":return 0===n?p.Zero:1===n?p.One:2===n?p.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?p.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?p.Many:p.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?p.One:p.Other;case"be":return n%10==1&&n%100!=11?p.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?p.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?p.Many:p.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?p.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?p.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?p.Few:0!==n&&n%1e6==0?p.Many:p.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?p.Few:p.Other;case"cs":case"sk":return 1===i&&0===o?p.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?p.Few:0!==o?p.Many:p.Other;case"cy":return 0===n?p.Zero:1===n?p.One:2===n?p.Two:3===n?p.Few:6===n?p.Many:p.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?p.One:p.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?p.One:0===o&&i%100==2||s%100==2?p.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?p.Few:p.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?p.One:p.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?p.One:p.Other;case"ga":return 1===n?p.One:2===n?p.Two:n===Math.floor(n)&&n>=3&&n<=6?p.Few:n===Math.floor(n)&&n>=7&&n<=10?p.Many:p.Other;case"gd":return 1===n||11===n?p.One:2===n||12===n?p.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?p.Few:p.Other;case"gv":return 0===o&&i%10==1?p.One:0===o&&i%10==2?p.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?p.Many:p.Other:p.Few;case"he":return 1===i&&0===o?p.One:2===i&&0===o?p.Two:0!==o||n>=0&&n<=10||n%10!=0?p.Other:p.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?p.One:p.Other;case"ksh":return 0===n?p.Zero:1===n?p.One:p.Other;case"kw":case"naq":case"se":case"smn":return 1===n?p.One:2===n?p.Two:p.Other;case"lag":return 0===n?p.Zero:0!==i&&1!==i||0===n?p.Other:p.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?p.Few:0!==s?p.Many:p.Other:p.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?p.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?p.One:p.Other;case"mk":return 0===o&&i%10==1||s%10==1?p.One:p.Other;case"mt":return 1===n?p.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?p.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?p.Many:p.Other;case"pl":return 1===i&&0===o?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?p.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?p.Many:p.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?p.One:p.Other;case"ro":return 1===i&&0===o?p.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?p.Few:p.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?p.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?p.Many:p.Other;case"shi":return 0===i||1===n?p.One:n===Math.floor(n)&&n>=2&&n<=10?p.Few:p.Other;case"si":return 0===n||1===n||0===i&&1===s?p.One:p.Other;case"sl":return 0===o&&i%100==1?p.One:0===o&&i%100==2?p.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?p.Few:p.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?p.One:p.Other;default:return p.Other}}function yt(t,e,n){"string"!=typeof e&&(n=e,e=t[r["ɵLocaleDataIndex"].LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),r["ɵLOCALE_DATA"][e]=t,n&&(r["ɵLOCALE_DATA"][e][r["ɵLocaleDataIndex"].ExtraData]=n)}function vt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class _t{constructor(t,e){this._name=t,this._options=e,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(t){if(Array.isArray(t))this._lastSetValueType=4;else if(t instanceof Set)this._lastSetValueType=8;else if(t&&"string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=t?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=t||null}hasValueChanged(){let t=this._lastSetValueIdentityChange;if(!(t||14&this._lastSetValueType))return!1;let e=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const o=this._lastSetValue.split(/\s+/g);16&this._options?(e={},o.forEach((t,n)=>e[t]=!0)):e=o.reduce((t,e,n)=>t+(n?" ":"")+e);break;case 2:const s=this._lastSetValue,a=Object.keys(s);t||(t=!this.value||function(t,e,n){const r=t;if(!Ot(Object.keys(e),r))return!0;for(let i=0;i<r.length;i++){const t=r[i];if(e[t]!==n[t])return!0}return!1}(a,this.value,s)),t&&(e=bt(this._name,n,r,i,s,a));break;case 4:case 8:const u=Array.from(this._lastSetValue);t||(t=!Ot(Object.keys(this.value),u)),t&&(e=bt(this._name,n,r,i,u));break;default:e=null}return t&&(this.value=e),t}}function bt(t,e,n,r,i,o){const s={};if(o)for(let a=0;a<o.length;a++){let t=o[a];t=e?t.trim():t,Ct(s,t,i[t],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];wt(t,n),n=e?n.trim():n,Ct(s,n,!0,!1,r)}return s}function wt(t,e){if("string"!=typeof e)throw new Error(`${t} can only toggle CSS classes expressed as strings, got ${e}`)}function Ct(t,e,n,r,i){if(i&&e.indexOf(" ")>0){const i=e.split(/\s+/g);for(let e=0;e<i.length;e++)Et(t,i[e],n,r)}else Et(t,e,n,r)}function Et(t,e,n,r){if(r){const t=function(t,e){const n=t.indexOf(".");if(n>0){const r=t.substr(n+1);t=t.substring(0,n),null!=e&&(e+=r)}return{key:t,value:e}}(e,n);n=t.value,e=t.key}t[e]=n}function Ot(t,e){if(t&&e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}return!1}class St{}class It{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["ɵisListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["ɵstringify"])(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}class Dt{constructor(){this._value=null,this._ngClassDiffer=new _t("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(t){(t||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new _t("class",20),this._classStringDiffer.setValue(t))}setNgClass(t){this._ngClassDiffer.setValue(t)}applyChanges(){const t=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),e=this._ngClassDiffer.hasValueChanged();if(t||e){let t=this._ngClassDiffer.value;if(this._classStringDiffer){let e=this._classStringDiffer.value;e&&(t=t?Object.assign({},e,t):e)}this._value=t}}}const Tt={provide:St,useClass:It},At={provide:St,useClass:Dt},xt=Tt,Nt=Object(r["ɵɵdefineDirective"])({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){1&t&&Object(r["ɵɵstyling"])(),2&t&&(Object(r["ɵɵclassMap"])(e.getValue()),Object(r["ɵɵstylingApply"])())}});let kt=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class jt extends kt{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class Rt{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}class Pt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Ft{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Pt(null,this._ngForOf,-1,-1),r),i=new Mt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Mt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Mt{constructor(t,e){this.record=t,this.view=e}}class Lt{constructor(t,e){this._viewContainer=t,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ut("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ut("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function Ut(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r["ɵstringify"])(e)}'.`)}class Bt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class qt{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Ht{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Bt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class Gt{constructor(t,e,n){n._addDefault(new Bt(t,e))}}class zt{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=pt(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}class Qt{constructor(t,e,n,r){this.value=t;const i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Bt(n,e))}}class Wt{}class Kt{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}class $t{constructor(){this._differ=new _t("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(t){this._differ.setValue(t)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}const Yt={provide:Wt,useClass:Kt},Zt={provide:Wt,useClass:$t},Jt=Yt,Xt=Object(r["ɵɵdefineDirective"])({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){1&t&&Object(r["ɵɵstyling"])(),2&t&&(Object(r["ɵɵstyleMap"])(e.getValue()),Object(r["ɵɵstylingApply"])())}});let te=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class ee extends te{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}class ne{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}const re=[jt,Rt,Ft,Lt,ne,ee,qt,Ht,Gt,zt,Qt];function ie(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r["ɵstringify"])(t)}'`)}const oe=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,se={yMMMdjms:ye(me([pe("year",1),ge("month",3),pe("day",1),pe("hour",1),pe("minute",1),pe("second",1)])),yMdjm:ye(me([pe("year",1),pe("month",1),pe("day",1),pe("hour",1),pe("minute",1)])),yMMMMEEEEd:ye(me([pe("year",1),ge("month",4),ge("weekday",4),pe("day",1)])),yMMMMd:ye(me([pe("year",1),ge("month",4),pe("day",1)])),yMMMd:ye(me([pe("year",1),ge("month",3),pe("day",1)])),yMd:ye(me([pe("year",1),pe("month",1),pe("day",1)])),jms:ye(me([pe("hour",1),pe("second",1),pe("minute",1)])),jm:ye(me([pe("hour",1),pe("minute",1)]))},ae={yyyy:ye(pe("year",4)),yy:ye(pe("year",2)),y:ye(pe("year",1)),MMMM:ye(ge("month",4)),MMM:ye(ge("month",3)),MM:ye(pe("month",2)),M:ye(pe("month",1)),LLLL:ye(ge("month",4)),L:ye(ge("month",1)),dd:ye(pe("day",2)),d:ye(pe("day",1)),HH:ue(le(ye(fe(pe("hour",2),!1)))),H:le(ye(fe(pe("hour",1),!1))),hh:ue(le(ye(fe(pe("hour",2),!0)))),h:le(ye(fe(pe("hour",1),!0))),jj:ye(pe("hour",2)),j:ye(pe("hour",1)),mm:ue(ye(pe("minute",2))),m:ye(pe("minute",1)),ss:ue(ye(pe("second",2))),s:ye(pe("second",1)),sss:ye(pe("second",3)),EEEE:ye(ge("weekday",4)),EEE:ye(ge("weekday",3)),EE:ye(ge("weekday",2)),E:ye(ge("weekday",1)),a:ce(ye(fe(pe("hour",1),!0))),Z:de("short"),z:de("long"),ww:ye({}),w:ye({}),G:ye(ge("era",1)),GG:ye(ge("era",2)),GGG:ye(ge("era",3)),GGGG:ye(ge("era",4))};function ue(t){return function(e,n){const r=t(e,n);return 1==r.length?"0"+r:r}}function ce(t){return function(e,n){return t(e,n).split(" ")[1]}}function le(t){return function(e,n){return t(e,n).split(" ")[0]}}function he(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function de(t){const e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){const r=he(t,n,e);return r?r.substring(3):""}}function fe(t,e){return t.hour12=e,t}function pe(t,e){const n={};return n[t]=2===e?"2-digit":"numeric",n}function ge(t,e){const n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function me(t){return t.reduce((t,e)=>Object.assign({},t,e),{})}function ye(t){return(e,n)=>he(e,n,t)}const ve=new Map;let _e=(()=>{class t{constructor(t){this._locale=t}transform(e,n="mediumDate"){if(null==e||""===e||e!=e)return null;let r;if("string"==typeof e&&(e=e.trim()),be(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(t=>parseInt(t,10));r=new Date(t,n-1,i)}else r=new Date(e);else r=new Date(parseFloat(e));if(!be(r)){let n;if("string"!=typeof e||!(n=e.match(q)))throw ie(t,e);r=rt(n)}return class{static format(t,e,n){return function(t,e,n){const r=se[t];if(r)return r(e,n);const i=t;let o=ve.get(i);if(!o){let e;o=[],oe.exec(t);let n=t;for(;n;)e=oe.exec(n),e?(o=o.concat(e.slice(1)),n=o.pop()):(o.push(n),n=null);ve.set(i,o)}return o.reduce((t,r)=>{const i=ae[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)}}.format(r,this._locale,t._ALIASES[n]||n)}}return t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t})();function be(t){return t instanceof Date&&!isNaN(t.valueOf())}function we(t,e,n,r,i,o=null,s=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw ie(t,n);let a,u,c;if(r!==f.Currency&&(a=1,u=0,c=3),i){const t=i.match(ot);if(null===t)throw new Error(i+" is not a valid digit info for number pipes");null!=t[1]&&(a=ht(t[1])),null!=t[3]&&(u=ht(t[3])),null!=t[5]&&(c=ht(t[5]))}return class{static format(t,e,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,currency:a,currencyAsSymbol:u=!1}=r,c={minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,style:f[n].toLowerCase()};return n==f.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=u?"symbol":"code"),new Intl.NumberFormat(e,c).format(t)}}.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}class Ce{constructor(t){this._locale=t}transform(t,e){return we(Ce,this._locale,t,f.Decimal,e)}}class Ee{constructor(t){this._locale=t}transform(t,e){return we(Ee,this._locale,t,f.Percent,e)}}class Oe{constructor(t){this._locale=t}transform(t,e="USD",n=!1,r){return we(Oe,this._locale,t,f.Currency,r,e,n)}}const Se=[Ce,Ee,Oe,_e];class Ie{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class De{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Te=new De,Ae=new Ie;class xe{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r["ɵlooseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r["ɵisPromise"])(t))return Te;if(Object(r["ɵisObservable"])(t))return Ae;throw ie(xe,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class Ne{transform(t){if(!t)return t;if("string"!=typeof t)throw ie(Ne,t);return t.toLowerCase()}}const ke=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class je{transform(t){if(!t)return t;if("string"!=typeof t)throw ie(je,t);return t.replace(ke,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}class Re{transform(t){if(!t)return t;if("string"!=typeof t)throw ie(Re,t);return t.toUpperCase()}}class Pe{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return K(t,e,r||this.locale,n)}catch(i){throw ie(Pe,i.message)}}}const Fe=/#/g;class Me{constructor(t){this._localization=t}transform(t,e,n){if(null==t)return"";if("object"!=typeof e||null===e)throw ie(Me,e);return e[pt(t,Object.keys(e),this._localization,n)].replace(Fe,t.toString())}}class Le{transform(t,e){if(null==t)return"";if("object"!=typeof e||"string"!=typeof t)throw ie(Le,e);return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty("other")?e.other:""}}class Ve{transform(t){return JSON.stringify(t,null,2)}}class Ue{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=Be){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}function Be(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}class qe{constructor(t){this._locale=t}transform(t,e,n){if(ze(t))return null;n=n||this._locale;try{return ct(Qe(t),n,e)}catch(r){throw ie(qe,r.message)}}}class He{constructor(t){this._locale=t}transform(t,e,n){if(ze(t))return null;n=n||this._locale;try{return ut(Qe(t),n,e)}catch(r){throw ie(He,r.message)}}}class Ge{constructor(t){this._locale=t}transform(t,e,n="symbol",r,i){if(ze(t))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let o=e||"USD";"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?U(o,"symbol"===n?"wide":"narrow",i):n);try{return at(Qe(t),i,o,e,r)}catch(s){throw ie(Ge,s.message)}}}function ze(t){return null==t||""===t||t!=t}function Qe(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}class We{transform(t,e,n){if(null==t)return t;if(!this.supports(t))throw ie(We,t);return t.slice(e,n)}supports(t){return"string"==typeof t||Array.isArray(t)}}const Ke=[xe,Re,Ne,Ve,We,qe,He,je,Ge,Pe,Me,Le,Ue];class $e{}class Ye{}const Ze=new r.InjectionToken("DocumentToken"),Je="browser",Xe="server",tn="browserWorkerApp",en="browserWorkerUi";function nn(t){return t===Je}function rn(t){return t===Xe}function on(t){return t===tn}function sn(t){return t===en}const an=new r.Version("8.1.3");let un=(()=>{class t{}return t.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({token:t,providedIn:"root",factory:()=>new cn(Object(r["ɵɵinject"])(Ze),window,Object(r["ɵɵinject"])(r.ErrorHandler))}),t})();class cn{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class ln{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}},SeVD:function(t,e,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");n.d(e,"a",(function(){return l}));const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},Ss9G:function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("ZAI4"),n("Sy1n"),n("pMnS"),n("k2fU"),n("eMDV"),n("X/zK"),n("eVfs"),n("1oRc"),n("PrD7"),n("yvrC"),n("SVse"),n("cUpR"),n("iInd"),n("s7LF"),n("jmUF"),n("wD+u"),n("VRCc"),n("bSaC"),n("WSoB"),n("7+Fz"),n("gB6g"),n("D8EZ"),n("1LmZ"),n("bG0O"),n("vY5A")],void 0===(i=(function(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,_,b,w,C,E,O,S,I,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var T=n.ɵcmf(r.AppModule,[i.AppComponent],(function(t){return n.ɵmod([n.ɵmpd(512,n.ComponentFactoryResolver,n.ɵCodegenComponentFactoryResolver,[[8,[o.ɵangular_packages_router_router_lNgFactory,s.ChatComponentNgFactory,a.ListadoComponentNgFactory,u.UsuarioComponentNgFactory,c.LoginComponentNgFactory,l.HomeComponentNgFactory,h.QuienSoyComponentNgFactory,d.AppComponentNgFactory]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n.ɵmpd(5120,n.LOCALE_ID,n.ɵangular_packages_core_core_q,[[3,n.LOCALE_ID]]),n.ɵmpd(4608,f.NgLocalization,f.NgLocaleLocalization,[n.LOCALE_ID,[2,f.ɵangular_packages_common_common_a]]),n.ɵmpd(5120,n.ɵangular_packages_core_core_bb,n.ɵangular_packages_core_core_s,[n.NgZone]),n.ɵmpd(5120,n.APP_ID,n.ɵangular_packages_core_core_f,[]),n.ɵmpd(5120,n.IterableDiffers,n.ɵangular_packages_core_core_o,[]),n.ɵmpd(5120,n.KeyValueDiffers,n.ɵangular_packages_core_core_p,[]),n.ɵmpd(4608,p.DomSanitizer,p.ɵDomSanitizerImpl,[f.DOCUMENT]),n.ɵmpd(6144,n.Sanitizer,null,[p.DomSanitizer]),n.ɵmpd(4608,p.HAMMER_GESTURE_CONFIG,p.HammerGestureConfig,[]),n.ɵmpd(5120,p.EVENT_MANAGER_PLUGINS,(function(t,e,n,r,i,o,s,a){return[new p.ɵDomEventsPlugin(t,e,n),new p.ɵKeyEventsPlugin(r),new p.ɵHammerGesturesPlugin(i,o,s,a)]}),[f.DOCUMENT,n.NgZone,n.PLATFORM_ID,f.DOCUMENT,f.DOCUMENT,p.HAMMER_GESTURE_CONFIG,n.ɵConsole,[2,p.HAMMER_LOADER]]),n.ɵmpd(4608,p.EventManager,p.EventManager,[p.EVENT_MANAGER_PLUGINS,n.NgZone]),n.ɵmpd(135680,p.ɵDomSharedStylesHost,p.ɵDomSharedStylesHost,[f.DOCUMENT]),n.ɵmpd(4608,p.ɵDomRendererFactory2,p.ɵDomRendererFactory2,[p.EventManager,p.ɵDomSharedStylesHost,n.APP_ID]),n.ɵmpd(6144,n.RendererFactory2,null,[p.ɵDomRendererFactory2]),n.ɵmpd(6144,p.ɵSharedStylesHost,null,[p.ɵDomSharedStylesHost]),n.ɵmpd(4608,n.Testability,n.Testability,[n.NgZone]),n.ɵmpd(5120,g.ActivatedRoute,g.ɵangular_packages_router_router_g,[g.Router]),n.ɵmpd(4608,g.NoPreloading,g.NoPreloading,[]),n.ɵmpd(6144,g.PreloadingStrategy,null,[g.NoPreloading]),n.ɵmpd(135680,g.RouterPreloader,g.RouterPreloader,[g.Router,n.NgModuleFactoryLoader,n.Compiler,n.Injector,g.PreloadingStrategy]),n.ɵmpd(4608,g.PreloadAllModules,g.PreloadAllModules,[]),n.ɵmpd(5120,g.ɵangular_packages_router_router_o,g.ɵangular_packages_router_router_c,[g.Router,f.ViewportScroller,g.ROUTER_CONFIGURATION]),n.ɵmpd(5120,g.ROUTER_INITIALIZER,g.ɵangular_packages_router_router_j,[g.ɵangular_packages_router_router_h]),n.ɵmpd(5120,n.APP_BOOTSTRAP_LISTENER,(function(t){return[t]}),[g.ROUTER_INITIALIZER]),n.ɵmpd(4608,m.ɵangular_packages_forms_forms_o,m.ɵangular_packages_forms_forms_o,[]),n.ɵmpd(5120,y.FirebaseApp,y.ɵfirebaseAppFactory,[y.FIREBASE_OPTIONS,n.NgZone,[2,y.FIREBASE_APP_NAME]]),n.ɵmpd(4608,v.AngularFirestore,v.AngularFirestore,[y.FIREBASE_OPTIONS,[2,y.FIREBASE_APP_NAME],[2,v.ENABLE_PERSISTENCE],[2,v.SETTINGS],n.PLATFORM_ID,n.NgZone,[2,v.PERSISTENCE_SETTINGS],[2,v.USE_EMULATOR],[2,_.USE_EMULATOR]]),n.ɵmpd(4608,b.AngularFireDatabase,b.AngularFireDatabase,[y.FIREBASE_OPTIONS,[2,y.FIREBASE_APP_NAME],[2,b.URL],n.PLATFORM_ID,n.NgZone,[2,b.USE_EMULATOR],[2,_.USE_EMULATOR]]),n.ɵmpd(1073742336,f.CommonModule,f.CommonModule,[]),n.ɵmpd(1024,n.ErrorHandler,p.ɵangular_packages_platform_browser_platform_browser_a,[]),n.ɵmpd(1024,n.NgProbeToken,(function(){return[g.ɵangular_packages_router_router_b()]}),[]),n.ɵmpd(512,g.ɵangular_packages_router_router_h,g.ɵangular_packages_router_router_h,[n.Injector]),n.ɵmpd(1024,n.APP_INITIALIZER,(function(t,e){return[p.ɵangular_packages_platform_browser_platform_browser_j(t),g.ɵangular_packages_router_router_i(e)]}),[[2,n.NgProbeToken],g.ɵangular_packages_router_router_h]),n.ɵmpd(512,n.ApplicationInitStatus,n.ApplicationInitStatus,[[2,n.APP_INITIALIZER]]),n.ɵmpd(131584,n.ApplicationRef,n.ApplicationRef,[n.NgZone,n.ɵConsole,n.Injector,n.ErrorHandler,n.ComponentFactoryResolver,n.ApplicationInitStatus]),n.ɵmpd(1073742336,n.ApplicationModule,n.ApplicationModule,[n.ApplicationRef]),n.ɵmpd(1073742336,p.BrowserModule,p.BrowserModule,[[3,p.BrowserModule]]),n.ɵmpd(1024,g.ɵangular_packages_router_router_a,g.ɵangular_packages_router_router_e,[[3,g.Router]]),n.ɵmpd(512,g.UrlSerializer,g.DefaultUrlSerializer,[]),n.ɵmpd(512,g.ChildrenOutletContexts,g.ChildrenOutletContexts,[]),n.ɵmpd(256,g.ROUTER_CONFIGURATION,{},[]),n.ɵmpd(1024,f.LocationStrategy,g.ɵangular_packages_router_router_d,[f.PlatformLocation,[2,f.APP_BASE_HREF],g.ROUTER_CONFIGURATION]),n.ɵmpd(512,f.Location,f.Location,[f.LocationStrategy,f.PlatformLocation]),n.ɵmpd(512,n.Compiler,n.Compiler,[]),n.ɵmpd(512,n.NgModuleFactoryLoader,n.SystemJsNgModuleLoader,[n.Compiler,[2,n.SystemJsNgModuleLoaderConfig]]),n.ɵmpd(1024,g.ROUTES,(function(){return[[{path:"charla",component:w.ChatComponent},{path:"listado",component:C.ListadoComponent},{path:"usuario",component:E.UsuarioComponent},{path:"login",component:O.LoginComponent},{path:"home",component:S.HomeComponent},{path:"quien-soy",component:I.QuienSoyComponent}]]}),[]),n.ɵmpd(1024,g.Router,g.ɵangular_packages_router_router_f,[n.ApplicationRef,g.UrlSerializer,g.ChildrenOutletContexts,f.Location,n.Injector,n.NgModuleFactoryLoader,n.Compiler,g.ROUTES,g.ROUTER_CONFIGURATION,[2,g.UrlHandlingStrategy],[2,g.RouteReuseStrategy]]),n.ɵmpd(1073742336,g.RouterModule,g.RouterModule,[[2,g.ɵangular_packages_router_router_a],[2,g.Router]]),n.ɵmpd(1073742336,D.AppRoutingModule,D.AppRoutingModule,[]),n.ɵmpd(1073742336,m.ɵangular_packages_forms_forms_d,m.ɵangular_packages_forms_forms_d,[]),n.ɵmpd(1073742336,m.FormsModule,m.FormsModule,[]),n.ɵmpd(1073742336,y.AngularFireModule,y.AngularFireModule,[n.PLATFORM_ID]),n.ɵmpd(1073742336,v.AngularFirestoreModule,v.AngularFirestoreModule,[]),n.ɵmpd(1073742336,b.AngularFireDatabaseModule,b.AngularFireDatabaseModule,[]),n.ɵmpd(1073742336,r.AppModule,r.AppModule,[]),n.ɵmpd(256,n.ɵAPP_ROOT,!0,[]),n.ɵmpd(256,y.FIREBASE_OPTIONS,{apiKey:"AIzaSyBL4ya5v1yFZ9jwtoOISHDZbXZv3-GPfKw",authDomain:"sala-de-juegos-ea37e.firebaseapp.com",projectId:"sala-de-juegos-ea37e",storageBucket:"sala-de-juegos-ea37e.appspot.com",messagingSenderId:"334176441614",appId:"1:334176441614:web:c3d17d5dbd5ea40d4af35f",measurementId:"G-F2713EBGN1"},[]),n.ɵmpd(256,y.FIREBASE_APP_NAME,void 0,[])])}));e.AppModuleNgFactory=T}).apply(e,r))||(t.exports=i)},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new r.a))}},Sy1n:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppComponent=class{constructor(){this.title="sala-de-juegos"}}}).apply(e,[n,e]))||(t.exports=r)},VRCc:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("XNiG"),o=n("LRne"),s=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),d=n("qgXg"),f=n("quSY"),p=n("9ppp"),g=n("Ylt2");class m extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new y(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new p.a;if(this.isStopped||this.hasError?o=f.a.EMPTY:(this.observers.push(t),o=new g.a(this,t)),r&&t.add(t=new c.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||d.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class y{constructor(t,e){this.time=t,this.value=e}}function v(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new m(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var _=n("SxV6");function b(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var w=n("tf+s"),C=n("pLZG"),E=n("jmUF"),O=n("SVse");n.d(e,"AngularFireAuth",(function(){return N})),n.d(e,"AngularFireAuthModule",(function(){return k})),n.d(e,"LANGUAGE_CODE",(function(){return T})),n.d(e,"PERSISTENCE",(function(){return x})),n.d(e,"SETTINGS",(function(){return I})),n.d(e,"TENANT_ID",(function(){return D})),n.d(e,"USE_DEVICE_LANGUAGE",(function(){return A})),n.d(e,"USE_EMULATOR",(function(){return S}));const S=new r.InjectionToken("angularfire2.auth.use-emulator"),I=new r.InjectionToken("angularfire2.auth.settings"),D=new r.InjectionToken("angularfire2.auth.tenant-id"),T=new r.InjectionToken("angularfire2.auth.langugage-code"),A=new r.InjectionToken("angularfire2.auth.use-device-language"),x=new r.InjectionToken("angularfire.auth.persistence");let N=(()=>{class t{constructor(t,e,r,d,f,p,g,m,y,S){const I=new E["ɵAngularFireSchedulers"](d),D=Object(E["ɵkeepUnstableUntilFirstFactory"])(I),T=new i.a,A=Object(o.a)(void 0).pipe(Object(c.b)(I.outsideAngular),Object(l.a)(()=>d.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(E["ɵfirebaseAppFactory"])(t,d,e)),Object(h.a)(t=>d.runOutsideAngular(()=>{const e=f,n=p;return Object(E["ɵfetchInstance"])(t.name+".auth","AngularFireAuth",t,()=>{const r=d.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),g&&(r.tenantId=g),r.languageCode=m,y&&r.useDeviceLanguage(),n&&(r.settings=n),S&&r.setPersistence(S),r},[e,g,m,y,n,S])})),v({bufferSize:1,refCount:!1}));if(Object(O.isPlatformServer)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(o.a)(null);else{A.pipe(Object(_.a)()).subscribe();const t=A.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),D,v({bufferSize:1,refCount:!1})),e=t=>new s.a(e=>({unsubscribe:d.runOutsideAngular(()=>t(e))})),n=A.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=A.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(b(n),Object(w.a)(I.outsideAngular),Object(c.b)(I.insideAngular)),this.user=t.pipe(b(r),Object(w.a)(I.outsideAngular),Object(c.b)(I.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(o.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(o.a)(null))),this.credential=Object(u.a)(t,T,this.authState.pipe(Object(C.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(w.a)(I.outsideAngular),Object(c.b)(I.insideAngular))}return Object(E["ɵlazySDKProxy"])(this,A,d,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>T.next(t))}}})}}return t.ɵprov=Object(r["ɵɵdefineInjectable"])({factory:function(){return new t(Object(r["ɵɵinject"])(E.FIREBASE_OPTIONS),Object(r["ɵɵinject"])(E.FIREBASE_APP_NAME,8),Object(r["ɵɵinject"])(r.PLATFORM_ID),Object(r["ɵɵinject"])(r.NgZone),Object(r["ɵɵinject"])(S,8),Object(r["ɵɵinject"])(I,8),Object(r["ɵɵinject"])(D,8),Object(r["ɵɵinject"])(T,8),Object(r["ɵɵinject"])(A,8),Object(r["ɵɵinject"])(x,8))},token:t,providedIn:"any"}),t})();class k{}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WSoB:function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("Gm1F")],void 0===(i=(function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChatComponent=class{constructor(t,e,n){this.MiServicio=t,this.MiServicioReal=e,this.MiServicioUsuario=n,this.mensaje=new r.Mensaje}Enviar(){console.log(this.MiServicioReal),this.mensaje.usuario=this.MiServicioUsuario.usuarioVigente,this.MiServicio.Crear(this.mensaje).then(()=>{console.log("se envio el msj FIRE")}),this.MiServicioReal.CrearUno(this.mensaje).then(()=>{console.log("se envio el msj REAL")})}ngOnInit(){}}}).apply(e,r))||(t.exports=i)},"X/zK":function(t,e,n){var r,i;r=[n,e,n("y+yP"),n("8Y7J"),n("s7LF"),n("gB6g"),n("wop4")],void 0===(i=(function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function u(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["usuario works!"])),(t()(),r.ɵeld(2,0,null,null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.ɵnov(t,3)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.ɵnov(t,3).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.ɵnov(t,3)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.ɵnov(t,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario=n)&&i),i}),null,null)),r.ɵdid(3,16384,null,0,i.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),r.ɵprd(1024,null,i.NG_VALUE_ACCESSOR,(function(t){return[t]}),[i.DefaultValueAccessor]),r.ɵdid(5,671744,null,0,i.NgModel,[[8,null],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),r.ɵprd(2048,null,i.NgControl,null,[i.NgModel]),r.ɵdid(7,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(t()(),r.ɵeld(8,0,null,null,1,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Guardar()&&r),r}),null,null)),(t()(),r.ɵted(-1,null,["Guardar"]))],(function(t,e){t(e,5,0,e.component.usuario)}),(function(t,e){t(e,2,0,r.ɵnov(e,7).ngClassUntouched,r.ɵnov(e,7).ngClassTouched,r.ɵnov(e,7).ngClassPristine,r.ɵnov(e,7).ngClassDirty,r.ɵnov(e,7).ngClassValid,r.ɵnov(e,7).ngClassInvalid,r.ɵnov(e,7).ngClassPending)}))}function c(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-usuario",[],null,null,null,u,a)),r.ɵdid(1,114688,null,0,o.UsuarioComponent,[s.UsuariosService],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_UsuarioComponent=a,e.View_UsuarioComponent_0=u,e.View_UsuarioComponent_Host_0=c;var l=r.ɵccf("app-usuario",o.UsuarioComponent,c,{},{},[]);e.UsuarioComponentNgFactory=l}).apply(e,r))||(t.exports=i)},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZAI4:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppModule=class{}}).apply(e,[n,e]))||(t.exports=r)},ZUHj:function(t,e,n){"use strict";var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var o=n("SeVD"),s=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(o.a)(e)(a)}n.d(e,"a",(function(){return a}))},bG0O:function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuienSoyComponent=class{constructor(){}ngOnInit(){}}}).apply(e,r))||(t.exports=i)},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bSaC:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("D0XW"),o=n("HDdC"),s=n("LRne"),a=n("VRyK"),u=n("lJxs"),c=n("w1tV"),l=n("eIep"),h=n("Kqap"),d=n("/uUt"),f=n("l7GE"),p=n("ZUHj");class g{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new m(t,this.observables,this.project))}}class m extends f.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(Object(p.a)(this,t,void 0,i))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var y=n("7o/Q");class v{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new _(t,this.predicate))}}class _ extends y.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var b=n("jmUF"),w=(n("6Uf2"),n("VRCc")),C=n("Jgta");function E(t){return null==t}function O(t){return"function"==typeof t.set}function S(t,e){return O(e)?e:t.ref(e)}function I(t,e){if("string"==typeof t)return e.stringCase();if(O(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function D(t,e,n="on",r=i.a){return new o.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(u.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(c.a)())}function T(t,e,n){return D(t,"value","once",n).pipe(Object(l.a)(r=>{const i=[Object(s.a)(r)];return e.forEach(e=>i.push(D(t,e,"on",n))),Object(a.a)(...i).pipe(Object(h.a)(x,[]))}),Object(d.a)())}function A(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function x(t,e){const{payload:n,prevKey:r,key:i}=e,o=A(t,i),s=function(t,e){if(E(e))return 0;{const n=A(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function N(t){return(E(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function k(t,e,n){return T(t,e=N(e),n)}function j(t,e,n){const r=(e=N(e)).map(e=>D(t,e,"on",n));return Object(a.a)(...r)}function R(t,e,n){return function(t,e,n){return function(t,e){return D(t,"value","on",e).pipe(Object(u.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new g(t,n))}}(e),Object(u.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new v(r))),Object(u.a)(t=>t.actions));var r}(t,j(t,e).pipe(Object(h.a)((t,e)=>[...t,e],[])),n)}function P(t,e){return function(n,r){return I(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function F(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:P(r,"update"),set:P(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?I(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>k(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>j(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>R(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>k(t,r,n).pipe(Object(u.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}function M(t,e){return function(){return D(t,"value","on",e)}}n.d(e,"AngularFireDatabase",(function(){return U})),n.d(e,"AngularFireDatabaseModule",(function(){return B})),n.d(e,"URL",(function(){return L})),n.d(e,"USE_EMULATOR",(function(){return V})),n.d(e,"auditTrail",(function(){return R})),n.d(e,"createListReference",(function(){return F})),n.d(e,"fromRef",(function(){return D})),n.d(e,"listChanges",(function(){return T})),n.d(e,"snapshotChanges",(function(){return k})),n.d(e,"stateChanges",(function(){return j}));const L=new r.InjectionToken("angularfire2.realtimeDatabaseURL"),V=new r.InjectionToken("angularfire2.database.use-emulator");let U=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new b["ɵAngularFireSchedulers"](i),this.keepUnstableUntilFirst=Object(b["ɵkeepUnstableUntilFirstFactory"])(this.schedulers);const a=o,u=Object(b["ɵfirebaseAppFactory"])(t,i,e);!C.a.auth&&s&&Object(b["ɵlogAuthEmulatorError"])(),this.database=Object(b["ɵfetchInstance"])(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>S(this.database,t));let r=n;return e&&(r=e(n)),F(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>S(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>M(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>M(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(u.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.ɵprov=Object(r["ɵɵdefineInjectable"])({factory:function(){return new t(Object(r["ɵɵinject"])(b.FIREBASE_OPTIONS),Object(r["ɵɵinject"])(b.FIREBASE_APP_NAME,8),Object(r["ɵɵinject"])(L,8),Object(r["ɵɵinject"])(r.PLATFORM_ID),Object(r["ɵɵinject"])(r.NgZone),Object(r["ɵɵinject"])(V,8),Object(r["ɵɵinject"])(w.USE_EMULATOR,8))},token:t,providedIn:"any"}),t})();class B{}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cUpR:function(t,e,n){"use strict";n.r(e),n.d(e,"ɵangular_packages_platform_browser_platform_browser_c",(function(){return Ot})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_b",(function(){return Et})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_a",(function(){return Ct})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_l",(function(){return c})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_d",(function(){return It})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_i",(function(){return w})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_h",(function(){return b})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_e",(function(){return Tt})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_f",(function(){return Lt})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_k",(function(){return T})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_j",(function(){return I})),n.d(e,"ɵangular_packages_platform_browser_platform_browser_g",(function(){return k})),n.d(e,"BrowserModule",(function(){return St})),n.d(e,"platformBrowser",(function(){return bt})),n.d(e,"Meta",(function(){return Dt})),n.d(e,"Title",(function(){return At})),n.d(e,"disableDebugTools",(function(){return Rt})),n.d(e,"enableDebugTools",(function(){return jt})),n.d(e,"BrowserTransferStateModule",(function(){return Vt})),n.d(e,"TransferState",(function(){return Mt})),n.d(e,"makeStateKey",(function(){return Ft})),n.d(e,"By",(function(){return Ut})),n.d(e,"EVENT_MANAGER_PLUGINS",(function(){return x})),n.d(e,"EventManager",(function(){return N})),n.d(e,"HAMMER_GESTURE_CONFIG",(function(){return rt})),n.d(e,"HAMMER_LOADER",(function(){return it})),n.d(e,"HammerGestureConfig",(function(){return ot})),n.d(e,"DomSanitizer",(function(){return lt})),n.d(e,"VERSION",(function(){return Bt})),n.d(e,"ɵELEMENT_PROBE_PROVIDERS__POST_R3__",(function(){return D})),n.d(e,"ɵBROWSER_SANITIZATION_PROVIDERS",(function(){return _t})),n.d(e,"ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS",(function(){return vt})),n.d(e,"ɵinitDomAdapter",(function(){return wt})),n.d(e,"ɵBrowserDomAdapter",(function(){return p})),n.d(e,"ɵBrowserPlatformLocation",(function(){return v})),n.d(e,"ɵTRANSITION_ID",(function(){return _})),n.d(e,"ɵBrowserGetTestability",(function(){return C})),n.d(e,"ɵescapeHtml",(function(){return Pt})),n.d(e,"ɵELEMENT_PROBE_PROVIDERS",(function(){return A})),n.d(e,"ɵDomAdapter",(function(){return u})),n.d(e,"ɵgetDOM",(function(){return s})),n.d(e,"ɵsetRootDomAdapter",(function(){return a})),n.d(e,"ɵDomRendererFactory2",(function(){return B})),n.d(e,"ɵNAMESPACE_URIS",(function(){return P})),n.d(e,"ɵflattenStyles",(function(){return V})),n.d(e,"ɵshimContentAttribute",(function(){return M})),n.d(e,"ɵshimHostAttribute",(function(){return L})),n.d(e,"ɵDomEventsPlugin",(function(){return et})),n.d(e,"ɵHammerGesturesPlugin",(function(){return st})),n.d(e,"ɵKeyEventsPlugin",(function(){return ct})),n.d(e,"ɵDomSharedStylesHost",(function(){return R})),n.d(e,"ɵSharedStylesHost",(function(){return j})),n.d(e,"ɵDomSanitizerImpl",(function(){return ht}));var r=n("SVse"),i=n("8Y7J");let o=null;function s(){return o}function a(t){o||(o=t)}class u{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class c extends u{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const l={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},h={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},f=(()=>{if(i["ɵglobal"].Node)return i["ɵglobal"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class p extends c{parse(t){throw new Error("parse not implemented")}static makeCurrent(){a(new p)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return l}contains(t,e){return f.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&d.hasOwnProperty(e)&&(e=d[e]))}return h[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=m||(m=document.querySelector("base"),m)?m.getAttribute("href"):null;return null==e?null:(n=e,g||(g=document.createElement("a")),g.setAttribute("href",n),"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname);var n}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r["ɵparseCookieValue"])(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let g,m=null;function y(){return!!window.history.pushState}class v extends r.PlatformLocation{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){y()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){y()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}const _=new i.InjectionToken("TRANSITION_ID");function b(t,e,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}}const w=[{provide:i.APP_INITIALIZER,useFactory:b,deps:[_,r.DOCUMENT,i.Injector],multi:!0}];class C{static init(){Object(i.setTestabilityGetter)(new C)}addToWindow(t){i["ɵglobal"].getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["ɵglobal"].getAllAngularTestabilities=()=>t.getAllTestabilities(),i["ɵglobal"].getAllAngularRootElements=()=>t.getAllRootElements(),i["ɵglobal"].frameworkStabilizers||(i["ɵglobal"].frameworkStabilizers=[]),i["ɵglobal"].frameworkStabilizers.push(t=>{const e=i["ɵglobal"].getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null}}function E(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i["ɵglobal"].ng=i["ɵglobal"].ng||{})[t]=e)}const O=(()=>({ApplicationRef:i.ApplicationRef,NgZone:i.NgZone}))();function S(t){return Object(i.getDebugNode)(t)}function I(t){return E("probe",S),E("coreTokens",Object.assign({},O,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>S}const D=[],T=[{provide:i.APP_INITIALIZER,useFactory:I,deps:[[i.NgProbeToken,new i.Optional]],multi:!0}],A=T,x=new i.InjectionToken("EventManagerPlugins");class N{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class k{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class j{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class R extends j{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}const P={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},F=/%COMP%/g;function M(t){return"_ngcontent-%COMP%".replace(F,t)}function L(t){return"_nghost-%COMP%".replace(F,t)}function V(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?V(t,i,n):(i=i.replace(F,t),n.push(i))}return n}function U(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class B{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new q(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new z(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new Q(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=V(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class q{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(P[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=P[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=P[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&i.RendererStyleFlags2.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){G(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return G(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,U(n)):this.eventManager.addEventListener(t,e,U(n))}}const H=(()=>"@".charCodeAt(0))();function G(t,e){if(t.charCodeAt(0)===H)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class z extends q{constructor(t,e,n,r){super(t),this.component=n;const i=V(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=M(r+"-"+n.id),this.hostAttr=L(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Q extends q{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=V(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const W=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),K=W("addEventListener"),$=W("removeEventListener"),Y={},Z="__zone_symbol__propagationStopped",J=(()=>{const t="undefined"!=typeof Zone&&Zone[W("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),X=function(t){return!!J&&J.hasOwnProperty(t)},tt=function(t){const e=Y[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Z];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class et extends k{constructor(t,e,n){super(t),this.ngZone=e,n&&Object(r.isPlatformServer)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Z]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[K]||i.NgZone.isInAngularZone()&&!X(e))t.addEventListener(e,r,!1);else{let n=Y[e];n||(n=Y[e]=W("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=X(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[K](e,tt,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[$];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Y[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,tt,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const nt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},rt=new i.InjectionToken("HammerGestureConfig"),it=new i.InjectionToken("HammerLoader");class ot{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class st extends k{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!nt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const at=["alt","control","meta","shift"],ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class ct extends k{constructor(t){super(t)}supports(t){return null!=ct.parseEventName(t)}addEventListener(t,e,n){const r=ct.parseEventName(e),i=ct.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=ct._normalizeKey(e.pop());let i="";if(at.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=s().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{ct.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class lt{}class ht extends lt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.SecurityContext.NONE:return e;case i.SecurityContext.HTML:return e instanceof ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i["ɵ_sanitizeHtml"])(this._doc,String(e)));case i.SecurityContext.STYLE:return e instanceof pt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i["ɵ_sanitizeStyle"])(e));case i.SecurityContext.SCRIPT:if(e instanceof gt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.SecurityContext.URL:return e instanceof yt||e instanceof mt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i["ɵ_sanitizeUrl"])(String(e)));case i.SecurityContext.RESOURCE_URL:if(e instanceof yt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof dt)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new ft(t)}bypassSecurityTrustStyle(t){return new pt(t)}bypassSecurityTrustScript(t){return new gt(t)}bypassSecurityTrustUrl(t){return new mt(t)}bypassSecurityTrustResourceUrl(t){return new yt(t)}}class dt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ft extends dt{getTypeName(){return"HTML"}}class pt extends dt{getTypeName(){return"Style"}}class gt extends dt{getTypeName(){return"Script"}}class mt extends dt{getTypeName(){return"URL"}}class yt extends dt{getTypeName(){return"ResourceURL"}}const vt=[{provide:i.PLATFORM_ID,useValue:r["ɵPLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:wt,multi:!0},{provide:r.PlatformLocation,useClass:v,deps:[r.DOCUMENT]},{provide:r.DOCUMENT,useFactory:Et,deps:[]}],_t=[{provide:i.Sanitizer,useExisting:lt},{provide:lt,useClass:ht,deps:[r.DOCUMENT]}],bt=Object(i.createPlatformFactory)(i.platformCore,"browser",vt);function wt(){p.makeCurrent(),C.init()}function Ct(){return new i.ErrorHandler}function Et(){return document}const Ot=[_t,{provide:i["ɵAPP_ROOT"],useValue:!0},{provide:i.ErrorHandler,useFactory:Ct,deps:[]},{provide:x,useClass:et,multi:!0,deps:[r.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:x,useClass:ct,multi:!0,deps:[r.DOCUMENT]},{provide:x,useClass:st,multi:!0,deps:[r.DOCUMENT,rt,i["ɵConsole"],[new i.Optional,it]]},{provide:rt,useClass:ot,deps:[]},{provide:B,useClass:B,deps:[N,R,i.APP_ID]},{provide:i.RendererFactory2,useExisting:B},{provide:j,useExisting:R},{provide:R,useClass:R,deps:[r.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:N,useClass:N,deps:[x,i.NgZone]},A];class St{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:St,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:_,useExisting:i.APP_ID},w]}}}function It(){return new Dt(Object(i["ɵɵinject"])(r.DOCUMENT))}let Dt=(()=>{class t{constructor(t){this._doc=t,this._dom=s()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}return t.ngInjectableDef=Object(i["ɵɵdefineInjectable"])({factory:It,token:t,providedIn:"root"}),t})();function Tt(){return new At(Object(i["ɵɵinject"])(r.DOCUMENT))}let At=(()=>{class t{constructor(t){this._doc=t}getTitle(){return s().getTitle(this._doc)}setTitle(t){s().setTitle(this._doc,t)}}return t.ngInjectableDef=Object(i["ɵɵdefineInjectable"])({factory:Tt,token:t,providedIn:"root"}),t})();const xt="undefined"!=typeof window&&window||{};class Nt{constructor(t,e){this.msPerTick=t,this.numTicks=e}}class kt{constructor(t){this.appRef=t.injector.get(i.ApplicationRef)}timeChangeDetection(t){const e=t&&t.record,n=null!=xt.console.profile;e&&n&&xt.console.profile("Change Detection");const r=s().performanceNow();let i=0;for(;i<5||s().performanceNow()-r<500;)this.appRef.tick(),i++;const o=s().performanceNow();e&&n&&xt.console.profileEnd("Change Detection");const a=(o-r)/i;return xt.console.log(`ran ${i} change detection cycles`),xt.console.log(a.toFixed(2)+" ms per check"),new Nt(a,i)}}function jt(t){return E("profiler",new kt(t)),t}function Rt(){E("profiler",null)}function Pt(t){const e={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return t.replace(/[&"'<>]/g,t=>e[t])}function Ft(t){return t}class Mt{constructor(){this.store={},this.onSerializeCallbacks={}}static init(t){const e=new Mt;return e.store=t,e}get(t,e){return void 0!==this.store[t]?this.store[t]:e}set(t,e){this.store[t]=e}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,e){this.onSerializeCallbacks[t]=e}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}function Lt(t,e){const n=t.getElementById(e+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(t){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return t.replace(/&[^;]+;/g,t=>e[t])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return Mt.init(r)}class Vt{}class Ut{static all(){return t=>!0}static css(t){return e=>null!=e.nativeElement&&s().elementMatches(e.nativeElement,t)}static directive(t){return e=>-1!==e.providerTokens.indexOf(t)}}const Bt=new i.Version("8.1.3")},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},eMDV:function(t,e,n){var r,i;r=[n,e,n("OprF"),n("8Y7J"),n("SVse"),n("7+Fz"),n("MT/P")],void 0===(i=(function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function u(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r.ɵted(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.context.$implicit.mensaje)}))}function c(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["listado"])),(t()(),r.ɵeld(2,0,null,null,3,"ul",[],null,null,null,null,null)),(t()(),r.ɵand(16777216,null,null,2,null,u)),r.ɵdid(4,278528,null,0,i.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r.ɵpid(131072,i.AsyncPipe,[r.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,4,0,r.ɵunv(e,4,0,r.ɵnov(e,5).transform(n.item$)))}),null)}function l(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-listado",[],null,null,null,c,a)),r.ɵdid(1,114688,null,0,o.ListadoComponent,[s.MensajefireService],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_ListadoComponent=a,e.View_ListadoComponent_0=c,e.View_ListadoComponent_Host_0=l;var h=r.ɵccf("app-listado",o.ListadoComponent,l,{},{},[]);e.ListadoComponentNgFactory=h}).apply(e,r))||(t.exports=i)},eVfs:function(t,e,n){var r,i;r=[n,e,n("pNWZ"),n("8Y7J"),n("D8EZ")],void 0===(i=(function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function s(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["login works!"]))],null,null)}function a(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-login",[],null,null,null,s,o)),r.ɵdid(1,114688,null,0,i.LoginComponent,[],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_LoginComponent=o,e.View_LoginComponent_0=s,e.View_LoginComponent_Host_0=a;var u=r.ɵccf("app-login",i.LoginComponent,a,{},{},[]);e.LoginComponentNgFactory=u}).apply(e,r))||(t.exports=i)},gB6g:function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UsuarioComponent=class{constructor(t){this.MiServicio=t,this.usuario="nadie",console.log(t.usuarioVigente)}Guardar(){this.MiServicio.usuarioVigente=this.usuario}ngOnInit(){this.usuario=this.MiServicio.usuarioVigente}}}).apply(e,r))||(t.exports=i)},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},iInd:function(t,e,n){"use strict";n.r(e);var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),s=n("Cfvw"),a=n("XNiG"),u=n("9ppp");class c extends a.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value}next(t){super.next(this._value=t)}}var l=n("HDdC"),h=n("sVev"),d=n("z+Ro"),f=n("DH7j"),p=n("l7GE"),g=n("ZUHj"),m=n("yCtX");const y={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new _(t,this.resultSelector))}}class _ extends p.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(y),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(g.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===y?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var b=n("EY2u");function w(t){return new l.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(b.b)()).subscribe(e)})}var C=n("lJxs"),E=n("0EUg"),O=n("pLZG"),S=n("7o/Q"),I=n("4I5i");function D(t){return function(e){return 0===t?Object(b.b)():e.lift(new T(t))}}class T{constructor(t){if(this.total=t,this.total<0)throw new I.a}call(t,e){return e.subscribe(new A(t,this.total))}}class A extends S.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var x=n("XDbj"),N=n("xbPD"),k=n("SpAZ");function j(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(O.a)((e,n)=>t(e,n,r)):k.a,D(1),n?Object(N.a)(e):Object(x.a)(()=>new h.a))}var R=n("zx2A");function P(t){return function(e){const n=new F(t),r=e.lift(n);return n.caught=r}}class F{constructor(t){this.selector=t}call(t,e){return e.subscribe(new M(t,this.selector,this.caught))}}class M extends R.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new R.a(this);this.add(r);const i=Object(R.c)(n,r);i!==r&&this.add(i)}}}var L=n("SxV6"),V=n("5+tZ");class U{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new B(t,this.predicate,this.thisArg,this.source))}}class B extends S.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var q=n("eIep"),H=n("IzEk"),G=n("JX91"),z=n("Kqap");function Q(t,e){return Object(V.a)(t,e,1)}var W=n("mCNh"),K=n("vkgz"),$=n("quSY");class Y{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Z(t,this.callback))}}class Z extends S.a{constructor(t,e){super(t),this.add(new $.a(e))}}var J=n("bHdf"),X=n("cUpR");n.d(e,"ɵangular_packages_router_router_l",(function(){return yt})),n.d(e,"ɵEmptyOutletComponent",(function(){return yt})),n.d(e,"ɵangular_packages_router_router_a",(function(){return jn})),n.d(e,"ɵangular_packages_router_router_h",(function(){return Hn})),n.d(e,"ɵangular_packages_router_router_c",(function(){return Mn})),n.d(e,"ɵangular_packages_router_router_i",(function(){return Gn})),n.d(e,"ɵangular_packages_router_router_j",(function(){return zn})),n.d(e,"ɵangular_packages_router_router_e",(function(){return Vn})),n.d(e,"ɵangular_packages_router_router_d",(function(){return Ln})),n.d(e,"ɵangular_packages_router_router_k",(function(){return Wn})),n.d(e,"ɵangular_packages_router_router_g",(function(){return qn})),n.d(e,"ɵangular_packages_router_router_b",(function(){return Pn})),n.d(e,"ɵangular_packages_router_router_f",(function(){return Bn})),n.d(e,"ɵangular_packages_router_router_o",(function(){return Nn})),n.d(e,"ɵangular_packages_router_router_m",(function(){return te})),n.d(e,"ɵangular_packages_router_router_n",(function(){return re})),n.d(e,"RouterLink",(function(){return _n})),n.d(e,"RouterLinkWithHref",(function(){return bn})),n.d(e,"RouterLinkActive",(function(){return Cn})),n.d(e,"RouterOutlet",(function(){return Sn})),n.d(e,"ActivationEnd",(function(){return gt})),n.d(e,"ActivationStart",(function(){return pt})),n.d(e,"ChildActivationEnd",(function(){return ft})),n.d(e,"ChildActivationStart",(function(){return dt})),n.d(e,"GuardsCheckEnd",(function(){return at})),n.d(e,"GuardsCheckStart",(function(){return st})),n.d(e,"NavigationCancel",(function(){return rt})),n.d(e,"NavigationEnd",(function(){return nt})),n.d(e,"NavigationError",(function(){return it})),n.d(e,"NavigationStart",(function(){return et})),n.d(e,"ResolveEnd",(function(){return ct})),n.d(e,"ResolveStart",(function(){return ut})),n.d(e,"RouteConfigLoadEnd",(function(){return ht})),n.d(e,"RouteConfigLoadStart",(function(){return lt})),n.d(e,"RouterEvent",(function(){return tt})),n.d(e,"RoutesRecognized",(function(){return ot})),n.d(e,"Scroll",(function(){return mt})),n.d(e,"RouteReuseStrategy",(function(){return cn})),n.d(e,"Router",(function(){return vn})),n.d(e,"ROUTES",(function(){return hn})),n.d(e,"ROUTER_CONFIGURATION",(function(){return kn})),n.d(e,"ROUTER_INITIALIZER",(function(){return Qn})),n.d(e,"RouterModule",(function(){return Fn})),n.d(e,"provideRoutes",(function(){return Un})),n.d(e,"ChildrenOutletContexts",(function(){return On})),n.d(e,"OutletContext",(function(){return En})),n.d(e,"NoPreloading",(function(){return An})),n.d(e,"PreloadAllModules",(function(){return Tn})),n.d(e,"PreloadingStrategy",(function(){return Dn})),n.d(e,"RouterPreloader",(function(){return xn})),n.d(e,"ActivatedRoute",(function(){return ae})),n.d(e,"ActivatedRouteSnapshot",(function(){return ce})),n.d(e,"RouterState",(function(){return oe})),n.d(e,"RouterStateSnapshot",(function(){return le})),n.d(e,"PRIMARY_OUTLET",(function(){return vt})),n.d(e,"convertToParamMap",(function(){return bt})),n.d(e,"UrlHandlingStrategy",(function(){return fn})),n.d(e,"DefaultUrlSerializer",(function(){return Ut})),n.d(e,"UrlSegment",(function(){return Ft})),n.d(e,"UrlSegmentGroup",(function(){return Pt})),n.d(e,"UrlSerializer",(function(){return Vt})),n.d(e,"UrlTree",(function(){return Rt})),n.d(e,"VERSION",(function(){return Kn})),n.d(e,"ɵROUTER_PROVIDERS",(function(){return Rn})),n.d(e,"ɵflatten",(function(){return At}));class tt{constructor(t,e){this.id=t,this.url=e}}class et extends tt{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nt extends tt{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rt extends tt{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class it extends tt{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ot extends tt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends tt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class at extends tt{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ut extends tt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends tt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ht{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yt{}const vt="primary";class _t{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bt(t){return new _t(t)}function wt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ct(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Et{constructor(t,e){this.routes=t,this.module=e}}function Ot(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];St(r,It(e,r))}}function St(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vt)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ot(t.children,e)}function It(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Dt(t){const e=t.children&&t.children.map(Dt),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vt&&(n.component=yt),n}function Tt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function At(t){return Array.prototype.concat.apply([],t)}function xt(t){return t.length>0?t[t.length-1]:null}function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kt(t){return Object(i["ɵisObservable"])(t)?t:Object(i["ɵisPromise"])(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function jt(t,e,n){return n?function(t,e){return Tt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Mt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Mt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Mt(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Mt(n.segments,t)&&!!n.children[vt]&&e(n.children[vt],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Rt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class Ft{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Kt(this)}}function Mt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Lt(t,e){let n=[];return Nt(t.children,(t,r)=>{r===vt&&(n=n.concat(e(t,r)))}),Nt(t.children,(t,r)=>{r!==vt&&(n=n.concat(e(t,r)))}),n}class Vt{}class Ut{parse(t){const e=new Xt(t);return new Rt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return qt(e);if(n){const n=e.children[vt]?t(e.children[vt],!1):"",r=[];return Nt(e.children,(e,n)=>{n!==vt&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Lt(e,(n,r)=>r===vt?[t(e.children[vt],!1)]:[`${r}:${t(n,!1)}`]);return`${qt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gt(e)}=${Gt(t)}`).join("&"):`${Gt(e)}=${Gt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Bt=new Ut;function qt(t){return t.segments.map(t=>Kt(t)).join("/")}function Ht(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gt(t){return Ht(t).replace(/%3B/gi,";")}function zt(t){return Ht(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(t){return decodeURIComponent(t)}function Wt(t){return Qt(t.replace(/\+/g,"%20"))}function Kt(t){return`${zt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zt(t)}=${zt(e[t])}`).join("")}`;var e}const $t=/^[^\/()?;=#]+/;function Yt(t){const e=t.match($t);return e?e[0]:""}const Zt=/^[^=?&#]+/,Jt=/^[^?&#]+/;class Xt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[vt]=new Pt(t,e)),n}parseSegment(){const t=Yt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ft(Qt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Yt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Yt(this.remaining);t&&(n=t,this.capture(n))}t[Qt(e)]=Qt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Zt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Jt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Wt(e),i=Wt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Yt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vt);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[vt]:new Pt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class te{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ee(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ee(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ne(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ne(t,this._root).map(t=>t.value)}}function ee(t,e){if(t===e.value)return e;for(const n of e.children){const e=ee(t,n);if(e)return e}return null}function ne(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ne(t,n);if(r.length)return r.unshift(e),r}return[]}class re{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ie(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class oe extends te{constructor(t,e){super(t),this.snapshot=e,he(this,t)}toString(){return this.snapshot.toString()}}function se(t,e){const n=function(t,e){const n=new ce([],{},{},"",{},vt,e,null,t.root,-1,{});return new le("",new re(n,[]))}(t,e),r=new c([new Ft("",{})]),i=new c({}),o=new c({}),s=new c({}),a=new c(""),u=new ae(r,i,s,a,o,vt,e,n.root);return u.snapshot=n.root,new oe(new re(u,[]),n)}class ae{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)(t=>bt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)(t=>bt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ue(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ce{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class le extends te{constructor(t,e){super(e),this.url=t,he(this,e)}toString(){return de(this._root)}}function he(t,e){e.value._routerState=t,e.children.forEach(e=>he(t,e))}function de(t){const e=t.children.length>0?` { ${t.children.map(de).join(", ")} } `:"";return`${t.value}${e}`}function fe(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function pe(t,e){var n,r;return Tt(t.params,e.params)&&Mt(n=t.url,r=e.url)&&n.every((t,e)=>Tt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||pe(t.parent,e.parent))}function ge(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function me(t,e,n,r,i){let o={};return r&&Nt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Rt(n.root===t?e:function t(e,n,r){const i={};return Nt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Pt(e.segments,i)}(n.root,t,e),o,i)}class ye{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ge(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==xt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ve{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function _e(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[vt]:""+t}function be(t,e,n){if(t||(t=new Pt([],{})),0===t.segments.length&&t.hasChildren())return we(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=_e(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Se(s,a,e))return o;r+=2}else{if(!Se(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Pt(t.segments.slice(0,r.pathIndex),{});return e.children[vt]=new Pt(t.segments.slice(r.pathIndex),t.children),we(e,0,i)}return r.match&&0===i.length?new Pt(t.segments,{}):r.match&&!t.hasChildren()?Ce(t,e,n):r.match?we(t,0,i):Ce(t,e,n)}function we(t,e,n){if(0===n.length)return new Pt(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[vt]:t}:void 0===t[0].outlets?{[vt]:t}:t[0].outlets}(n),i={};return Nt(r,(n,r)=>{null!==n&&(i[r]=be(t.children[r],e,n))}),Nt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Pt(t.segments,i)}}function Ce(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ee(n[i].outlets);return new Pt(r,t)}if(0===i&&ge(n[0])){r.push(new Ft(t.segments[e].path,n[0])),i++;continue}const o=_e(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&ge(s)?(r.push(new Ft(o,Oe(s))),i+=2):(r.push(new Ft(o,{})),i++)}return new Pt(r,{})}function Ee(t){const e={};return Nt(t,(t,n)=>{null!==t&&(e[n]=Ce(new Pt([],{}),0,t))}),e}function Oe(t){const e={};return Nt(t,(t,n)=>e[n]=""+t),e}function Se(t,e,n){return t==n.path&&Tt(e,n.parameters)}class Ie{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fe(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ie(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Nt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ie(t),i=t.value.component?n.children:e;Nt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ie(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new gt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ft(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(fe(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),De(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function De(t){fe(t.value),t.children.forEach(De)}function Te(t){return"function"==typeof t}function Ae(t){return t instanceof Rt}class xe{constructor(t){this.segmentGroup=t||null}}class Ne{constructor(t){this.urlTree=t}}function ke(t){return new l.a(e=>e.error(new xe(t)))}function je(t){return new l.a(e=>e.error(new Ne(t)))}function Re(t){return new l.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Pe{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vt).pipe(Object(C.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(P(t=>{if(t instanceof Ne)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xe)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vt).pipe(Object(C.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(P(t=>{if(t instanceof xe)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Pt([],{[vt]:t}):t;return new Rt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(C.a)(t=>new Pt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return Nt(t,(t,o)=>{const s=e(o,t).pipe(Object(C.a)(t=>i[o]=t));o===vt?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(Object(E.a)(),j(),Object(C.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(Object(C.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(P(t=>{if(t instanceof xe)return Object(o.a)(null);throw t}))),Object(E.a)(),Object(L.a)(t=>!!t),P((t,n)=>{if(t instanceof h.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new Pt([],{}));throw new xe(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ve(r)!==o?ke(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ke(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?je(i):this.lineralizeSegments(n,i).pipe(Object(V.a)(n=>{const i=new Pt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Fe(e,r,i);if(!s)return ke(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?je(l):this.lineralizeSegments(r,l).pipe(Object(V.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(C.a)(t=>(n._loadedConfig=t,new Pt(r,{})))):Object(o.a)(new Pt(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Fe(e,n,r);if(!i)return ke(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(V.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Le(t,e,n)&&Ve(n)!==vt)}(t,n,r)?{segmentGroup:Me(new Pt(e,function(t,e){const n={};n[vt]=e;for(const r of t)""===r.path&&Ve(r)!==vt&&(n[Ve(r)]=new Pt([],{}));return n}(r,new Pt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Le(t,e,n))}(t,n,r)?{segmentGroup:Me(new Pt(t.segments,function(t,e,n,r){const i={};for(const o of n)Le(t,e,o)&&!r[Ve(o)]&&(i[Ve(o)]=new Pt([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(C.a)(t=>new Pt(s,t))):0===r.length&&0===a.length?Object(o.a)(new Pt(s,{})):this.expandSegment(n,i,r,a,vt,!0).pipe(Object(C.a)(t=>new Pt(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Et(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(s.a)(r).pipe(Object(C.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Te(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Te(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return kt(o)})).pipe(Object(E.a)(),(i=t=>!0===t,t=>t.lift(new U(i,void 0,t)))):Object(o.a)(!0);var i}(t.injector,e,n).pipe(Object(V.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(C.a)(t=>(e._loadedConfig=t,t))):function(t){return new l.a(e=>e.error(wt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Et([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[vt])return Re(t.redirectTo);r=r.children[vt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Rt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Nt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Nt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Pt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Fe(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ct)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Me(t){if(1===t.numberOfChildren&&t.children[vt]){const e=t.children[vt];return new Pt(t.segments.concat(e.segments),e.children)}return t}function Le(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ve(t){return t.outlet||vt}class Ue{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Be{constructor(t,e){this.component=t,this.route=e}}function qe(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=ie(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Mt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mt(t.url,e.url)||!Tt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pe(t,e)||!Tt(t.queryParams,e.queryParams);case"paramsChange":default:return!pe(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ue(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Be(u&&u.outlet&&u.outlet.component||null,a))}else a&&Ge(n,u,o),o.canActivateChecks.push(new Ue(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Nt(s,(t,e)=>Ge(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function He(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ge(t,e,n){const r=ie(t),i=t.value;Nt(r,(t,r)=>{Ge(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Be(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const ze=Symbol("INITIAL_VALUE");function Qe(){return Object(q.a)(t=>function(...t){let e=void 0,n=void 0;return Object(d.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(f.a)(t[0])&&(t=t[0]),Object(m.a)(t,n).lift(new v(e))}(...t.map(t=>t.pipe(Object(H.a)(1),Object(G.a)(ze)))).pipe(Object(z.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ze)return t;if(r===ze&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ae(r))return r}return t},t)},ze),Object(O.a)(t=>t!==ze),Object(C.a)(t=>Ae(t)?t:!0===t),Object(H.a)(1)))}function We(t,e){return null!==t&&e&&e(new pt(t)),Object(o.a)(!0)}function Ke(t,e){return null!==t&&e&&e(new dt(t)),Object(o.a)(!0)}function $e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>w(()=>{const i=He(r,e,n);let o;if(function(t){return t&&Te(t.canActivate)}(i))o=kt(i.canActivate(e,t));else{if(!Te(i))throw new Error("Invalid CanActivate guard");o=kt(i(e,t))}return o.pipe(Object(L.a)())}));return Object(o.a)(i).pipe(Qe())}function Ye(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>w(()=>{const i=e.guards.map(i=>{const o=He(i,e.node,n);let s;if(function(t){return t&&Te(t.canActivateChild)}(o))s=kt(o.canActivateChild(r,t));else{if(!Te(o))throw new Error("Invalid CanActivateChild guard");s=kt(o(r,t))}return s.pipe(Object(L.a)())});return Object(o.a)(i).pipe(Qe())}));return Object(o.a)(i).pipe(Qe())}class Ze{}class Je{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=en(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vt),n=new ce([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new re(n,e),i=new le(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new l.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ue(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Lt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vt?-1:e.value.outlet===vt?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Ze))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ze}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ze;if((t.outlet||vt)!==r)throw new Ze;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?xt(n).parameters:{};i=new ce(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,on(t),r,t.component,t,Xe(e),tn(e)+n.length,sn(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ze;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ct)(n,t,e);if(!r)throw new Ze;const i={};Nt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new ce(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,on(t),r,t.component,t,Xe(e),tn(e)+o.length,sn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=en(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new re(i,t)]}if(0===a.length&&0===c.length)return[new re(i,[])];const l=this.processSegment(a,u,c,vt);return[new re(i,l)]}}function Xe(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function tn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function en(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>nn(t,e,n)&&rn(n)!==vt)}(t,n,r)){const i=new Pt(e,function(t,e,n,r){const i={};i[vt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&rn(o)!==vt){const n=new Pt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[rn(o)]=n}return i}(t,e,r,new Pt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>nn(t,e,n))}(t,n,r)){const o=new Pt(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(nn(t,n,a)&&!i[rn(a)]){const n=new Pt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[rn(a)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Pt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function nn(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function rn(t){return t.outlet||vt}function on(t){return t.data||{}}function sn(t){return t.resolve||{}}function an(t,e,n,r){const i=He(t,e,r);return kt(i.resolve?i.resolve(e,n):i(e,n))}function un(t){return function(e){return e.pipe(Object(q.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(C.a)(()=>e)):Object(s.a)([e])}))}}class cn{}class ln{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const hn=new i.InjectionToken("ROUTES");class dn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(C.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Et(At(r.injector.get(hn)).map(Dt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):kt(t()).pipe(Object(V.a)(t=>t instanceof i.NgModuleFactory?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class fn{}class pn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gn(t){throw t}function mn(t,e,n){return e.parse("/")}function yn(t,e){return Object(o.a)(null)}class vn{constructor(t,e,n,r,o,s,u,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new a.a,this.errorHandler=gn,this.malformedUriErrorHandler=mn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yn,afterPreactivation:yn},this.urlHandlingStrategy=new pn,this.routeReuseStrategy=new ln,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["ɵConsole"]);const h=o.get(i.NgZone);this.isNgZoneEnabled=h instanceof i.NgZone,this.resetConfig(l),this.currentUrlTree=new Rt(new Pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dn(s,u,t=>this.triggerEvent(new lt(t)),t=>this.triggerEvent(new ht(t))),this.routerState=se(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(O.a)(t=>0!==t.id),Object(C.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(q.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(K.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(q.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(q.a)(t=>{const n=this.transitions.getValue();return e.next(new et(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?b.a:[t]}),Object(q.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(q.a)(t=>function(t,e,n,r,i){return new Pe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(C.a)(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),Object(K.a)(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(V.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Je(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(C.a)(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(K.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(K.a)(t=>{const n=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new et(n,this.serializeUrl(r),i,s);e.next(u);const c=se(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign({},t,{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign({},a,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),b.a}),un(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(K.a)(t=>{const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(C.a)(t=>Object.assign({},t,{guards:qe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(V.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(V.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=He(o,e,i);let a;if(function(t){return t&&Te(t.canDeactivate)}(s))a=kt(s.canDeactivate(t,e,n,r));else{if(!Te(s))throw new Error("Invalid CanDeactivate guard");a=kt(s(t,e,n,r))}return a.pipe(Object(L.a)())});return Object(o.a)(a).pipe(Qe())}(t.component,t.route,n,e,r)),Object(L.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(V.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Q(e=>Object(s.a)([Ke(e.route.parent,r),We(e.route,r),Ye(t,e.path,n),$e(t,e.route,n)]).pipe(Object(E.a)(),Object(L.a)(t=>!0!==t,!0))),Object(L.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(C.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(K.a)(t=>{if(Ae(t.guardsResult)){const e=wt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(K.a)(t=>{const e=new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(O.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rt(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),un(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(K.a)(t=>{const e=new ut(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(V.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(s.a)(i).pipe(Q(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return an(t[o],e,n,r).pipe(Object(C.a)(t=>({[o]:t})))}const a={};return Object(s.a)(i).pipe(Object(V.a)(i=>an(t[i],e,n,r).pipe(Object(C.a)(t=>(a[i]=t,t))))).pipe(j(),Object(C.a)(()=>a))}(t._resolve,t,e,r).pipe(Object(C.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,ue(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(W.a)(Object(z.a)(t,e),D(1),Object(N.a)(e))(n)}:function(e){return Object(W.a)(Object(z.a)((e,n,r)=>t(e,n,r+1)),D(1))(e)}}((t,e)=>t),Object(C.a)(e=>t)):Object(o.a)(t)}))}),Object(K.a)(t=>{const e=new ct(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),un(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(C.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new re(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ae(new c((i=n.value).url),new c(i.params),new c(i.queryParams),new c(i.fragment),new c(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new re(r,o)}}var i}(t,e._root,n?n._root:void 0);return new oe(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Object(K.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,u=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(C.a)(t=>(new Ie(u,t.targetRouterState,t.currentRouterState,l).activate(a),t))),Object(K.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rt(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Y(i))),P(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ae(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new it(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return b.a}));var i,a,u,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ot(t),this.config=t.map(Dt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return me(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ye(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Nt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ye(n,e,r)}(n);if(o.toRoot())return me(e.root,new Pt([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ve(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ve(n.snapshot._urlSegment,!0,0);const r=ge(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ve(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?we(s.segmentGroup,s.index,o.commands):be(s.segmentGroup,s.index,o.commands);return me(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ae(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ae(t))return jt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return jt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class _n{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wn(this.skipLocationChange),replaceUrl:wn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wn(this.preserveFragment)})}}class bn{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof nt&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:wn(this.skipLocationChange),replaceUrl:wn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wn(this.preserveFragment)})}}function wn(t){return""===t||!!t}class Cn{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof nt&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class En{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new On,this.attachRef=null}}class On{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new En,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Sn{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new In(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class In{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ae?this.route:t===On?this.childContexts:this.parent.get(t,e)}}class Dn{}class Tn{preload(t,e){return e().pipe(P(()=>Object(o.a)(null)))}}class An{preload(t,e){return Object(o.a)(null)}}class xn{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new dn(e,n,e=>t.triggerEvent(new lt(e)),e=>t.triggerEvent(new ht(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(O.a)(t=>t instanceof nt),Q(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(J.a)(),Object(C.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(V.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Nn{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof et?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nt&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new mt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const kn=new i.InjectionToken("ROUTER_CONFIGURATION"),jn=new i.InjectionToken("ROUTER_FORROOT_GUARD"),Rn=[r.Location,{provide:Vt,useClass:Ut},{provide:vn,useFactory:Bn,deps:[i.ApplicationRef,Vt,On,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,hn,kn,[fn,new i.Optional],[cn,new i.Optional]]},On,{provide:ae,useFactory:qn,deps:[vn]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},xn,An,Tn,{provide:kn,useValue:{enableTracing:!1}}];function Pn(){return new i.NgProbeToken("Router",vn)}class Fn{constructor(t,e){}static forRoot(t,e){return{ngModule:Fn,providers:[Rn,Un(t),{provide:jn,useFactory:Vn,deps:[[vn,new i.Optional,new i.SkipSelf]]},{provide:kn,useValue:e||{}},{provide:r.LocationStrategy,useFactory:Ln,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],kn]},{provide:Nn,useFactory:Mn,deps:[vn,r.ViewportScroller,kn]},{provide:Dn,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:An},{provide:i.NgProbeToken,multi:!0,useFactory:Pn},Wn()]}}static forChild(t){return{ngModule:Fn,providers:[Un(t)]}}}function Mn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Nn(t,e,n)}function Ln(t,e,n={}){return n.useHash?new r.HashLocationStrategy(t,e):new r.PathLocationStrategy(t,e)}function Vn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Un(t){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:hn,multi:!0,useValue:t}]}function Bn(t,e,n,r,i,o,s,a,u={},c,l){const h=new vn(null,e,n,r,i,o,s,At(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(X["ɵgetDOM"])();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function qn(t){return t.routerState.root}class Hn{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new a.a}appInitializer(){return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vn),r=this.injector.get(kn);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(kn),n=this.injector.get(xn),r=this.injector.get(Nn),o=this.injector.get(vn),s=this.injector.get(i.ApplicationRef);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Gn(t){return t.appInitializer.bind(t)}function zn(t){return t.bootstrapListener.bind(t)}const Qn=new i.InjectionToken("Router Initializer");function Wn(){return[Hn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Gn,deps:[Hn]},{provide:Qn,useFactory:zn,deps:[Hn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Qn}]}const Kn=new i.Version("8.1.3")},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";n.r(e),(function(t){n.d(e,"AngularFireModule",(function(){return I})),n.d(e,"FIREBASE_APP_NAME",(function(){return _})),n.d(e,"FIREBASE_OPTIONS",(function(){return v})),n.d(e,"FirebaseApp",(function(){return b})),n.d(e,"VERSION",(function(){return w})),n.d(e,"ɵAngularFireSchedulers",(function(){return f})),n.d(e,"ɵBlockUntilFirstOperator",(function(){return d})),n.d(e,"ɵZoneScheduler",(function(){return h})),n.d(e,"ɵapplyMixins",(function(){return y})),n.d(e,"ɵfetchInstance",(function(){return S})),n.d(e,"ɵfirebaseAppFactory",(function(){return C})),n.d(e,"ɵkeepUnstableUntilFirstFactory",(function(){return p})),n.d(e,"ɵlazySDKProxy",(function(){return m})),n.d(e,"ɵlogAuthEmulatorError",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.InjectionToken("angularfire2.app.options"),_=new u.InjectionToken("angularfire2.app.nameOrConfig");class b{}const w=new u.Version("6.1.4");function C(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.isDevMode)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.ɵAngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.ɵAngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.ɵAngularfireInstanceCache||(globalThis.ɵAngularfireInstanceCache=new Map);class I{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.VERSION.full)}static initializeApp(t,e){return{ngModule:I,providers:[{provide:v,useValue:t},{provide:_,useValue:e}]}}}}).call(this,n("3UD+")(t))},k2fU:function(t,e,n){var r,i;r=[n,e,n("GeC7"),n("8Y7J"),n("s7LF"),n("WSoB"),n("MT/P"),n("3gJf"),n("wop4")],void 0===(i=(function(t,e,n,r,i,o,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function l(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["chat works!"])),(t()(),r.ɵeld(2,0,null,null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.ɵnov(t,3)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.ɵnov(t,3).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.ɵnov(t,3)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.ɵnov(t,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.mensaje.mensaje=n)&&i),i}),null,null)),r.ɵdid(3,16384,null,0,i.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),r.ɵprd(1024,null,i.NG_VALUE_ACCESSOR,(function(t){return[t]}),[i.DefaultValueAccessor]),r.ɵdid(5,671744,null,0,i.NgModel,[[8,null],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),r.ɵprd(2048,null,i.NgControl,null,[i.NgModel]),r.ɵdid(7,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(t()(),r.ɵeld(8,0,null,null,1,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Enviar()&&r),r}),null,null)),(t()(),r.ɵted(-1,null,["Enviar"]))],(function(t,e){t(e,5,0,e.component.mensaje.mensaje)}),(function(t,e){t(e,2,0,r.ɵnov(e,7).ngClassUntouched,r.ɵnov(e,7).ngClassTouched,r.ɵnov(e,7).ngClassPristine,r.ɵnov(e,7).ngClassDirty,r.ɵnov(e,7).ngClassValid,r.ɵnov(e,7).ngClassInvalid,r.ɵnov(e,7).ngClassPending)}))}function h(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-chat",[],null,null,null,l,c)),r.ɵdid(1,114688,null,0,o.ChatComponent,[s.MensajefireService,a.MensajerealService,u.UsuariosService],null,null)],(function(t,e){t(e,1,0)}),null)}e.RenderType_ChatComponent=c,e.View_ChatComponent_0=l,e.View_ChatComponent_Host_0=h;var d=r.ɵccf("app-chat",o.ChatComponent,h,{},{},[]);e.ChatComponentNgFactory=d}).apply(e,r))||(t.exports=i)},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lwNt:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pMnS:function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("iInd")],void 0===(i=(function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n.ɵcmf(r.RouterModule,[],(function(t){return n.ɵmod([n.ɵmpd(512,n.ComponentFactoryResolver,n.ɵCodegenComponentFactoryResolver,[[8,[u]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n.ɵmpd(1073742336,r.RouterModule,r.RouterModule,[[2,r.ɵangular_packages_router_router_a],[2,r.Router]])])}));e.RouterModuleNgFactory=i;var o=n.ɵcrt({encapsulation:2,styles:[],data:{}});function s(t){return n.ɵvid(0,[(t()(),n.ɵeld(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),n.ɵdid(1,212992,null,0,r.RouterOutlet,[r.ChildrenOutletContexts,n.ViewContainerRef,n.ComponentFactoryResolver,[8,null],n.ChangeDetectorRef],null,null)],(function(t,e){t(e,1,0)}),null)}function a(t){return n.ɵvid(0,[(t()(),n.ɵeld(0,0,null,null,1,"ng-component",[],null,null,null,s,o)),n.ɵdid(1,49152,null,0,r.ɵangular_packages_router_router_l,[],null,null)],null,null)}e.RenderType_ɵangular_packages_router_router_l=o,e.View_ɵangular_packages_router_router_l_0=s,e.View_ɵangular_packages_router_router_l_Host_0=a;var u=n.ɵccf("ng-component",r.ɵangular_packages_router_router_l,a,{},{},[]);e.ɵangular_packages_router_router_lNgFactory=u}).apply(e,r))||(t.exports=i)},pNWZ:function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},pxpQ:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return L})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return q})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return N})),n.d(e,"o",(function(){return m})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return R})),n.d(e,"s",(function(){return b})),n.d(e,"t",(function(){return p})),n.d(e,"u",(function(){return g})),n.d(e,"v",(function(){return C})),n.d(e,"w",(function(){return v})),n.d(e,"x",(function(){return w})),n.d(e,"y",(function(){return x})),n.d(e,"z",(function(){return D})),n.d(e,"A",(function(){return P})),n.d(e,"B",(function(){return F})),n.d(e,"C",(function(){return j})),n.d(e,"D",(function(){return Q})),n.d(e,"E",(function(){return z})),n.d(e,"F",(function(){return T})),n.d(e,"G",(function(){return B})),n.d(e,"H",(function(){return H})),n.d(e,"I",(function(){return G}));var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return Object(r.c)(e,t),e}(Error),O=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new E(i,a,r);return u},t}();function S(t,e){return t.replace(I,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var I=/\{\$([^}]+)}/g;function D(t){return JSON.parse(t)}function T(t){return JSON.stringify(t)}var A=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=D(c(o[0])||""),n=D(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},x=function(t){var e=A(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){var e=A(t).claims;return"object"==typeof e&&!0===e.admin};function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function R(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function P(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function F(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var M=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function L(t,e){var n=new V(t,e);return n.subscribe.bind(n)}var V=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function U(){}var B=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(t,e,r)+"must be a valid function.")}function G(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(t,e,r)+"must be a valid context object.")}var z=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));const a=new s(i),u=a},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},s7LF:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("cUpR"),o=n("HDdC"),s=n("DH7j"),a=n("lJxs"),u=n("XoHu"),c=n("Cfvw");function l(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(c.a)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}n.d(e,"ɵangular_packages_forms_forms_d",(function(){return ae})),n.d(e,"ɵInternalFormsSharedModule",(function(){return ae})),n.d(e,"ɵangular_packages_forms_forms_c",(function(){return se})),n.d(e,"ɵangular_packages_forms_forms_a",(function(){return ie})),n.d(e,"ɵangular_packages_forms_forms_b",(function(){return oe})),n.d(e,"ɵangular_packages_forms_forms_e",(function(){return d})),n.d(e,"ɵangular_packages_forms_forms_f",(function(){return p})),n.d(e,"ɵangular_packages_forms_forms_g",(function(){return w})),n.d(e,"ɵangular_packages_forms_forms_h",(function(){return C})),n.d(e,"ɵangular_packages_forms_forms_i",(function(){return wt})),n.d(e,"ɵangular_packages_forms_forms_j",(function(){return St})),n.d(e,"ɵangular_packages_forms_forms_k",(function(){return xt})),n.d(e,"ɵangular_packages_forms_forms_l",(function(){return Tt})),n.d(e,"ɵangular_packages_forms_forms_z",(function(){return jt})),n.d(e,"ɵNgNoValidate",(function(){return jt})),n.d(e,"ɵangular_packages_forms_forms_m",(function(){return P})),n.d(e,"ɵangular_packages_forms_forms_n",(function(){return M})),n.d(e,"ɵangular_packages_forms_forms_o",(function(){return L})),n.d(e,"ɵangular_packages_forms_forms_p",(function(){return U})),n.d(e,"ɵangular_packages_forms_forms_q",(function(){return Rt})),n.d(e,"ɵangular_packages_forms_forms_r",(function(){return Pt})),n.d(e,"ɵangular_packages_forms_forms_s",(function(){return Gt})),n.d(e,"ɵangular_packages_forms_forms_t",(function(){return Mt})),n.d(e,"ɵangular_packages_forms_forms_v",(function(){return Bt})),n.d(e,"ɵangular_packages_forms_forms_u",(function(){return Vt})),n.d(e,"ɵangular_packages_forms_forms_w",(function(){return Q})),n.d(e,"ɵangular_packages_forms_forms_y",(function(){return X})),n.d(e,"ɵNgSelectMultipleOption",(function(){return X})),n.d(e,"ɵangular_packages_forms_forms_x",(function(){return Y})),n.d(e,"ɵangular_packages_forms_forms_bb",(function(){return Wt})),n.d(e,"ɵangular_packages_forms_forms_bc",(function(){return Yt})),n.d(e,"ɵangular_packages_forms_forms_be",(function(){return te})),n.d(e,"ɵangular_packages_forms_forms_bd",(function(){return Jt})),n.d(e,"ɵangular_packages_forms_forms_bf",(function(){return ne})),n.d(e,"ɵangular_packages_forms_forms_ba",(function(){return Qt})),n.d(e,"AbstractControlDirective",(function(){return y})),n.d(e,"AbstractFormGroupDirective",(function(){return Dt})),n.d(e,"CheckboxControlValueAccessor",(function(){return f})),n.d(e,"ControlContainer",(function(){return v})),n.d(e,"NG_VALUE_ACCESSOR",(function(){return h})),n.d(e,"COMPOSITION_BUFFER_MODE",(function(){return g})),n.d(e,"DefaultValueAccessor",(function(){return m})),n.d(e,"NgControl",(function(){return b})),n.d(e,"NgControlStatus",(function(){return E})),n.d(e,"NgControlStatusGroup",(function(){return O})),n.d(e,"NgForm",(function(){return Et})),n.d(e,"NgFormSelectorWarning",(function(){return It})),n.d(e,"NgModel",(function(){return kt})),n.d(e,"NgModelGroup",(function(){return At})),n.d(e,"NumberValueAccessor",(function(){return F})),n.d(e,"RadioControlValueAccessor",(function(){return V})),n.d(e,"RangeValueAccessor",(function(){return B})),n.d(e,"FormControlDirective",(function(){return Ft})),n.d(e,"FormControlName",(function(){return zt})),n.d(e,"FormGroupDirective",(function(){return Lt})),n.d(e,"FormArrayName",(function(){return qt})),n.d(e,"FormGroupName",(function(){return Ut})),n.d(e,"NgSelectOption",(function(){return $})),n.d(e,"SelectControlValueAccessor",(function(){return K})),n.d(e,"SelectMultipleControlValueAccessor",(function(){return J})),n.d(e,"CheckboxRequiredValidator",(function(){return $t})),n.d(e,"EmailValidator",(function(){return Zt})),n.d(e,"MaxLengthValidator",(function(){return ee})),n.d(e,"MinLengthValidator",(function(){return Xt})),n.d(e,"PatternValidator",(function(){return re})),n.d(e,"RequiredValidator",(function(){return Kt})),n.d(e,"FormBuilder",(function(){return ue})),n.d(e,"AbstractControl",(function(){return yt})),n.d(e,"FormArray",(function(){return bt})),n.d(e,"FormControl",(function(){return vt})),n.d(e,"FormGroup",(function(){return _t})),n.d(e,"NG_ASYNC_VALIDATORS",(function(){return D})),n.d(e,"NG_VALIDATORS",(function(){return I})),n.d(e,"Validators",(function(){return A})),n.d(e,"VERSION",(function(){return ce})),n.d(e,"FormsModule",(function(){return le})),n.d(e,"ReactiveFormsModule",(function(){return he}));const h=new r.InjectionToken("NgValueAccessor"),d={provide:h,useExisting:Object(r.forwardRef)(()=>f),multi:!0};class f{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const p={provide:h,useExisting:Object(r.forwardRef)(()=>m),multi:!0},g=new r.InjectionToken("CompositionEventMode");class m{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i["ɵgetDOM"])()?Object(i["ɵgetDOM"])().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class y{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class v extends y{get formDirective(){return null}get path(){return null}}function _(){throw new Error("unimplemented")}class b extends y{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return _()}get asyncValidator(){return _()}}class w{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const C={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class E extends w{constructor(t){super(t)}}class O extends w{constructor(t){super(t)}}function S(t){return null==t||0===t.length}const I=new r.InjectionToken("NgValidators"),D=new r.InjectionToken("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class A{static min(t){return e=>{if(S(e.value)||S(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(S(e.value)||S(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return S(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return S(t.value)||T.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(S(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return A.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(S(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(x);return 0==e.length?null:function(t){return k(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(x);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(s.a)(e))return l(e,null);if(Object(u.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(s.a)(t[0])?t[0]:t,null).pipe(Object(a.a)(t=>e(...t)))}return l(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(N)).pipe(Object(a.a)(k))}}}function x(t){return null!=t}function N(t){const e=Object(r["ɵisPromise"])(t)?Object(c.a)(t):t;if(!Object(r["ɵisObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function k(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function j(t){return t.validate?e=>t.validate(e):t}function R(t){return t.validate?e=>t.validate(e):t}const P={provide:h,useExisting:Object(r.forwardRef)(()=>F),multi:!0};class F{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const M={provide:h,useExisting:Object(r.forwardRef)(()=>V),multi:!0};class L{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}class V{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(b),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}const U={provide:h,useExisting:Object(r.forwardRef)(()=>B),multi:!0};class B{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const q='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',H='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',G='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class z{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+q)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${H}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${G}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+q)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+H)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Q={provide:h,useExisting:Object(r.forwardRef)(()=>K),multi:!0};function W(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class K{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r["ɵlooseIdentical"]}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=W(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class ${constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}const Y={provide:h,useExisting:Object(r.forwardRef)(()=>J),multi:!0};function Z(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class J{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r["ɵlooseIdentical"]}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}class X{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function tt(t,e){return[...e.path,t]}function et(t,e){t||ot(e,"Cannot find control with"),e.valueAccessor||ot(e,"No value accessor for form control with"),t.validator=A.compose([t.validator,e.validator]),t.asyncValidator=A.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nt(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function nt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rt(t,e){null==t&&ot(e,"Cannot find control with"),t.validator=A.compose([t.validator,e.validator]),t.asyncValidator=A.composeAsync([t.asyncValidator,e.asyncValidator])}function it(t){return ot(t,"There is no FormControl instance attached to form control element with")}function ot(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function st(t){return null!=t?A.compose(t.map(j)):null}function at(t){return null!=t?A.composeAsync(t.map(R)):null}function ut(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r["ɵlooseIdentical"])(e,n.currentValue)}const ct=[f,B,F,K,J,V];function lt(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ht(t,e){if(!e)return null;Array.isArray(e)||ot(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===m?n=e:(o=e,ct.some(t=>o.constructor===t)?(r&&ot(t,"More than one built-in value accessor matches form control with"),r=e):(i&&ot(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(ot(t,"No valid value accessor for form control with"),null)}function dt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ft(t,e,n,i){Object(r.isDevMode)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(z.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function pt(t){const e=mt(t)?t.validators:t;return Array.isArray(e)?st(e):e||null}function gt(t,e){const n=mt(e)?e.asyncValidators:t;return Array.isArray(n)?at(n):n||null}function mt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class yt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=pt(t)}setAsyncValidators(t){this.asyncValidator=gt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=N(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof _t?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof bt&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class vt extends yt{constructor(t=null,e,n){super(pt(e),gt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _t extends yt{constructor(t,e,n){super(pt(e),gt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof vt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class bt extends yt{constructor(t,e,n){super(pt(e),gt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof vt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wt={provide:v,useExisting:Object(r.forwardRef)(()=>Et)},Ct=(()=>Promise.resolve(null))();class Et extends v{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.EventEmitter,this.form=new _t({},st(t),at(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ct.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),et(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),dt(this._directives,t)})}addFormGroup(t){Ct.then(()=>{const e=this._findContainer(t.path),n=new _t({});rt(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ct.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Ot{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${q}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${H}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${G}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${H}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${G}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const St=new r.InjectionToken("NgFormSelectorWarning");let It=(()=>{class t{constructor(e){(e&&"once"!==e||t._ngFormWarning)&&"always"!==e||(Ot.ngFormWarning(),t._ngFormWarning=!0)}}return t._ngFormWarning=!1,t})();class Dt extends v{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return tt(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return st(this._validators)}get asyncValidator(){return at(this._asyncValidators)}_checkParentType(){}}const Tt={provide:v,useExisting:Object(r.forwardRef)(()=>At)};class At extends Dt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof At||this._parent instanceof Et||Ot.modelGroupParentException()}}const xt={provide:b,useExisting:Object(r.forwardRef)(()=>kt)},Nt=(()=>Promise.resolve(null))();class kt extends b{constructor(t,e,n,i){super(),this.control=new vt,this._registered=!1,this.update=new r.EventEmitter,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ht(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ut(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?tt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return st(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof At)&&this._parent instanceof Dt?Ot.formGroupNameException():this._parent instanceof At||this._parent instanceof Et||Ot.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ot.missingNameException()}_updateValue(t){Nt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Nt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class jt{}const Rt=new r.InjectionToken("NgModelWithFormControlWarning"),Pt={provide:b,useExisting:Object(r.forwardRef)(()=>Ft)};let Ft=(()=>{class t extends b{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.EventEmitter,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=ht(this,n)}set isDisabled(t){z.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(et(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ut(e,this.viewModel)&&(ft("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return st(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})();const Mt={provide:v,useExisting:Object(r.forwardRef)(()=>Lt)};class Lt extends v{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.EventEmitter}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return et(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){dt(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);rt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);rt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,lt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>it(e)),e.valueAccessor.registerOnTouched(()=>it(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&et(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=st(this._validators);this.form.validator=A.compose([this.form.validator,t]);const e=at(this._asyncValidators);this.form.asyncValidator=A.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||z.missingFormException()}}const Vt={provide:v,useExisting:Object(r.forwardRef)(()=>Ut)};class Ut extends Dt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Ht(this._parent)&&z.groupParentException()}}const Bt={provide:v,useExisting:Object(r.forwardRef)(()=>qt)};class qt extends v{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return tt(this.name,this._parent)}get validator(){return st(this._validators)}get asyncValidator(){return at(this._asyncValidators)}_checkParentType(){Ht(this._parent)&&z.arrayParentException()}}function Ht(t){return!(t instanceof Ut||t instanceof Lt||t instanceof qt)}const Gt={provide:b,useExisting:Object(r.forwardRef)(()=>zt)};let zt=(()=>{class t extends b{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.EventEmitter,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ht(this,i)}set isDisabled(t){z.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),ut(e,this.viewModel)&&(ft("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tt(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return st(this._rawValidators)}get asyncValidator(){return at(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ut)&&this._parent instanceof Dt?z.ngModelGroupException():this._parent instanceof Ut||this._parent instanceof Lt||this._parent instanceof qt||z.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();const Qt={provide:I,useExisting:Object(r.forwardRef)(()=>Kt),multi:!0},Wt={provide:I,useExisting:Object(r.forwardRef)(()=>$t),multi:!0};class Kt{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?A.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class $t extends Kt{validate(t){return this.required?A.requiredTrue(t):null}}const Yt={provide:I,useExisting:Object(r.forwardRef)(()=>Zt),multi:!0};class Zt{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?A.email(t):null}registerOnValidatorChange(t){this._onChange=t}}const Jt={provide:I,useExisting:Object(r.forwardRef)(()=>Xt),multi:!0};class Xt{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=A.minLength(parseInt(this.minlength,10))}}const te={provide:I,useExisting:Object(r.forwardRef)(()=>ee),multi:!0};class ee{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=A.maxLength(parseInt(this.maxlength,10))}}const ne={provide:I,useExisting:Object(r.forwardRef)(()=>re),multi:!0};class re{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=A.pattern(this.pattern)}}const ie=[jt,$,X,m,F,B,f,K,J,V,E,O,Kt,Xt,ee,re,$t,Zt],oe=[kt,At,Et,It],se=[Ft,Lt,zt,Ut,qt];class ae{}class ue{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _t(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new vt(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new bt(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof vt||t instanceof _t||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}const ce=new r.Version("8.1.3");class le{static withConfig(t){return{ngModule:le,providers:[{provide:St,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class he{static withConfig(t){return{ngModule:he,providers:[{provide:Rt,useValue:t.warnOnNgModelWithFormControl}]}}}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},"su+G":function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},"tf+s":function(t,e,n){"use strict";var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}n.d(e,"a",(function(){return m}));class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vY5A:function(t,e,n){var r,i;r=[n,e,n("iInd"),n("WSoB"),n("1LmZ"),n("7+Fz"),n("D8EZ"),n("bG0O"),n("gB6g")],void 0===(i=(function(t,e,n,r,i,o,s,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppRoutingModule=class{}}).apply(e,r))||(t.exports=i)},vkgz:function(t,e,n){"use strict";var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}n.d(e,"a",(function(){return s}));class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",(function(){return p}))},"wD+u":function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("D0XW"),o=n("HDdC"),s=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("7o/Q");function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new d(t))}}class d extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var f=n("lJxs"),p=n("Kqap"),g=n("/uUt"),m=n("pLZG"),y=n("pxpQ"),v=n("jmUF"),_=n("SVse"),b=n("Jgta"),w=n("zIRd"),C=n("q/0M"),E=n("qOnz"),O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function S(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var I,D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T=T||{},A=D||self;function x(){}function N(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function k(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var j="closure_uid_"+(1e9*Math.random()>>>0),R=0;function P(t,e,n){return t.call.apply(t.bind,arguments)}function F(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:F).apply(null,arguments)}function L(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function V(){return Date.now()}function U(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,j)&&t[j]||(t[j]=++R)}(this)},B.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function G(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t){return/^[\s\xa0]*$/.test(t)}var W,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var Z=A.navigator;if(Z){var J=Z.userAgent;if(J){W=J;break t}}W=""}function X(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e={};for(var n in t)e[n]=t[n];return e}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<et.length;o++)n=et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=x;var it,ot,st=$(W,"Opera"),at=$(W,"Trident")||$(W,"MSIE"),ut=$(W,"Edge"),ct=ut||at,lt=$(W,"Gecko")&&!($(W.toLowerCase(),"webkit")&&!$(W,"Edge"))&&!($(W,"Trident")||$(W,"MSIE"))&&!$(W,"Edge"),ht=$(W.toLowerCase(),"webkit")&&!$(W,"Edge");function dt(){var t=A.document;return t?t.documentMode:void 0}t:{var ft="",pt=(ot=W,lt?/rv:([^\);]+)(\)|;)/.exec(ot):ut?/Edge\/([\d\.]+)/.exec(ot):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):ht?/WebKit\/(\S+)/.exec(ot):st?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(pt&&(ft=pt?pt[1]:""),at){var gt=dt();if(null!=gt&&gt>parseFloat(ft)){it=String(gt);break t}}it=ft}var mt={};function yt(t){return function(t,e){var n=mt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=K(String(it)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Y(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Y(0==s[2].length,0==a[2].length)||Y(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var vt=A.document&&at&&(dt()||parseInt(it,10))||void 0,_t=!at||9<=Number(vt),bt=at&&!yt("9"),wt=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",x,e),A.removeEventListener("test",x,e)}catch(n){}return t}();function Ct(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Et(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lt){t:{try{rt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ct.prototype.b=function(){this.defaultPrevented=!0},U(Et,Ct);var Ot={2:"touch",3:"pen",4:"mouse"};Et.prototype.b=function(){Et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var St="closure_listenable_"+(1e6*Math.random()|0),It=0;function Dt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++It,this.Y=this.Z=!1}function Tt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function At(t){this.src=t,this.a={},this.b=0}function xt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=q(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Tt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Nt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}At.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Nt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Dt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var kt="closure_lm_"+(1e6*Math.random()|0),jt={};function Rt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=qt(r),e&&e[St]?e.wa(n,r,k(i)?!!i.capture:!!i,o):Pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rt(t,e[o],n,r,i);return null}return n=qt(n),t&&t[St]?t.va(e,n,k(r)?!!r.capture:!!r,i):Pt(t,e,n,!1,r,i)}function Pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=k(i)?!!i.capture:!!i;if(s&&!_t)return null;var a=Ut(t);if(a||(t[kt]=a=new At(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Vt,e=_t?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ft(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[St])xt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ut(e))?(xt(n,t),0==n.b&&(n.src=null,e[kt]=null)):Tt(t)}}}function Mt(t){return t in jt?jt[t]:jt[t]="on"+t}function Lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ft(t),n.call(r,e)}function Vt(t,e){if(t.Y)return!0;if(!_t){if(!e)t:{e=["window","event"];for(var n=A,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lt(t,e=new Et(e,this))}return Lt(t,new Et(e,this))}function Ut(t){return(t=t[kt])instanceof At?t:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(t){return"function"==typeof t?t:(t[Bt]||(t[Bt]=function(e){return t.handleEvent(e)}),t[Bt])}function Ht(){B.call(this),this.c=new At(this),this.J=this,this.C=null}function Gt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var i=e;nt(e=new Ct(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=zt(s,r,!0,e)&&i}if(i=zt(s=e.a=t,r,!0,e)&&i,i=zt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zt(s=e.a=n[o],r,!1,e)&&i}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&xt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}U(Ht,B),Ht.prototype[St]=!0,(I=Ht.prototype).addEventListener=function(t,e,n,r){Rt(this,t,e,n,r)},I.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=k(i)?!!i.capture:!!i,r=qt(r),e&&e[St]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Nt(s=e.a[n],r,i,o))&&(Tt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ut(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Nt(n,r,i,o)),(r=-1<e?n[e]:null)&&Ft(r))}(this,t,e,n,r)},I.G=function(){if(Ht.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Tt(n[r]);delete e.a[t],e.b--}}this.C=null},I.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},I.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Qt=A.JSON.stringify;function Wt(){this.b=this.a=null}var Kt,$t=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Zt}),(function(t){t.reset()}));function Yt(){var t=ee,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Zt(){this.next=this.b=this.a=null}function Jt(t){A.setTimeout((function(){throw t}),0)}function Xt(t,e){Kt||function(){var t=A.Promise.resolve(void 0);Kt=function(){t.then(ne)}}(),te||(Kt(),te=!0),ee.add(t,e)}Wt.prototype.add=function(t,e){var n=$t.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Zt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Zt.prototype.reset=function(){this.next=this.b=this.a=null};var te=!1,ee=new Wt;function ne(){for(var t;t=Yt();){try{t.a.call(t.b)}catch(n){Jt(n)}var e=$t;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}te=!1}function re(t,e){Ht.call(this),this.b=t||1,this.a=e||A,this.f=M(this.Za,this),this.g=V()}function ie(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function oe(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function se(t){t.a=oe((function(){t.a=null,t.c&&(t.c=!1,se(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}U(re,Ht),(I=re.prototype).aa=!1,I.M=null,I.Za=function(){if(this.aa){var t=V()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Gt(this,"tick"),this.aa&&(ie(this),this.start()))}},I.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},I.G=function(){re.X.G.call(this),ie(this),delete this.a};var ae=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:se(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(A.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(B);function ue(t){B.call(this),this.b=t,this.a={}}U(ue,B);var ce=[];function le(t,e,n,r){Array.isArray(n)||(n&&(ce[0]=n.toString()),n=ce);for(var i=0;i<n.length;i++){var o=Rt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){X(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ft(t)}),t),t.a={}}function de(){this.a=!0}function fe(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ue.prototype.G=function(){ue.X.G.call(this),he(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},de.prototype.info=function(){};var pe={},ge=null;function me(){return ge=ge||new Ht}function ye(t){Ct.call(this,pe.Fa,t)}function ve(t){var e=me();Gt(e,new ye(e,t))}function _e(t,e){Ct.call(this,pe.STAT_EVENT,t),this.stat=e}function be(t){var e=me();Gt(e,new _e(e,t))}function we(t){Ct.call(this,pe.Ga,t)}function Ce(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return A.setTimeout((function(){t()}),e)}pe.Fa="serverreachability",U(ye,Ct),pe.STAT_EVENT="statevent",U(_e,Ct),pe.Ga="timingevent",U(we,Ct);var Ee={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Oe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Se(){}function Ie(){}Se.prototype.a=null;var De,Te={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ae(){Ct.call(this,"d")}function xe(){Ct.call(this,"c")}function Ne(){}function ke(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ue(this),this.P=je,this.R=new re(t=ct?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}U(Ae,Ct),U(xe,Ct),U(Ne,Se),De=new Ne;var je=45e3,Re={},Pe={};function Fe(t,e,n){t.H=1,t.i=on(Je(e)),t.j=n,t.I=!0,Me(t,null)}function Me(t,e){t.u=V(),Ue(t),t.l=Je(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vn(n.b,"t",r),t.D=0,t.a=dr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ae(M(t.Ca,t,t.a),t.O)),le(t.J,t.a,"readystatechange",t.Xa),e=t.B?tt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ve(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Le(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ve(t,n);if(i==Pe){4==e&&(t.h=4,be(14),r=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(i==Re){t.h=4,be(15),fe(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fe(t.c,t.f,i,null),ze(t,i)}4==e&&0==n.length&&(t.h=1,be(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ir(e),e.F=!0,be(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),Ge(t),He(t))}function Ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Pe:(n=Number(e.substring(n,r)),isNaN(n)?Re:(r+=1)+n>e.length?Pe:(e=e.substr(r,n),t.D=r+n,e))}function Ue(t){t.T=V()+t.P,Be(t,t.P)}function Be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ce(M(t.Va,t),e)}function qe(t){t.o&&(A.clearTimeout(t.o),t.o=null)}function He(t){0==t.g.v||t.A||ar(t.g,t)}function Ge(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ie(t.R),he(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ze(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Sn(n.b,t)))if(n.I=t.N,!t.C&&Sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sr(n),$n(n)}rr(n),be(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ce(M(n.Sa,n),6e3));if(1>=On(n.b)&&n.ea){try{n.ea()}catch(Wd){}n.ea=void 0}}else cr(n,11)}else if((t.C||n.a==t)&&sr(n),!Q(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&($(l,"spdy")||$(l,"quic")||$(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(In(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,rn(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=V()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=hr(u,u.C?u.ga:null,u.fa),f.C){Dn(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(qe(p),Ue(p)),u.a=f}else nr(u);0<n.g.length&&Jn(n)}else"stop"!=i[0]&&"close"!=i[0]||cr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cr(n,7):Kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ve(4)}catch(Wd){}}function Qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(N(t)||"string"==typeof t)H(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(N(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(N(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function We(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof We)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];$e(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)$e(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function $e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(I=ke.prototype).setTimeout=function(t){this.P=t},I.Xa=function(t){t=t.target;var e=this.F;e&&3==Gn(t)?e.f():this.Ca(t)},I.Ca=function(t){try{if(t==this.a)t:{var e=Gn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ct&&!this.a.$())){this.A||4!=e||7==n||ve(8==n||0>=r?3:2),qe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,be(12),Ge(this),He(this);break t}fe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ze(this,u)}this.I?(Le(this,e,o),ct&&this.b&&3==e&&(le(this.J,this.R,"tick",this.Wa),this.R.start())):(fe(this.c,this.f,o,null),ze(this,o)),4==e&&Ge(this),this.b&&!this.A&&(4==e?ar(this.g,this):(this.b=!1,Ue(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,be(12)):(this.h=0,be(13)),Ge(this),He(this)}}}catch(c){}},I.Wa=function(){if(this.a){var t=Gn(this.a),e=this.a.$();this.D<e.length&&(qe(this),Le(this,t,e),this.b&&4!=t&&Ue(this))}},I.cancel=function(){this.A=!0,Ge(this)},I.Va=function(){this.o=null;var t=V();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ve(3),be(17)),Ge(this),this.h=2,He(this)):Be(this,this.T-t)},(I=We.prototype).K=function(){Ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},I.L=function(){return Ke(this),this.a.concat()},I.get=function(t,e){return $e(this.b,t)?this.b[t]:e},I.set=function(t,e){$e(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},I.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ze){this.a=void 0!==e?e:t.a,Xe(this,t.f),this.j=t.j,tn(this,t.c),en(this,t.h),this.g=t.g,e=t.b;var n=new pn;n.c=e.c,e.a&&(n.a=new We(e.a),n.b=e.b),nn(this,n),this.i=t.i}else t&&(n=String(t).match(Ye))?(this.a=!!e,Xe(this,n[1]||"",!0),this.j=sn(n[2]||""),tn(this,n[3]||"",!0),en(this,n[4]),this.g=sn(n[5]||"",!0),nn(this,n[6]||"",!0),this.i=sn(n[7]||"")):(this.a=!!e,this.b=new pn(null,this.a))}function Je(t){return new Ze(t)}function Xe(t,e,n){t.f=n?sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tn(t,e,n){t.c=n?sn(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nn(t,e,n){e instanceof pn?(t.b=e,function(t,e){e&&!t.f&&(gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mn(this,e),vn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=an(e,dn)),t.b=new pn(e,t.a))}function rn(t,e,n){t.b.set(e,n)}function on(t){return rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function an(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ze.prototype.toString=function(){var t=[],e=this.f;e&&t.push(an(e,cn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(an(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(an(n,"/"==n.charAt(0)?hn:ln,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",an(n,fn)),t.join("")};var cn=/[#\/\?@]/g,ln=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gn(t){t.a||(t.a=new We,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mn(t,e){gn(t),e=_n(t,e),$e(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$e((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ke(t)))}function yn(t,e){return gn(t),e=_n(t,e),$e(t.a.b,e)}function vn(t,e,n){mn(t,e),0<n.length&&(t.c=null,t.a.set(_n(t,e),z(n)),t.b+=n.length)}function _n(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(I=pn.prototype).add=function(t,e){gn(this),this.c=null,t=_n(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},I.forEach=function(t,e){gn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},I.L=function(){gn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},I.K=function(t){gn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=G(e,this.a.get(_n(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},I.set=function(t,e){return gn(this),this.c=null,yn(this,t=_n(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},I.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bn=function(){return function(t,e){this.b=t,this.a=e}}();function wn(t){this.g=t||Cn,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ia&&A.ia.ya&&A.ia.ya()&&A.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Cn=10;function En(t){return!!t.b||!!t.a&&t.a.size>=t.f}function On(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function In(t,e){t.a?t.a.add(e):t.b=e}function Dn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Tn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=S(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return z(t.c)}function An(){}function xn(){this.a=new An}function Nn(t,e,n){var r=n||"";try{Qe(t,(function(t,n){var i=t;k(t)&&(i=Qt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Pf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pf}}function kn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}wn.prototype.cancel=function(){var t,e;if(this.c=Tn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=S(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},An.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},An.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var jn=A.JSON.parse;function Rn(t){Ht.call(this),this.headers=new We,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pn,this.D=this.F=!1}U(Rn,Ht);var Pn="",Fn=/^https?$/i,Mn=["POST","PUT"];function Ln(t){return"content-type"==t.toLowerCase()}function Vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),qn(t)}function Un(t){t.u||(t.u=!0,Gt(t,"complete"),Gt(t,"error"))}function Bn(t){if(t.b&&void 0!==T&&(!t.s[1]||4!=Gn(t)||2!=t.W()))if(t.l&&4==Gn(t))oe(t.za,0,t);else if(Gt(t,"readystatechange"),4==Gn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ye)[1]||null;if(!o&&A.self&&A.self.location){var s=A.self.location.protocol;o=s.substr(0,s.length-1)}i=!Fn.test(o?o.toLowerCase():"")}e=i}if(e)Gt(t,"complete"),Gt(t,"success");else{t.h=6;try{var a=2<Gn(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Un(t)}}finally{qn(t)}}}function qn(t,e){if(t.a){Hn(t);var n=t.a,r=t.s[0]?x:null;t.a=null,t.s=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch(Pf){}}}function Hn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function Gn(t){return t.a?t.a.readyState:0}function zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return X(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rn(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wn(t){this.pa=0,this.g=[],this.c=new de,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Qn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Qn("baseRetryDelayMs",5e3,t),this.Ra=Qn("retryDelaySeedMs",1e4,t),this.Ma=Qn("forwardChannelMaxRetries",2,t),this.ma=Qn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new wn(t&&t.concurrentRequestLimit),this.ka=new xn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kn(t){if(Yn(t),3==t.v){var e=t.R++,n=Je(t.B);rn(n,"SID",t.J),rn(n,"RID",e),rn(n,"TYPE","terminate"),tr(t,n),(e=new ke(t,t.c,e,void 0)).H=2,e.i=on(Je(n)),n=!1,A.navigator&&A.navigator.sendBeacon&&(n=A.navigator.sendBeacon(e.i.toString(),"")),!n&&A.Image&&((new Image).src=e.i,n=!0),n||(e.a=dr(e.g,null),e.a.ba(e.i)),e.u=V(),Ue(e)}lr(t)}function $n(t){t.a&&(ir(t),t.a.cancel(),t.a=null)}function Yn(t){$n(t),t.j&&(A.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&A.clearTimeout(t.h),t.h=null)}function Zn(t,e){t.g.push(new bn(t.Oa++,e)),3==t.v&&Jn(t)}function Jn(t){En(t.b)||t.h||(t.h=!0,Xt(t.Ba,t),t.u=0)}function Xn(t,e){var n;n=e?e.f:t.R++;var r=Je(t.B);rn(r,"SID",t.J),rn(r,"RID",n),rn(r,"AID",t.P),tr(t,r),t.i&&t.l&&zn(r,t.i,t.l),n=new ke(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=er(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),In(t.b,n),Fe(n,r,e)}function tr(t,e){t.f&&Qe({},(function(t,n){rn(e,n,t)}))}function er(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Nn(l,s,"req"+c+"_")}catch(zr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function nr(t){t.a||t.j||(t.T=1,Xt(t.Aa,t),t.o=0)}function rr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ce(M(t.Aa,t),ur(t,t.o)),t.o++,0))}function ir(t){null!=t.s&&(A.clearTimeout(t.s),t.s=null)}function or(t){t.a=new ke(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Je(t.la);rn(e,"RID","rpc"),rn(e,"SID",t.J),rn(e,"CI",t.H?"0":"1"),rn(e,"AID",t.P),tr(t,e),rn(e,"TYPE","xmlhttp"),t.i&&t.l&&zn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=on(Je(e)),n.j=null,n.I=!0,Me(n,t)}function sr(t){null!=t.m&&(A.clearTimeout(t.m),t.m=null)}function ar(t,e){var n=null;if(t.a==e){sr(t),ir(t),t.a=null;var r=2}else{if(!Sn(t.b,e))return;n=e.s,Dn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=V()-e.u;var i=t.u;Gt(r=me(),new we(r,n,e,i)),Jn(t)}else nr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(On(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ce(M(t.Ba,t,e),ur(t,t.u)),t.u++,0)))}(t,e)||2==r&&rr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:cr(t,5);break;case 4:cr(t,10);break;case 3:cr(t,6);break;default:cr(t,2)}}function ur(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function cr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=M(t.Ya,t);n||(n=new Ze("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Xe(n,"https"),on(n)),function(t,e){var n=new de;if(A.Image){var r=new Image;r.onload=L(kn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=L(kn,n,r,"TestLoadImage: error",!1,e),r.onabort=L(kn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=L(kn,n,r,"TestLoadImage: timeout",!1,e),A.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else be(2);t.v=0,t.f&&t.f.ra(e),lr(t),Yn(t)}function lr(t){t.v=0,t.I=-1,t.f&&(0==Tn(t.b).length&&0==t.g.length||(t.b.c.length=0,z(t.g),t.g.length=0),t.f.qa())}function hr(t,e,n){var r=function(t){return t instanceof Ze?Je(t):new Ze(t,void 0)}(n);if(""!=r.c)e&&tn(r,e+"."+r.c),en(r,r.h);else{var i=A.location;r=function(t,e,n,r){var i=new Ze(null,void 0);return t&&Xe(i,t),e&&tn(i,e),n&&en(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&X(t.V,(function(t,e){rn(r,e,t)})),n=t.na,(e=t.A)&&n&&rn(r,e,n),rn(r,"VER",t.ha),tr(t,r),r}function dr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t.Na)).F=t.C,e}function fr(){}function pr(){if(at&&!(10<=Number(vt)))throw Error("Environmental error: no available transport.")}function gr(t,e){Ht.call(this),this.a=new Wn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Q(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new vr(this)}function mr(t){Ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function yr(){xe.call(this),this.status=1}function vr(t){this.a=t}(I=Rn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:De),this.a.onreadystatechange=M(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Vn(this,o)}t=n||"";var i=new We(this.headers);r&&Qe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ln,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=A.FormData&&t instanceof A.FormData,!(0<=q(Mn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Hn(this),0<this.o&&((this.D=function(t){return at&&yt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.xa,this)):this.m=oe(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Vn(this,o)}},I.xa=function(){void 0!==T&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Gt(this,"timeout"),this.abort(8))},I.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Gt(this,"complete"),Gt(this,"abort"),qn(this))},I.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),Rn.X.G.call(this)},I.za=function(){this.j||(this.A||this.l||this.g?Bn(this):this.Ua())},I.Ua=function(){Bn(this)},I.W=function(){try{return 2<Gn(this)?this.a.status:-1}catch(ot){return-1}},I.$=function(){try{return this.a?this.a.responseText:""}catch(ot){return""}},I.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jn(e)}},I.ua=function(){return this.h},I.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(I=Wn.prototype).ha=8,I.v=1,I.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ke(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=er(this,n,e),rn(i=Je(this.B),"RID",t),rn(i,"CVER",22),this.A&&rn(i,"X-HTTP-Session-Id",this.A),tr(this,i),this.i&&r&&zn(i,this.i,r),In(this.b,n),this.Ia&&rn(i,"TYPE","init"),this.da?(rn(i,"$req",e),rn(i,"SID","null"),n.U=!0,Fe(n,i,null)):Fe(n,i,e),this.v=2}}else 3==this.v&&(t?Xn(this,t):0==this.g.length||En(this.b)||Xn(this))},I.Aa=function(){if(this.j=null,or(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ce(M(this.Ta,this),t)}},I.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,be(10),$n(this),or(this))},I.Sa=function(){null!=this.m&&(this.m=null,$n(this),rr(this),be(19))},I.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),be(2)):(this.c.info("Failed to ping google.com"),be(1))},(I=fr.prototype).ta=function(){},I.sa=function(){},I.ra=function(){},I.qa=function(){},I.Ja=function(){},pr.prototype.a=function(t,e){return new gr(t,e)},U(gr,Ht),gr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;be(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=hr(t,null,t.fa),Jn(t)},gr.prototype.close=function(){Kn(this.a)},gr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Zn(this.a,e)}else this.l?((e={}).__data__=Qt(t),Zn(this.a,e)):Zn(this.a,t)},gr.prototype.G=function(){this.a.f=null,delete this.f,Kn(this.a),delete this.a,gr.X.G.call(this)},U(mr,Ae),U(yr,xe),U(vr,fr),vr.prototype.ta=function(){Gt(this.a,"a")},vr.prototype.sa=function(t){Gt(this.a,new mr(t))},vr.prototype.ra=function(t){Gt(this.a,new yr(t))},vr.prototype.qa=function(){Gt(this.a,"b")},pr.prototype.createWebChannel=pr.prototype.a,gr.prototype.send=gr.prototype.h,gr.prototype.open=gr.prototype.g,gr.prototype.close=gr.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Oe.COMPLETE="complete",Ie.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",Ht.prototype.listen=Ht.prototype.va,Rn.prototype.listenOnce=Rn.prototype.wa,Rn.prototype.getLastError=Rn.prototype.Qa,Rn.prototype.getLastErrorCode=Rn.prototype.ua,Rn.prototype.getStatus=Rn.prototype.W,Rn.prototype.getResponseJson=Rn.prototype.Pa,Rn.prototype.getResponseText=Rn.prototype.$,Rn.prototype.send=Rn.prototype.ba;var _r=Ee,br=Oe,wr=pe,Cr=Ie,Er=Rn,Or=n("mrSG"),Sr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Sr.o=-1;var Ir=new C.b("@firebase/firestore");function Dr(){return Ir.logLevel}function Tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ir.logLevel<=C.a.DEBUG){var r=e.map(Nr);Ir.debug.apply(Ir,Object(Or.f)(["Firestore (8.3.1): "+t],r))}}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ir.logLevel<=C.a.ERROR){var r=e.map(Nr);Ir.error.apply(Ir,Object(Or.f)(["Firestore (8.3.1): "+t],r))}}function xr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ir.logLevel<=C.a.WARN){var r=e.map(Nr);Ir.warn.apply(Ir,Object(Or.f)(["Firestore (8.3.1): "+t],r))}}function Nr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pf){return t}}function kr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Ar(e),new Error(e)}function jr(t,e){t||kr()}function Rr(t,e){return t}function Pr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Mr(t,e){return t<e?-1:t>e?1:0}function Lr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Vr(t){return t+"\0"}function Ur(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Br(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hr(t){return null==t}function Gr(t){return 0===t&&1/t==-1/0}function zr(t){return"number"==typeof t&&Number.isInteger(t)&&!Gr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Or.c)(e,t),e}(Error),Kr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&kr(),void 0===n?n=t.length-e:n>t.length-e&&kr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Kr),Yr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Yr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Wr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Wr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Wr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Kr),Jr=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t($r.fromString(e))},t.fromName=function(e){return new t($r.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$r.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return $r.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new $r(e.slice()))},t}(),Xr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Mr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xr.EMPTY_BYTE_STRING=new Xr("");var ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(jr(!!t),"string"==typeof t){var e=0,n=ti.exec(t);if(jr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ni(t.seconds),nanos:ni(t.nanos)}}function ni(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ri(t){return"string"==typeof t?Xr.fromBase64String(t):Xr.fromUint8Array(t)}var ii=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Wr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Wr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Mr(this.nanoseconds,t.nanoseconds):Mr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function oi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function si(t){var e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oi(t)?4:10:kr()}function ui(t,e){var n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return si(t).isEqual(si(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ei(t.timestampValue),r=ei(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ri(t.bytesValue).isEqual(ri(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ni(t.geoPointValue.latitude)===ni(e.geoPointValue.latitude)&&ni(t.geoPointValue.longitude)===ni(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ni(t.integerValue)===ni(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ni(t.doubleValue),r=ni(e.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Lr(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ur(n)!==Ur(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ui(n[i],r[i])))return!1;return!0}(t,e);default:return kr()}}function ci(t,e){return void 0!==(t.values||[]).find((function(t){return ui(t,e)}))}function li(t,e){var n=ai(t),r=ai(e);if(n!==r)return Mr(n,r);switch(n){case 0:return 0;case 1:return Mr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ni(t.integerValue||t.doubleValue),r=ni(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hi(t.timestampValue,e.timestampValue);case 4:return hi(si(t),si(e));case 5:return Mr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ri(t),r=ri(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mr(n[i],r[i]);if(0!==o)return o}return Mr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mr(ni(t.latitude),ni(e.latitude));return 0!==n?n:Mr(ni(t.longitude),ni(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=li(n[i],r[i]);if(o)return o}return Mr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Mr(r[s],o[s]);if(0!==a)return a;var u=li(n[r[s]],i[o[s]]);if(0!==u)return u}return Mr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw kr()}}function hi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mr(t,e);var n=ei(t),r=ei(e),i=Mr(n.seconds,r.seconds);return 0!==i?i:Mr(n.nanos,r.nanos)}function di(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ei(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ri(e.bytesValue).toBase64():"referenceValue"in e?Jr.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):kr();var n}(t)}function fi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function pi(t){return!!t&&"integerValue"in t}function gi(t){return!!t&&"arrayValue"in t}function mi(t){return!!t&&"nullValue"in t}function yi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vi(t){return!!t&&"mapValue"in t}var _i=function(t,e){this.key=t,this.version=e},bi=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Or.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(_i),wi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Or.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_i),Ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_i),Ei=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Oi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ei(t,e,n,r,i,o,s)}function Si(t){var e=Rr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+di(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Hr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Li(e.startAt)),e.endAt&&(n+="|ub:",n+=Li(e.endAt)),e.h=n}return e.h}function Ii(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ui(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ui(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qi(t.startAt,e.startAt)&&qi(t.endAt,e.endAt)}function Di(t){return Jr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ti=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Or.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ai(t,n,r):"array-contains"===n?new ji(t,r):"in"===n?new Ri(t,r):"not-in"===n?new Pi(t,r):"array-contains-any"===n?new Fi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new xi(t,n):new Ni(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(li(e,this.value)):null!==e&&ai(this.value)===ai(e)&&this.m(li(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return kr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ai=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Jr.fromName(r.referenceValue),i}return Object(Or.c)(e,t),e.prototype.matches=function(t){var e=Jr.comparator(t.key,this.key);return this.m(e)},e}(Ti),xi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ki(0,n),r}return Object(Or.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ti),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ki(0,n),r}return Object(Or.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ti);function ki(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Jr.fromName(t.referenceValue)}))}var ji=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Or.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return gi(e)&&ci(e.arrayValue,this.value)},e}(Ti),Ri=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Or.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ci(this.value.arrayValue,e)},e}(Ti),Pi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Or.c)(e,t),e.prototype.matches=function(t){if(ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ci(this.value.arrayValue,e)},e}(Ti),Fi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Or.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!gi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ci(e.value.arrayValue,t)}))},e}(Ti),Mi=function(t,e){this.position=t,this.before=e};function Li(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return di(t)})).join(",")}var Vi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ui(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Jr.comparator(Jr.fromName(s.referenceValue),n.key):li(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function qi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}var Hi=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Gi(t,e,n,r,i,o,s,a){return new Hi(t,e,n,r,i,o,s,a)}function zi(t){return new Hi(t)}function Qi(t){return!Hr(t.limit)&&"F"===t.limitType}function Wi(t){return!Hr(t.limit)&&"L"===t.limitType}function Ki(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $i(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Yi(t){return null!==t.collectionGroup}function Zi(t){var e=Rr(t);if(null===e.p){e.p=[];var n=$i(e),r=Ki(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Vi(n)),e.p.push(new Vi(Zr.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Vi(Zr.keyField(),u))}}}return e.p}function Ji(t){var e=Rr(t);if(!e.T)if("F"===e.limitType)e.T=Oi(e.path,e.collectionGroup,Zi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zi(e);r<i.length;r++){var o=i[r];n.push(new Vi(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Mi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Mi(e.startAt.position,!e.startAt.before):null;e.T=Oi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Xi(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function to(t,e){return Ii(Ji(t),Ji(e))&&t.limitType===e.limitType}function eo(t){return Si(Ji(t))+"|lt:"+t.limitType}function no(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+di(e.value);var e})).join(", ")+"]"),Hr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Li(t.startAt)),t.endAt&&(e+=", endAt: "+Li(t.endAt)),"Target("+e+")"}(Ji(t))+"; limitType="+t.limitType+")"}function ro(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Jr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bi(t.startAt,Zi(t),e)||t.endAt&&Bi(t.endAt,Zi(t),e))}(t,e)}function io(t){return function(e,n){for(var r=!1,i=0,o=Zi(t);i<o.length;i++){var s=o[i],a=oo(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function oo(t,e,n){var r=t.field.isKeyField()?Jr.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?li(r,i):kr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kr()}}var so=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ii(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),ao=function(){function t(t){this.fields=t,t.sort(Zr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Lr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),uo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!vi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return ui(this.proto,t.proto)},t}(),co=function(){function t(t){void 0===t&&(t=uo.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ai(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(Zr.emptyPath(),this.A);return null!=t?new uo(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=vi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function lo(t){var e=[];return Br(t.fields||{},(function(t,n){var r=new Zr([t]);if(vi(n)){var i=lo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new ao(e)}function ho(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(e)?"-0":e}}function fo(t){return{integerValue:""+t}}function po(t,e){return zr(e)?fo(e):ho(t,e)}var go=function(){this._=void 0};function mo(t,e,n){return t instanceof _o?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof bo?wo(t,e):t instanceof Co?Eo(t,e):function(t,e){var n=vo(t,e),r=So(n)+So(t.S);return pi(n)&&pi(t.S)?fo(r):ho(t.D,r)}(t,e)}function yo(t,e,n){return t instanceof bo?wo(t,e):t instanceof Co?Eo(t,e):n}function vo(t,e){return t instanceof Oo?pi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var _o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e}(go),bo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Or.c)(e,t),e}(go);function wo(t,e){for(var n=Io(e),r=function(t){n.some((function(e){return ui(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Co=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Or.c)(e,t),e}(go);function Eo(t,e){for(var n=Io(e),r=function(t){n=n.filter((function(e){return!ui(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Or.c)(e,t),e}(go);function So(t){return ni(t.integerValue||t.doubleValue)}function Io(t){return gi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Do=function(t,e){this.field=t,this.transform=e},To=function(t,e){this.version=t,this.transformResults=e},Ao=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xo(t,e){return void 0!==t.updateTime?e instanceof bi&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof bi}var No=function(){};function ko(t,e,n){return t instanceof Mo?function(t,e,n){var r=t.value,i=Uo(t.fieldTransforms,e,n.transformResults);return r=qo(t.fieldTransforms,r,i),new bi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Lo?function(t,e,n){if(!xo(t.precondition,e))return new Ci(t.key,n.version);var r=Vo(t,e,Uo(t.fieldTransforms,e,n.transformResults));return new bi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new wi(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function jo(t,e,n){return t instanceof Mo?function(t,e,n){if(!xo(t.precondition,e))return e;var r=t.value,i=Bo(t.fieldTransforms,n,e);r=qo(t.fieldTransforms,r,i);var o=Fo(e);return new bi(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Lo?function(t,e,n){if(!xo(t.precondition,e))return e;var r=Fo(e),i=Vo(t,e,Bo(t.fieldTransforms,n,e));return new bi(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return xo(t.precondition,e)?new wi(t.key,so.min()):e}(t,e)}function Ro(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof bi?e.field(o.field):void 0,a=vo(o.transform,s||null);null!=a&&(n=null==n?(new co).set(o.field,a):n.set(o.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function Po(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Lr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof bo&&e instanceof bo||t instanceof Co&&e instanceof Co?Lr(t.elements,e.elements,ui):t instanceof Oo&&e instanceof Oo?ui(t.S,e.S):t instanceof _o&&e instanceof _o}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Fo(t){return t instanceof bi?t.version:so.min()}var Mo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Or.c)(e,t),e}(No),Lo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Or.c)(e,t),e}(No);function Vo(t,e,n){var r;return r=function(t,e){var n=new co(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.v()}(t,r=e instanceof bi?e.data():uo.empty()),qo(t.fieldTransforms,r,n)}function Uo(t,e,n){var r=[];jr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof bi&&(a=e.field(o.field)),r.push(yo(s,a,n[i]))}return r}function Bo(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof bi&&(u=n.field(s.field)),r.push(mo(a,u,e))}return r}function qo(t,e,n){for(var r=new co(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var Ho,Go,zo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Or.c)(e,t),e}(No),Qo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Or.c)(e,t),e}(No),Wo=function(t){this.count=t};function Ko(t){switch(t){case Qr.OK:return kr();case Qr.CANCELLED:case Qr.UNKNOWN:case Qr.DEADLINE_EXCEEDED:case Qr.RESOURCE_EXHAUSTED:case Qr.INTERNAL:case Qr.UNAVAILABLE:case Qr.UNAUTHENTICATED:return!1;case Qr.INVALID_ARGUMENT:case Qr.NOT_FOUND:case Qr.ALREADY_EXISTS:case Qr.PERMISSION_DENIED:case Qr.FAILED_PRECONDITION:case Qr.ABORTED:case Qr.OUT_OF_RANGE:case Qr.UNIMPLEMENTED:case Qr.DATA_LOSS:return!0;default:return kr()}}function $o(t){if(void 0===t)return Ar("GRPC error has no .code"),Qr.UNKNOWN;switch(t){case Ho.OK:return Qr.OK;case Ho.CANCELLED:return Qr.CANCELLED;case Ho.UNKNOWN:return Qr.UNKNOWN;case Ho.DEADLINE_EXCEEDED:return Qr.DEADLINE_EXCEEDED;case Ho.RESOURCE_EXHAUSTED:return Qr.RESOURCE_EXHAUSTED;case Ho.INTERNAL:return Qr.INTERNAL;case Ho.UNAVAILABLE:return Qr.UNAVAILABLE;case Ho.UNAUTHENTICATED:return Qr.UNAUTHENTICATED;case Ho.INVALID_ARGUMENT:return Qr.INVALID_ARGUMENT;case Ho.NOT_FOUND:return Qr.NOT_FOUND;case Ho.ALREADY_EXISTS:return Qr.ALREADY_EXISTS;case Ho.PERMISSION_DENIED:return Qr.PERMISSION_DENIED;case Ho.FAILED_PRECONDITION:return Qr.FAILED_PRECONDITION;case Ho.ABORTED:return Qr.ABORTED;case Ho.OUT_OF_RANGE:return Qr.OUT_OF_RANGE;case Ho.UNIMPLEMENTED:return Qr.UNIMPLEMENTED;case Ho.DATA_LOSS:return Qr.DATA_LOSS;default:return kr()}}(Go=Ho||(Ho={}))[Go.OK=0]="OK",Go[Go.CANCELLED=1]="CANCELLED",Go[Go.UNKNOWN=2]="UNKNOWN",Go[Go.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Go[Go.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Go[Go.NOT_FOUND=5]="NOT_FOUND",Go[Go.ALREADY_EXISTS=6]="ALREADY_EXISTS",Go[Go.PERMISSION_DENIED=7]="PERMISSION_DENIED",Go[Go.UNAUTHENTICATED=16]="UNAUTHENTICATED",Go[Go.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Go[Go.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Go[Go.ABORTED=10]="ABORTED",Go[Go.OUT_OF_RANGE=11]="OUT_OF_RANGE",Go[Go.UNIMPLEMENTED=12]="UNIMPLEMENTED",Go[Go.INTERNAL=13]="INTERNAL",Go[Go.UNAVAILABLE=14]="UNAVAILABLE",Go[Go.DATA_LOSS=15]="DATA_LOSS";var Yo=function(){function t(t,e){this.comparator=t,this.root=e||Jo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Zo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Zo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Zo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Zo(this.root,t,this.comparator,!0)},t}(),Zo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Jo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw kr();if(this.right.isRed())throw kr();var t=this.left.check();if(t!==this.right.check())throw kr();return t+(this.isRed()?0:1)},t}();Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1,Jo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw kr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw kr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw kr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw kr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw kr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Jo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Xo=function(){function t(t){this.comparator=t,this.data=new Yo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ts(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ts(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ts=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),es=new Yo(Jr.comparator);function ns(){return es}function rs(){return ns()}var is=new Yo(Jr.comparator);function os(){return is}var ss=new Yo(Jr.comparator);function as(){return ss}var us=new Xo(Jr.comparator);function cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=us,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ls=new Xo(Mr);function hs(){return ls}var ds=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,fs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(so.min(),r,hs(),ns(),cs())},t}(),fs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xr.EMPTY_BYTE_STRING,n,cs(),cs(),cs())},t}(),ps=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},gs=function(t,e){this.targetId=t,this.$=e},ms=function(t,e,n,r){void 0===n&&(n=Xr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ys=function(){function t(){this.F=0,this.O=bs(),this.k=Xr.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=cs(),e=cs(),n=cs();return this.O.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:kr()}})),new fs(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=bs()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),vs=function(){function t(t){this.X=t,this.Z=new Map,this.tt=ns(),this.et=_s(),this.nt=new Xo(Mr)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof bi?this.it(r,t.N):t.N instanceof wi&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:kr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,r){n.at(r)&&e(r)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Di(i))if(0===n){var o=new Jr(i.path);this.rt(e,o,new wi(o,so.min()))}else jr(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(r,i){var o=e.lt(i);if(o){if(r.current&&Di(o.target)){var s=new Jr(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new wi(s,t))}r.q&&(n.set(i,r.K()),r.W())}}));var r=cs();this.et.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ds(t,n,this.nt,this.tt,r);return this.tt=ns(),this.et=_s(),this.nt=new Xo(Mr),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new ys,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Xo(Mr),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Tr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new ys),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function _s(){return new Yo(Jr.comparator)}function bs(){return new Yo(Jr.comparator)}var ws={asc:"ASCENDING",desc:"DESCENDING"},Cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Es=function(t,e){this.databaseId=t,this.V=e};function Os(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ss(t,e){return t.V?e.toBase64():e.toUint8Array()}function Is(t,e){return Os(t,e.toTimestamp())}function Ds(t){return jr(!!t),so.fromTimestamp(function(t){var e=ei(t);return new ii(e.seconds,e.nanos)}(t))}function Ts(t,e){return function(t){return new $r(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function As(t){var e=$r.fromString(t);return jr(Js(e)),e}function xs(t,e){return Ts(t.databaseId,e.path)}function Ns(t,e){var n=As(e);if(n.get(1)!==t.databaseId.projectId)throw new Wr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Wr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Jr(Ps(n))}function ks(t,e){return Ts(t.databaseId,e)}function js(t){var e=As(t);return 4===e.length?$r.emptyPath():Ps(e)}function Rs(t){return new $r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ps(t){return jr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Fs(t,e,n){return{name:xs(t,e),fields:n.proto.mapValue.fields}}function Ms(t,e,n){var r=Ns(t,e.name),i=Ds(e.updateTime),o=new uo({mapValue:{fields:e.fields}});return new bi(r,i,o,{hasCommittedMutations:!!n})}function Ls(t,e){var n;if(e instanceof Mo)n={update:Fs(t,e.key,e.value)};else if(e instanceof zo)n={delete:xs(t,e.key)};else if(e instanceof Lo)n={update:Fs(t,e.key,e.data),updateMask:Zs(e.fieldMask)};else{if(!(e instanceof Qo))return kr();n={verify:xs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof _o)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Co)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oo)return{fieldPath:e.field.canonicalString(),increment:n.S};throw kr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Is(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:kr()}(t,e.precondition)),n}function Vs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ao.updateTime(Ds(t.updateTime)):void 0!==t.exists?Ao.exists(t.exists):Ao.none()}(e.currentDocument):Ao.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(jr("REQUEST_TIME"===e.setToServerValue),n=new _o):"appendMissingElements"in e?n=new bo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Co(e.removeAllFromArray.values||[]):"increment"in e?n=new Oo(t,e.increment):kr();var r=Zr.fromServerFormat(e.fieldPath);return new Do(r,n)}(t,e)})):[];if(e.update){var i=Ns(t,e.update.name),o=new uo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ao((t.fieldPaths||[]).map((function(t){return Zr.fromServerFormat(t)})))}(e.updateMask);return new Lo(i,o,s,n,r)}return new Mo(i,o,n,r)}if(e.delete){var a=Ns(t,e.delete);return new zo(a,n)}if(e.verify){var u=Ns(t,e.verify);return new Qo(u,n)}return kr()}function Us(t,e){return{documents:[ks(t,e.path)]}}function Bs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ks(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ks(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yi(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(mi(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yi(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(mi(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:Qs(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ws(t.field),direction:zs(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||Hr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Hs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Hs(e.endAt)),n}function qs(t){var e=js(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Ys(e)]:void 0!==e.fieldFilter?[$s(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):kr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Vi(Ks(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Hr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gs(n.startAt));var l=null;return n.endAt&&(l=Gs(n.endAt)),Gi(e,i,a,s,u,"F",c,l)}function Hs(t){return{before:t.before,values:t.position}}function Gs(t){return new Mi(t.values||[],!!t.before)}function zs(t){return ws[t]}function Qs(t){return Cs[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Ks(t){return Zr.fromServerFormat(t.fieldPath)}function $s(t){return Ti.create(Ks(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return kr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ys(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ks(t.unaryFilter.field);return Ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ks(t.unaryFilter.field);return Ti.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ks(t.unaryFilter.field);return Ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ks(t.unaryFilter.field);return Ti.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return kr()}}function Zs(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Js(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Xs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ea(e)),e=ta(t.get(n),e);return ea(e)}function ta(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ea(t){return t+""}function na(t){var e=t.length;if(jr(e>=2),2===e)return jr(""===t.charAt(0)&&""===t.charAt(1)),$r.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&kr(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:kr()}o=s+2}return new $r(r)}var ra=function(t,e){this.seconds=t,this.nanoseconds=e},ia=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ia.store="owner",ia.key="owner";var oa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};oa.store="mutationQueues",oa.keyPath="userId";var sa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sa.store="mutations",sa.keyPath="batchId",sa.userMutationsIndex="userMutationsIndex",sa.userMutationsKeyPath=["userId","batchId"];var aa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xs(e)]},t.key=function(t,e,n){return[t,Xs(e),n]},t}();aa.store="documentMutations",aa.PLACEHOLDER=new aa;var ua=function(t,e){this.path=t,this.readTime=e},ca=function(t,e){this.path=t,this.version=e},la=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};la.store="remoteDocuments",la.readTimeIndex="readTimeIndex",la.readTimeIndexPath="readTime",la.collectionReadTimeIndex="collectionReadTimeIndex",la.collectionReadTimeIndexPath=["parentPath","readTime"];var ha=function(t){this.byteSize=t};ha.store="remoteDocumentGlobal",ha.key="remoteDocumentGlobalKey";var da=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};da.store="targets",da.keyPath="targetId",da.queryTargetsIndexName="queryTargetsIndex",da.queryTargetsKeyPath=["canonicalId","targetId"];var fa=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};fa.store="targetDocuments",fa.keyPath=["targetId","path"],fa.documentTargetsIndex="documentTargetsIndex",fa.documentTargetsKeyPath=["path","targetId"];var pa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pa.key="targetGlobalKey",pa.store="targetGlobal";var ga=function(t,e){this.collectionId=t,this.parent=e};ga.store="collectionParents",ga.keyPath=["collectionId","parent"];var ma=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ma.store="clientMetadata",ma.keyPath="clientId";var ya=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ya.store="bundles",ya.keyPath="bundleId";var va=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};va.store="namedQueries",va.keyPath="name";var _a=Object(Or.f)(Object(Or.f)([],Object(Or.f)(Object(Or.f)([],Object(Or.f)(Object(Or.f)([],Object(Or.f)(Object(Or.f)([],[oa.store,sa.store,aa.store,la.store,da.store,ia.store,pa.store,fa.store]),[ma.store])),[ha.store])),[ga.store])),[ya.store,va.store]),ba="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wa=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ca=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ea=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&kr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Oa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Ca,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Da(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=ka(e.target.error);n.gt.reject(new Da(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Da(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Tr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Aa(e)},t}(),Sa=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(E.m)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tr("SimpleDb","Removing database:",t),xa(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(E.m)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Tr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Da(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Wr(Qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Da(t,n))},i.onupgradeneeded=function(t){Tr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Tr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Or.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Or.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=Oa.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ea.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.Et];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Tr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ia=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return xa(this.xt.delete())},t}(),Da=function(t){function e(e,n){var r=this;return(r=t.call(this,Qr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Or.c)(e,t),e}(Wr);function Ta(t){return"IndexedDbTransactionError"===t.name}var Aa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),xa(n)},t.prototype.add=function(t){return Tr("SimpleDb","ADD",this.store.name,t,t),xa(this.store.add(t))},t.prototype.get=function(t){var e=this;return xa(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Tr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Tr("SimpleDb","DELETE",this.store.name,t),xa(this.store.delete(t))},t.prototype.count=function(){return Tr("SimpleDb","COUNT",this.store.name),xa(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lt=function(t,e){Tr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Ea((function(n,r){e.onerror=function(t){var e=ka(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new Ea((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ia(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ea){var a=s.catch((function(t){return o.done(),Ea.reject(t)}));n.push(a)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return Ea.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function xa(t){return new Ea((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ka(t.target.error);n(e)}}))}var Na=!1;function ka(t){var e=Sa.It(Object(E.m)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Na||(Na=!0,setTimeout((function(){throw r}),0)),r}}return t}var ja=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Or.c)(e,t),e}(wa);function Ra(t,e){var n=Rr(t);return Sa.Pt(n.Qt,e)}var Pa=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ko(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=jo(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=jo(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),cs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lr(this.mutations,t.mutations,(function(t,e){return Po(t,e)}))&&Lr(this.baseMutations,t.baseMutations,(function(t,e){return Po(t,e)}))},t}(),Fa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){jr(e.mutations.length===r.length);for(var i=as(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ma=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=so.min()),void 0===o&&(o=so.min()),void 0===s&&(s=Xr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),La=function(t){this.Kt=t};function Va(t,e){if(e.document)return Ms(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Jr.fromSegments(e.noDocument.path),r=Ga(e.noDocument.readTime);return new wi(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Jr.fromSegments(e.unknownDocument.path);return r=Ga(e.unknownDocument.version),new Ci(i,r)}return kr()}function Ua(t,e,n){var r=Ba(n),i=e.key.path.popLast().toArray();if(e instanceof bi){var o=function(t,e){return{name:xs(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Os(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new la(null,null,o,s,r,i)}if(e instanceof wi){var a=e.key.path.toArray(),u=Ha(e.version);return s=e.hasCommittedMutations,new la(null,new ua(a,u),null,s,r,i)}if(e instanceof Ci){var c=e.key.path.toArray(),l=Ha(e.version);return new la(new ca(c,l),null,null,!0,r,i)}return kr()}function Ba(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qa(t){var e=new ii(t[0],t[1]);return so.fromTimestamp(e)}function Ha(t){var e=t.toTimestamp();return new ra(e.seconds,e.nanoseconds)}function Ga(t){var e=new ii(t.seconds,t.nanoseconds);return so.fromTimestamp(e)}function za(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Vs(t.Kt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Vs(t.Kt,e)})),o=ii.fromMillis(e.localWriteTimeMs);return new Pa(e.batchId,o,n,i)}function Qa(t){var e,n,r=Ga(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ga(t.lastLimboFreeSnapshotVersion):so.min();return void 0!==t.query.documents?(jr(1===(n=t.query).documents.length),e=Ji(zi(js(n.documents[0])))):e=function(t){return Ji(qs(t))}(t.query),new Ma(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xr.fromBase64String(t.resumeToken))}function Wa(t,e){var n,r=Ha(e.snapshotVersion),i=Ha(e.lastLimboFreeSnapshotVersion);n=Di(e.target)?Us(t.Kt,e.target):Bs(t.Kt,e.target);var o=e.resumeToken.toBase64();return new da(e.targetId,Si(e.target),r,o,e.sequenceNumber,i,n)}function Ka(t){var e=qs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xi(e,e.limit,"L"):e}var $a=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ya(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ga(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ya(t).put({bundleId:(n=e).id,createTime:Ha(Ds(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Za(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ka(e.bundledQuery),readTime:Ga(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Za(t).put(function(t){return{name:t.name,readTime:Ha(Ds(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ya(t){return Ra(t,ya.store)}function Za(t){return Ra(t,va.store)}var Ja=function(){function t(){this.Wt=new Xa}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Ea.resolve()},t.prototype.getCollectionParents=function(t,e){return Ea.resolve(this.Wt.getEntries(e))},t}(),Xa=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Xo($r.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Xo($r.comparator)).toArray()},t}(),tu=function(){function t(){this.jt=new Xa}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var o={collectionId:r,parent:Xs(i)};return eu(t).put(o)}return Ea.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vr(e),""],!1,!0);return eu(t).kt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(na(o.parent))}return n}))},t}();function eu(t){return Ra(t,ga.store)}var nu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ru=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function iu(t,e,n){var r=t.store(sa.store),i=t.store(aa.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){jr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=aa.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Ea.waitFor(o).next((function(){return c}))}function ou(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw kr();e=t.noDocument}return JSON.stringify(e).length}ru.DEFAULT_COLLECTION_PERCENTILE=10,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ru.DEFAULT=new ru(41943040,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ru.DISABLED=new ru(-1,0,0);var su=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return jr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).qt({index:sa.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=cu(t),s=uu(t);return s.add({}).next((function(a){jr("number"==typeof a);for(var u=new Pa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ls(t.Kt,e)})),i=n.mutations.map((function(e){return Ls(t.Kt,e)}));return new sa(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Xo((function(t,e){return Mr(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=aa.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,aa.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.zt[a]=u.keys()})),Ea.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return uu(t).get(e).next((function(t){return t?(jr(t.userId===n.userId),za(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Ea.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return uu(t).qt({index:sa.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(jr(e.batchId>=r),o=za(n.D,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uu(t).qt({index:sa.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).kt(sa.userMutationsIndex,n).next((function(t){return t.map((function(t){return za(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=aa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cu(t).qt({range:i},(function(r,i,s){var a=r[0],u=r[2],c=na(r[1]);if(a===n.userId&&e.path.isEqual(c))return uu(t).get(u).next((function(t){if(!t)throw kr();jr(t.userId===n.userId),o.push(za(n.D,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xo(Mr),i=[];return e.forEach((function(e){var o=aa.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=cu(t).qt({range:s},(function(t,i,o){var s=t[0],a=t[2],u=na(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Ea.waitFor(i).next((function(){return n.Yt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=aa.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Xo(Mr);return cu(t).qt({range:s},(function(t,e,o){var s=t[0],u=t[2],c=na(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Yt(t,a)}))},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(uu(t).get(e).next((function(t){if(null===t)throw kr();jr(t.userId===n.userId),r.push(za(n.D,t))})))})),Ea.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return iu(t.Qt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),Ea.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Ea.resolve();var r=IDBKeyRange.lowerBound(aa.prefixForUser(e.userId)),i=[];return cu(t).qt({range:r},(function(t,n,r){if(t[0]===e.userId){var o=na(t[1]);i.push(o)}else r.done()})).next((function(){jr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return au(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return lu(t).get(this.userId).next((function(t){return t||new oa(e.userId,-1,"")}))},t}();function au(t,e,n){var r=aa.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return cu(t).qt({range:o,Bt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function uu(t){return Ra(t,sa.store)}function cu(t){return Ra(t,aa.store)}function lu(t){return Ra(t,oa.store)}var hu=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),du=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var r=new hu(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return so.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return fu(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return jr(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return fu(t).qt((function(s,a){var u=Qa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Ea.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return fu(t).qt((function(t,n){var r=Qa(n);e(r)}))},t.prototype.se=function(t){return pu(t).get(pa.key).next((function(t){return jr(null!==t),t}))},t.prototype.ie=function(t,e){return pu(t).put(pa.key,e)},t.prototype.re=function(t,e){return fu(t).put(Wa(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Si(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fu(t).qt({range:r,index:da.queryTargetsIndexName},(function(t,n,r){var o=Qa(n);Ii(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=gu(t);return e.forEach((function(e){var s=Xs(e.path);i.push(o.put(new fa(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Ea.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=gu(t);return Ea.forEach(e,(function(e){var o=Xs(e.path);return Ea.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=gu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=gu(t),i=cs();return r.qt({range:n,Bt:!0},(function(t,e,n){var r=na(t[1]),o=new Jr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Xs(e.path),r=IDBKeyRange.bound([n],[Vr(n)],!1,!0),i=0;return gu(t).qt({index:fa.documentTargetsIndex,Bt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.yt=function(t,e){return fu(t).get(e).next((function(t){return t?Qa(t):null}))},t}();function fu(t){return Ra(t,da.store)}function pu(t){return Ra(t,pa.store)}function gu(t){return Ra(t,fa.store)}function mu(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){if(t.code!==Qr.FAILED_PRECONDITION||t.message!==ba)throw t;return Tr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function yu(t,e){var n=t[1],r=e[1],i=Mr(t[0],e[0]);return 0===i?Mr(n,r):i}var vu=function(){function t(t){this.ce=t,this.buffer=new Xo(yu),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();yu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_u=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Tr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ta(e=n.sent())?(Tr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,mu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),bu=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ea.resolve(Sr.o);var r=new vu(e);return this.we.forEachTarget(t,(function(t){return r.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return r.he(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tr("LruGarbageCollector","Garbage collection skipped; disabled"),Ea.resolve(nu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),nu):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Tr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Dr()<=C.a.DEBUG&&Tr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ea.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),wu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new bu(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Cu(t,n)},t.prototype.removeReference=function(t,e,n){return Cu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Cu(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return lu(t).Ut((function(r){return au(t,r,e).next((function(t){return t&&(n=!0),Ea.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,(function(s,a){if(a<=e){var u=n.Ee(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),gu(t).delete([0,Xs(s.path)])}))}));i.push(u)}})).next((function(){return Ea.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Cu(t,e)},t.prototype.pe=function(t,e){var n,r=gu(t),i=Sr.o;return r.qt({index:fa.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Sr.o&&e(new Jr(na(n)),i),i=s,n=o):i=Sr.o})).next((function(){i!==Sr.o&&e(new Jr(na(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Cu(t,e){return gu(t).put(function(t,e){return new fa(0,Xs(t.path),e)}(e,t.currentSequenceNumber))}var Eu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Br(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return qr(this.inner)},t}(),Ou=function(){function t(){this.changes=new Eu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:so.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ea.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Su=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Tu(t).put(Au(e),n)},t.prototype.removeEntry=function(t,e){var n=Tu(t),r=Au(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Te(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Tu(t).get(Au(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return Tu(t).get(Au(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:ou(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=rs();return this.Re(t,e,(function(t,e){var i=n.Ie(e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.be=function(t,e){var n=this,r=rs(),i=new Yo(Jr.comparator);return this.Re(t,e,(function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,ou(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{ve:r,Pe:i}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Ea.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Tu(t).qt({range:r},(function(t,e,r){for(var s=Jr.fromSegments(t);o&&Jr.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=os(),o=e.path.length+1,s={};if(n.isEqual(so.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ba(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=la.collectionReadTimeIndex}return Tu(t).qt(s,(function(t,n,s){if(t.length===o){var a=Va(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof bi&&ro(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Iu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Du(t).get(ha.key).next((function(t){return jr(!!t),t}))},t.prototype.Te=function(t,e){return Du(t).put(ha.key,e)},t.prototype.Ie=function(t){if(t){var e=Va(this.D,t);return e instanceof wi&&e.version.isEqual(so.min())?null:e}return null},t}(),Iu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Eu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Or.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Xo((function(t,e){return Mr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Se.get(o);if(s.maybeDocument){var u=Ua(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=ou(u);r+=c-a,n.push(e.Ve.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Ua(e.Ve.D,new wi(o,so.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))})),n.push(this.Ve.updateMetadata(t,r)),Ea.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(Ou);function Du(t){return Ra(t,ha.store)}function Tu(t){return Ra(t,la.store)}function Au(t){return t.path.toArray()}var xu=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;jr(n<r&&n>=0&&r<=11);var o=new Oa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ia.store)}(t),function(t){t.createObjectStore(oa.store,{keyPath:oa.keyPath}),t.createObjectStore(sa.store,{keyPath:sa.keyPath,autoIncrement:!0}).createIndex(sa.userMutationsIndex,sa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(aa.store)}(t),Nu(t),function(t){t.createObjectStore(la.store)}(t));var s=Ea.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fa.store),t.deleteObjectStore(da.store),t.deleteObjectStore(pa.store)}(t),Nu(t)),s=s.next((function(){return function(t){var e=t.store(pa.store),n=new pa(0,0,so.min().toTimestamp(),0);return e.put(pa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(sa.store).kt().next((function(n){t.deleteObjectStore(sa.store),t.createObjectStore(sa.store,{keyPath:sa.keyPath,autoIncrement:!0}).createIndex(sa.userMutationsIndex,sa.userMutationsKeyPath,{unique:!0});var r=e.store(sa.store),i=n.map((function(t){return r.put(t)}));return Ea.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ma.store,{keyPath:ma.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.De(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ha.store)}(t),i.Ce(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.xe(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Ne(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(la.store);e.createIndex(la.readTimeIndex,la.readTimeIndexPath,{unique:!1}),e.createIndex(la.collectionReadTimeIndex,la.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.$e(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(ya.store,{keyPath:ya.keyPath})}(t),function(t){t.createObjectStore(va.store,{keyPath:va.keyPath})}(t)}))),s},t.prototype.Ce=function(t){var e=0;return t.store(la.store).qt((function(t,n){e+=ou(n)})).next((function(){var n=new ha(e);return t.store(ha.store).put(ha.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(oa.store),r=t.store(sa.store);return n.kt().next((function(n){return Ea.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(sa.userMutationsIndex,i).next((function(r){return Ea.forEach(r,(function(r){jr(r.userId===n.userId);var i=za(e.D,r);return iu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(fa.store),n=t.store(la.store);return t.store(pa.store).get(pa.key).next((function(t){var r=[];return n.qt((function(n,i){var o=new $r(n),s=function(t){return[0,Xs(t)]}(o);r.push(e.get(s).next((function(n){return n?Ea.resolve():function(n){return e.put(new fa(0,Xs(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ea.waitFor(r)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(ga.store,{keyPath:ga.keyPath});var n=e.store(ga.store),r=new Xa,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Xs(i)})}};return e.store(la.store).qt({Bt:!0},(function(t,e){var n=new $r(t);return i(n.popLast())})).next((function(){return e.store(aa.store).qt({Bt:!0},(function(t,e){var n=na(t[1]);return i(n.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(da.store);return n.qt((function(t,r){var i=Qa(r),o=Wa(e.D,i);return n.put(o)}))},t}();function Nu(t){t.createObjectStore(fa.store,{keyPath:fa.keyPath}).createIndex(fa.documentTargetsIndex,fa.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(da.store,{keyPath:da.keyPath}).createIndex(da.queryTargetsIndexName,da.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pa.store)}var ku="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ju=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Wr(Qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wu(this,i),this.We=n+"main",this.D=new La(u),this.je=new Sa(this.We,11,new xu(this.D)),this.Ge=new du(this.referenceDelegate,this.D),this.Gt=new tu,this.ze=function(t,e){return new Su(t,e)}(this.D,this.Gt),this.He=new $a,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wr(Qr.FAILED_PRECONDITION,ku);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new Sr(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Pu(e).put(new ma(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(Ta(e))return Tr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return Ru(t).get(ia.key).next((function(t){return Ea.resolve(e.cn(t))}))},t.prototype.an=function(t){return Pu(t).delete(this.clientId)},t.prototype.un=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ra(t,ma.store);return e.kt().next((function(t){var n=r.ln(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ea.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Ea.resolve(!0):Ru(t).get(ia.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Wr(Qr.FAILED_PRECONDITION,ku);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pu(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Tr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t=this;return Object(Or.d)(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[ia.store,ma.store],(function(e){var n=new ja(e,Sr.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Pu(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return su.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tr("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",_a,(function(o){return r=new ja(o,i.Me?i.Me.next():Sr.o),"readwrite-primary"===e?i.nn(r).next((function(t){return!!t||i.sn(r)})).next((function(e){if(!e)throw Ar("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable((function(){return i.Ke(!1)})),new Wr(Qr.FAILED_PRECONDITION,ba);return n(r)})).next((function(t){return i.on(r).next((function(){return t}))})):i.pn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return Ru(t).get(ia.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wr(Qr.FAILED_PRECONDITION,ku)}))},t.prototype.on=function(t){var e=new ia(this.clientId,this.allowTabSynchronization,Date.now());return Ru(t).put(ia.key,e)},t.At=function(){return Sa.At()},t.prototype.rn=function(t){var e=this,n=Ru(t);return n.get(ia.key).next((function(t){return e.cn(t)?(Tr("IndexedDbPersistence","Releasing primary lease."),n.delete(ia.key)):Ea.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ar("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Tr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ar("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Ar("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ru(t){return Ra(t,ia.store)}function Pu(t){return Ra(t,ma.store)}function Fu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mu=function(t,e){this.progress=t,this.En=e},Lu=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.An(t,e,r)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var r=rs();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.Rn(t,e,r),o=ns();return i.forEach((function(t,e){e||(e=new wi(t,so.min())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Jr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Yi(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Jr(e)).next((function(t){var e=os();return t instanceof bi&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=os();return this.Gt.getCollectionParents(t,i).next((function(s){return Ea.forEach(s,(function(s){var a=function(t,e){return new Hi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Dn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=jo(u,r.get(c),o.localWriteTime);r=l instanceof bi?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ro(e,n)||(r=r.remove(t))})),r}))},t.prototype.Dn=function(t,e,n){for(var r=cs(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Lo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bi&&(c=c.insert(t,e))})),c}))},t}(),Vu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=cs(),i=cs(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Uu=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(so.min())?this.On(t,e):this.Fn.bn(t,r).next((function(o){var s=i.kn(e,o);return(Qi(e)||Wi(e))&&i.Mn(e.limitType,s,r,n)?i.On(t,e):(Dr()<=C.a.DEBUG&&Tr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),no(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new Xo(io(t));return e.forEach((function(e,r){r instanceof bi&&ro(t,r)&&(n=n.add(r))})),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Dr()<=C.a.DEBUG&&Tr("QueryEngine","Using full collection scan to execute query:",no(e)),this.Fn.getDocumentsMatchingQuery(t,e,so.min())},t}(),Bu=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Yo(Mr),this.qn=new Eu((function(t){return Si(t)}),Ii),this.Un=so.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Lu(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();function qu(t,e,n,r){return new Bu(t,e,n,r)}function Hu(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Or.d)(this,(function(s){switch(s.label){case 0:return n=Rr(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Tn.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Lu(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=cs(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.bn(t,s).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Gu(t,e){var n=Rr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ea.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=e,s=n.docVersions.get(t);jr(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)}))})),s.next((function(){return t.Tn.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}function zu(t){var e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function Qu(t,e){var n=Rr(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return jr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}}));var a=ns();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Wu(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(so.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Ea.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Kn.vn(t,a)}))})).then((function(t){return n.Bn=i,t}))}function Wu(t,e,n,r,i){var o=cs();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ns();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof wi&&s.version.isEqual(so.min())?(e.removeEntry(n,u),o=o.insert(n,s)):null==a||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Tr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Ku(t,e){var n=Rr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function $u(t,e){var n=Rr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ge.getTargetData(t,e).next((function(i){return i?Ea.resolve(r=i):n.Ge.allocateTargetId(t).next((function(i){return r=new Ma(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function Yu(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:r=Rr(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ta(s=a.sent()))throw s;return Tr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}}))}))}function Zu(t,e,n){var r=Rr(t),i=so.min(),o=cs();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=r.qn.get(n);return void 0!==i?Ea.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Ji(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:so.min(),n?o:cs())})).next((function(t){return{documents:t,jn:o}}))}))}function Ju(t,e){var n=Rr(t),r=Rr(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.yt(t,e).next((function(t){return t?t.target:null}))}))}function Xu(t){var e=Rr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=ns(),o=Ba(n),s=Tu(e),a=IDBKeyRange.lowerBound(o,!0);return s.qt({index:la.readTimeIndex,range:a},(function(t,e){var n=Va(r.D,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{En:i,readTime:qa(o)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En;return e.Un=t.readTime,n}))}function tc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){return[2,(e=Rr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Tu(t),n=so.min();return e.qt({index:la.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=qa(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function ec(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,d,f;return Object(Or.d)(this,(function(p){switch(p.label){case 0:for(i=Rr(t),o=cs(),s=ns(),a=as(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,$u(i,function(t){return Ji(zi($r.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Wu(t,d,s,so.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.Ge.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.Ge.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Kn.vn(t,e)}))}))}))]}}))}))}function nc(t,e,n){return void 0===n&&(n=cs()),Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return[4,$u(t,Ji(Ka(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ds(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(Xr.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next((function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(t,e)}))}))]}}))}))}var rc=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ea.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ds(n.createTime)}),Ea.resolve()},t.prototype.getNamedQuery=function(t,e){return Ea.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Ka(t.bundledQuery),readTime:Ds(t.readTime)}}(e)),Ea.resolve()},t}(),ic=function(){function t(){this.Xn=new Xo(oc.Zn),this.ts=new Xo(oc.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new oc(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new oc(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new Jr(new $r([])),r=new oc(n,t),i=new oc(n,t+1),o=[];return this.ts.forEachInRange([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Jr(new $r([])),n=new oc(e,t),r=new oc(e,t+1),i=cs();return this.ts.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new oc(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),oc=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Jr.comparator(t.key,e.key)||Mr(t.hs,e.hs)},t.es=function(t,e){return Mr(t.hs,e.hs)||Jr.comparator(t.key,e.key)},t}(),sc=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Xo(oc.Zn)}return t.prototype.checkEmpty=function(t){return Ea.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new Pa(i,e,n,r);this.Tn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.fs=this.fs.add(new oc(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Ea.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ea.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Ea.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ea.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Ea.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new oc(e,0),i=new oc(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(t){var e=n.ds(t.hs);o.push(e)})),Ea.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xo(Mr);return e.forEach((function(t){var e=new oc(t,0),i=new oc(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],(function(t){r=r.add(t.hs)}))})),Ea.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Jr.isDocumentKey(i)||(i=i.child(""));var o=new oc(new Jr(i),0),s=new Xo(Mr);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)}),o),Ea.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ds(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;jr(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Ea.forEach(e.mutations,(function(i){var o=new oc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.fs=r}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new oc(e,0),r=this.fs.firstAfterOrEqual(n);return Ea.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ea.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),ac=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Yo(Jr.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ea.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=rs();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Ea.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=os(),i=new Jr(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||u instanceof bi&&ro(e,u)&&(r=r.insert(u.key,u))}return Ea.resolve(r)},t.prototype.ps=function(t,e){return Ea.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new uc(this)},t.prototype.getSize=function(t){return Ea.resolve(this.size)},t}(),uc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Or.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)})),Ea.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Ou),cc=function(){function t(t){this.persistence=t,this.Es=new Eu((function(t){return Si(t)}),Ii),this.lastRemoteSnapshotVersion=so.min(),this.highestTargetId=0,this.Ts=0,this.Is=new ic,this.targetCount=0,this.As=hu.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),Ea.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ea.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ea.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Ea.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Ea.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new hu(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Ea.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Ea.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Ea.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Ea.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Ea.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Ea.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Ea.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Ea.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Ea.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Ea.resolve(n)},t.prototype.containsKey=function(t,e){return Ea.resolve(this.Is.containsKey(e))},t}(),lc=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Sr(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new cc(this),this.Gt=new Ja,this.ze=function(t,e){return new ac(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new La(e),this.He=new rc(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new sc(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Tr("MemoryPersistence","Starting transaction:",t);var i=new hc(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(t){return r.referenceDelegate.Ps(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return Ea.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),hc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Or.c)(e,t),e}(wa),dc=function(){function t(t){this.persistence=t,this.Ss=new ic,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw kr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Ea.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Ea.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Ea.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ea.forEach(this.xs,(function(r){var i=Jr.fromPath(r);return e.Ns(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Ea.or([function(){return Ea.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),fc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function pc(t,e){return"firestore_clients_"+t+"_"+e}function gc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function mc(t,e){return"firestore_targets_"+t+"_"+e}fc.UNAUTHENTICATED=new fc(null),fc.GOOGLE_CREDENTIALS=new fc("google-credentials-uid"),fc.FIRST_PARTY=new fc("first-party-uid");var yc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Wr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ar("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ar("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_c=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hs(),s=0;i&&s<r.activeTargetIds.length;++s)i=zr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ar("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ar("SharedClientState","Failed to parse online state: "+e),null)},t}(),wc=function(){function t(){this.activeTargetIds=hs()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Cc=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Yo(Mr),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=pc(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new wc),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Or.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(pc(this.persistenceKey,r)))&&(o=_c.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(a=this.Ys(s))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(mc(this.persistenceKey,t));if(n){var r=vc.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(mc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.ei(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return Object(Or.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Or.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=Sr.o;if(null!=t)try{var n=JSON.parse(t);jr("number"==typeof n),e=n}catch(t){Ar("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Sr.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new yc(this.currentUser,t,e,n),i=gc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=gc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=mc(this.persistenceKey,t),i=new vc(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return _c.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return yc.$s(new fc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return vc.$s(r,e)},t.prototype.Ys=function(t){return bc.$s(t)},t.prototype.hi=function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Tr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.mi(s,a).then((function(){n.qs=r}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=hs();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Ec=function(){function t(){this.yi=new wc,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new wc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Oc=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Sc=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Tr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Tr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ic={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dc=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Tc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Or.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise((function(i,o){var s=new Er;s.listenOnce(br.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case _r.NO_ERROR:var e=s.getResponseJson();Tr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case _r.TIMEOUT:Tr("Connection",'RPC "'+t+'" timed out'),o(new Wr(Qr.DEADLINE_EXCEEDED,"Request time out"));break;case _r.HTTP_ERROR:var n=s.getStatus();if(Tr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Qr).indexOf(e)>=0?e:Qr.UNKNOWN}(r.status);o(new Wr(a,r.message))}else o(new Wr(Qr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Wr(Qr.UNAVAILABLE,"Connection failed."));break;default:kr()}}finally{Tr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new pr,i=me(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(E.t)()||Object(E.w)()||Object(E.q)()||Object(E.s)()||Object(E.x)()||Object(E.p)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Tr("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dc({vi:function(t){c?Tr("Connection","Not sending because WebChannel is closed:",t):(u||(Tr("Connection","Opening WebChannel transport."),a.open(),u=!0),Tr("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Cr.EventType.OPEN,(function(){c||Tr("Connection","WebChannel transport opened.")})),h(a,Cr.EventType.CLOSE,(function(){c||(c=!0,Tr("Connection","WebChannel transport closed"),l.$i())})),h(a,Cr.EventType.ERROR,(function(t){c||(c=!0,xr("Connection","WebChannel transport errored:",t),l.$i(new Wr(Qr.UNAVAILABLE,"The operation could not be completed")))})),h(a,Cr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];jr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ho[t];if(void 0!==e)return $o(e)}(i),s=r.message;void 0===o&&(o=Qr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Wr(o,s)),a.close()}else Tr("Connection","WebChannel received:",n),l.Fi(n)}})),h(i,wr.STAT_EVENT,(function(t){10===t.stat?Tr("Connection","Detected buffering proxy"):11===t.stat&&Tr("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ni()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Tr("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then((function(t){return Tr("RestConnection","Received: ",t),t}),(function(e){throw xr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Ic[t]},t}());function Ac(){return"undefined"!=typeof window?window:null}function xc(){return"undefined"!=typeof document?document:null}function Nc(t){return new Es(t,!0)}var kc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Tr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),jc=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new kc(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Qr.RESOURCE_EXHAUSTED?(Ar(e.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===Qr.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new Wr(Qr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return Object(Or.b)(t,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return Tr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(Tr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(Or.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:kr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(jr(void 0===e||"string"==typeof e),Xr.fromBase64String(e||"")):(jr(void 0===e||e instanceof Uint8Array),Xr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Qr.UNKNOWN:$o(t.code);return new Wr(e,t.message||"")}(a);n=new ms(r,i,o,s||null)}else if("documentChange"in e){i=Ns(t,(r=e.documentChange).document.name),o=Ds(r.document.updateTime);var a=new uo({mapValue:{fields:r.document.fields}}),u=(s=new bi(i,o,a,{}),r.targetIds||[]);n=new ps(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ns(t,(r=e.documentDelete).document),o=r.readTime?Ds(r.readTime):so.min(),a=new wi(i,o),n=new ps([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ns(t,(r=e.documentRemove).document),n=new ps([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return kr();var c=e.filter;i=new Wo(r=c.count||0),n=new gs(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return so.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?so.min():e.readTime?Ds(e.readTime):so.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Rs(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Di(r)?{documents:Us(t,r)}:{query:Bs(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ss(t,e.resumeToken):e.snapshotVersion.compareTo(so.min())>0&&(n.readTime=Os(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Rs(this.D),e.removeTarget=t,this.wr(e)},e}(jc),Pc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(jr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(jr(void 0!==e),t.map((function(t){return function(t,e){var n=Ds(t.updateTime?t.updateTime:e);return n.isEqual(so.min())&&(n=Ds(e)),new To(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ds(t.commitTime);return this.listener.Pr(n,e)}return jr(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Rs(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ls(e.D,t)}))};this.wr(n)},e}(jc),Fc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Or.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Wr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(t,e,n,i)})).catch((function(t){throw t.code===Qr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(t,e,n,i)})).catch((function(t){throw t.code===Qr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),Mc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Ar(e),this.Fr=!1):Tr("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),Lc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(t){n.enqueueAndForget((function(){return Object(Or.b)(o,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return Wc(this)?(Tr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Qr.add(4),[4,Uc(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Vc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new Mc(n,r)};function Vc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:if(!Wc(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Uc(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bc(t,e){var n=Rr(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Qc(n)?zc(n):ul(n).ar()&&Hc(n,e))}function qc(t,e){var n=Rr(t),r=ul(n);n.Ur.delete(e),r.ar()&&Gc(n,e),0===n.Ur.size&&(r.ar()?r.lr():Wc(n)&&n.jr.set("Unknown"))}function Hc(t,e){t.Gr.H(e.targetId),ul(t).Ir(e)}function Gc(t,e){t.Gr.H(e),ul(t).Ar(e)}function zc(t){t.Gr=new vs({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),ul(t).start(),t.jr.Or()}function Qc(t){return Wc(t)&&!ul(t).cr()&&t.Ur.size>0}function Wc(t){return 0===Rr(t).Qr.size}function Kc(t){t.Gr=void 0}function $c(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){return t.Ur.forEach((function(e,n){Hc(t,e)})),[2]}))}))}function Yc(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(n){return Kc(t),Qc(t)?(t.jr.Lr(e),zc(t)):t.jr.set("Unknown"),[2]}))}))}function Zc(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Or.d)(this,(function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof ms&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Or.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Tr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jc(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ps?t.Gr.st(e):e instanceof gs?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(so.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,zu(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Xr.EMPTY_BYTE_STRING,n.snapshotVersion)),Gc(t,e);var r=new Ma(n.target,e,1,n.sequenceNumber);Hc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Tr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Jc(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Jc(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r=this;return Object(Or.d)(this,(function(i){switch(i.label){case 0:if(!Ta(e))throw e;return t.Qr.add(1),[4,Uc(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return zu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Or.b)(r,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return Tr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Vc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Xc(t,e){return e().catch((function(n){return Jc(t,n,e)}))}function tl(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Or.d)(this,(function(s){switch(s.label){case 0:e=Rr(t),n=cl(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Wc(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ku(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=cl(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Jc(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return el(e)&&nl(e),[2]}}))}))}function el(t){return Wc(t)&&!cl(t).cr()&&t.qr.length>0}function nl(t){cl(t).start()}function rl(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){return cl(t).Sr(),[2]}))}))}function il(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Or.d)(this,(function(i){for(e=cl(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]}))}))}function ol(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Fa.from(r,e,n),[4,Xc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,tl(t)];case 2:return o.sent(),[2]}}))}))}function sl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e&&cl(t).br?[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return Ko(r=e.code)&&r!==Qr.ABORTED?(n=t.qr.shift(),cl(t).hr(),[4,Xc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,tl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return el(t)&&nl(t),[2]}}))}))}function al(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return n=Rr(t),e?(n.Qr.delete(2),[4,Vc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,Uc(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ul(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Rr(t);return r.Cr(),new Rc(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:$c.bind(null,t),Di:Yc.bind(null,t),Tr:Zc.bind(null,t)}),t.Kr.push((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),Qc(t)?zc(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Kc(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function cl(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Rr(t);return r.Cr(),new Pc(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:rl.bind(null,t),Di:sl.bind(null,t),Vr:il.bind(null,t),Pr:ol.bind(null,t)}),t.Kr.push((function(n){return Object(Or.b)(e,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,tl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Tr("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr}var ll=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wr(Qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hl(t,e){if(Ar("AsyncQueue",e+": "+t),Ta(t))return new Wr(Qr.UNAVAILABLE,e+": "+t);throw t}var dl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Jr.comparator(e.key,n.key)}:function(t,e){return Jr.comparator(t.key,e.key)},this.keyedMap=os(),this.sortedSet=new Yo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fl=function(){function t(){this.Jr=new Yo(Jr.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):kr():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),pl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,dl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&to(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gl=function(){this.Xr=void 0,this.listeners=[]},ml=function(){this.queries=new Eu((function(t){return eo(t)}),to),this.onlineState="Unknown",this.Zr=new Set};function yl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Or.d)(this,(function(c){switch(c.label){case 0:if(n=Rr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new gl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=hl(a,"Initialization of query '"+no(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&wl(n),[2]}}))}))}function vl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.d)(this,(function(a){return n=Rr(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function _l(t,e){for(var n=Rr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(s)&&(r=!0);a.Xr=s}}r&&wl(n)}function bl(t,e,n){var r=Rr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function wl(t){t.Zr.forEach((function(t){t.next()}))}var Cl=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),El=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Ol=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Ns(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?Ms(this.D,t.document,!1):new wi(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Ds(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Ol(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||cs()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return[4,ec(this.localStore,new Ol(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,nc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mu(Object.assign({},this.progress),t))]}}))}))}}();var Sl=function(t){this.key=t},Il=function(t){this.key=t},Dl=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=cs(),this.mutatedKeys=cs(),this.po=io(t),this.Eo=new dl(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new fl,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Qi(this.query)&&i.size===this.query.limit?i.last():null,c=Wi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=e instanceof bi?e:null;h&&(h=ro(n.query,h)?h:null);var d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Qi(this.query)||Wi(this.query))for(;s.size>this.query.limit;){var l=Qi(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:a,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kr()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)})),this.bo(n);var s=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==o.length||u?{snapshot:new pl(this.query,t.Eo,i,o,t.mutatedKeys,0===a,u,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new fl,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=cs(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new Il(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new Sl(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=cs();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return pl.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Tl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Al=function(t){this.key=t,this.Co=!1},xl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Eu((function(t){return eo(t)}),to),this.$o=new Map,this.Fo=new Set,this.Oo=new Yo(Jr.comparator),this.ko=new Map,this.Mo=new ic,this.Lo={},this.Bo=new Map,this.qo=hu.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Nl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:return n=sh(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,$u(n.localStore,Ji(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,kl(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Bc(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function kl(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Or.d)(this,(function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Zu(t.localStore,e.query,!1).then((function(t){return e.view.Io(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(zl(t,e.targetId,s.Po),s.snapshot)]}}))}))}(t,e,n,r)},[4,Zu(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Dl(e,i.jn),s=o.Io(i.documents),a=fs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),zl(t,n,u.Po),c=new Tl(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}}))}))}function jl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return n=Rr(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(t){return!to(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),qc(n.remoteStore,r.targetId),Hl(n,r.targetId)})).catch(mu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hl(n,r.targetId),[4,Yu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Rl(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:r=ah(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rr(t),i=ii.now(),o=e.reduce((function(t,e){return t.add(e.key)}),cs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Kn.bn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ro(c,n.get(c.key));null!=l&&s.push(new Lo(c.key,l,lo(l.proto.mapValue),Ao.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Yo(Mr)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Kl(r,i.changes)];case 3:return a.sent(),[4,tl(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=hl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Pl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:n=Rr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.ko.get(e);r&&(jr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?jr(r.Co):t.removedDocuments.size>0&&(jr(r.Co),r.Co=!1))})),[4,Kl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,mu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Fl(t,e,n){var r=Rr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Rr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)})),r&&wl(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ml(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Or.d)(this,(function(c){switch(c.label){case 0:return(r=Rr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new Yo(Jr.comparator)).insert(o,new wi(o,so.min())),a=cs().add(o),u=new ds(so.min(),new Map,new Xo(Mr),s,a),[4,Pl(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),Wl(r),[3,4];case 2:return[4,Yu(r.localStore,e,!1).then((function(){return Hl(r,e,n)})).catch(mu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ll(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:n=Rr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gu(n.localStore,e)];case 2:return i=o.sent(),ql(n,r,null),Bl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Kl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,mu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Vl(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:r=Rr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Tn.lookupMutationBatch(t,e).next((function(e){return jr(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),ql(r,e,n),Bl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Kl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,mu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ul(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:Wc((n=Rr(t)).remoteStore)||Tr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=a.sent(),s=hl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Bl(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function ql(t,e,n){var r=Rr(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Hl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||Gl(t,e)}))}function Gl(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(qc(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Wl(t))}function zl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sl?(t.Mo.addReference(o.key,e),Ql(t,o)):o instanceof Il?(Tr("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Gl(t,o.key)):kr()}}function Ql(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Tr("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Wl(t))}function Wl(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Jr($r.fromString(e)),r=t.qo.next();t.ko.set(r,new Al(n)),t.Oo=t.Oo.insert(n,r),Bc(t.remoteStore,new Ma(Ji(zi(n.path)),r,2,Sr.o))}}function Kl(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:return r=Rr(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(t,a){s.push(r.Qo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Vu.Nn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Or.d)(this,(function(l){switch(l.label){case 0:n=Rr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ea.forEach(e,(function(e){return Ea.forEach(e.Cn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Ea.forEach(e.xn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ta(r=l.sent()))throw r;return Tr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function $l(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).currentUser.isEqual(e)?[3,3]:(Tr("SyncEngine","User change. New user:",e.toKey()),[4,Hu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new Wr(Qr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Kl(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Yl(t,e){var n=Rr(t),r=n.ko.get(e);if(r&&r.Co)return cs().add(r.key);var i=cs(),o=n.$o.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.No.get(a[s]);i=i.unionWith(u.view.To)}return i}function Zl(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return[4,Zu((n=Rr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&zl(n,e.targetId,i.Po),i)]}}))}))}function Jl(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){return[2,Xu((e=Rr(t)).localStore).then((function(t){return Kl(e,t)}))]}))}))}function Xl(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o;return Object(Or.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Rr(t),r=Rr(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):Ea.resolve(null)}))}))}((i=Rr(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,tl(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ql(i,e,r||null),Bl(i,e),function(t,e){Rr(Rr(t).Tn).Xt(e)}(i.localStore,e)):kr(),s.label=4;case 4:return[4,Kl(i,o)];case 5:return s.sent(),[3,7];case 6:Tr("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function th(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Or.d)(this,(function(c){switch(c.label){case 0:return sh(n=Rr(t)),ah(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,eh(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,al(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Bc(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Hl(n,e),Yu(n.localStore,e,!0)})),qc(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,eh(n,a)];case 5:return c.sent(),function(t){var e=Rr(t);e.ko.forEach((function(t,n){qc(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new Yo(Jr.comparator)}(n),n.Uo=!1,[4,al(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function eh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(Or.d)(this,(function(g){switch(g.label){case 0:n=Rr(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.$o.get(a=s[o]))&&0!==c.length?[4,$u(n.localStore,Ji(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.No.get(h[l]),[4,Zl(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ju(n.localStore,a)];case 8:return p=g.sent(),[4,$u(n.localStore,p)];case 9:return u=g.sent(),[4,kl(n,nh(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function nh(t){return Gi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rh(t){var e=Rr(t);return Rr(Rr(e.localStore).persistence).gn()}function ih(t,e,n,r){return Object(Or.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Or.d)(this,(function(a){switch(a.label){case 0:return(i=Rr(t)).Uo?(Tr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xu(i.localStore)];case 3:return o=a.sent(),s=ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Kl(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Yu(i.localStore,e,!0)];case 6:return a.sent(),Hl(i,e,r),[3,8];case 7:kr(),a.label=8;case 8:return[2]}}))}))}function oh(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Or.d)(this,(function(d){switch(d.label){case 0:if(!(r=sh(t)).Uo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.$o.has(s=o[i])?(Tr("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ju(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,$u(r.localStore,a)];case 3:return u=d.sent(),[4,kl(r,nh(a),u.targetId,!1)];case 4:d.sent(),Bc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Yu(r.localStore,t,!1).then((function(){qc(r.remoteStore,t),Hl(r,t)})).catch(mu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function sh(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ml.bind(null,e),e.xo.Tr=_l.bind(null,e.eventManager),e.xo.Ko=bl.bind(null,e.eventManager),e}function ah(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ll.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vl.bind(null,e),e}var uh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return this.D=Nc(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return qu(this.persistence,new Uu,t.initialUser,this.D)},t.prototype.Go=function(t){return new lc(dc.Cs,this.D)},t.prototype.jo=function(t){return new Ec},t.prototype.terminate=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Or.c)(e,t),e.prototype.initialize=function(e){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,tc(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,ah(this.Jo.syncEngine)];case 4:return n.sent(),[4,tl(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return qu(this.persistence,new Uu,t.initialUser,this.D)},e.prototype.zo=function(t){return new _u(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ru.withCacheSize(this.cacheSizeBytes):ru.DEFAULT;return new ju(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ac(),xc(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Ec},e}(uh),lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Or.c)(e,t),e.prototype.initialize=function(e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Cc?(this.sharedClientState.syncEngine={wi:Xl.bind(null,n),_i:ih.bind(null,n),mi:oh.bind(null,n),gn:rh.bind(null,n),di:Jl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(t){return Object(Or.b)(r,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return[4,th(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=Ac();if(!Cc.At(e))throw new Wr(Qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Cc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ch),hh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n=this;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Fl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$l.bind(null,this.syncEngine),[4,al(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new ml},t.prototype.createDatastore=function(t){var e=Nc(t.databaseInfo.databaseId),n=new Tc(t.databaseInfo);return function(t,e,n){return new Fc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Fl(s.syncEngine,t,0)},o=Sc.At()?new Sc:new Oc,new Lc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new xl(t,e,n,r,i,o);return s&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e=Rr(t),Tr("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,Uc(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),dh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),fh=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Ca,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new El(JSON.parse(r),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Or.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Wr(Qr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Or.d)(this,(function(u){switch(u.label){case 0:return n=Rr(t),r=Rs(n.D)+"/documents",i={documents:e.map((function(t){return xs(n.D,t)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){jr(!!e.found);var n=Ns(t,e.found.name),r=Ds(e.found.updateTime),i=new uo({mapValue:{fields:e.found.fields}});return new bi(n,r,i,{})}(t,e):"missing"in e?function(t,e){jr(!!e.missing),jr(!!e.readTime);var n=Ns(t,e.missing),r=Ds(e.readTime);return new wi(n,r)}(t,e):kr()}(n.D,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());jr(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wi||t instanceof bi?n.recordVersion(t):kr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new zo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Or.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Jr.fromPath(n);e.mutations.push(new Qo(r,e.precondition(r)))})),[4,function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return n=Rr(t),r=Rs(n.D)+"/documents",i={writes:e.map((function(t){return Ls(n.D,t)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof bi)e=t.version;else{if(!(t instanceof wi))throw kr();e=so.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wr(Qr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ao.updateTime(e):Ao.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(so.min()))throw new Wr(Qr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ao.updateTime(e)}return Ao.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ph=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new kc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return Object(Or.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Or.d)(this,(function(r){return t=new fh(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!Hr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ko(e)}return!1},t}(),gh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=fc.UNAUTHENTICATED,this.clientId=Fr.u(),this.credentialListener=function(){},this.receivedInitialUser=new Ca,this.credentials.setChangeListener((function(t){Tr("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Wr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Or.b)(t,void 0,void 0,(function(){var t,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function mh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Tr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(Or.b)(i,void 0,void 0,(function(){return Object(Or.d)(this,(function(t){switch(t.label){case 0:return[4,Hu(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function yh(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,vh(t)];case 1:return n=i.sent(),Tr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(Or.b)(this,void 0,void 0,(function(){var n,r;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).asyncQueue.verifyOperationInProgress(),Tr("RemoteStore","RemoteStore received new credentials"),r=Wc(n),n.Qr.add(3),[4,Uc(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Vc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function vh(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Tr("FirestoreClient","Using default OfflineComponentProvider"),[4,mh(t,new uh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function _h(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Tr("FirestoreClient","Using default OnlineComponentProvider"),[4,yh(t,new hh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function bh(t){return vh(t).then((function(t){return t.persistence}))}function wh(t){return vh(t).then((function(t){return t.localStore}))}function Ch(t){return _h(t).then((function(t){return t.remoteStore}))}function Eh(t){return _h(t).then((function(t){return t.syncEngine}))}function Oh(t){return Object(Or.b)(this,void 0,void 0,(function(){var e,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return[4,_h(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Nl.bind(null,e.syncEngine),n.onUnlisten=jl.bind(null,e.syncEngine),n)]}}))}))}function Sh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dh({next:function(o){e.enqueueAndForget((function(){return vl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Wr(Qr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Wr(Qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Cl(zi(n.path),o,{includeMetadataChanges:!0,uo:!0});return yl(t,s)},[4,Oh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Ih(t,e,n){var r=this;void 0===n&&(n={});var i=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new dh({next:function(n){e.enqueueAndForget((function(){return vl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Wr(Qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Cl(n,o,{includeMetadataChanges:!0,uo:!0});return yl(t,s)},[4,Oh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Dh=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Th=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ah=new Map,xh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Nh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(fc.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kh=function(){function t(t){var e=this;this.fc=null,this.currentUser=fc.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(Tr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(jr("string"==typeof n.accessToken),new xh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return jr(null===t||"string"==typeof t),new fc(t)},t}(),jh=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=fc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Rh=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new jh(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(fc.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ph(t,e,n){if(!n)throw new Wr(Qr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Mh(t,e,n,r){if(!0===e&&!0===r)throw new Wr(Qr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Lh(t){if(!Jr.isDocumentKey(t))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vh(t){if(Jr.isDocumentKey(t))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Uh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":kr()}function Bh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Wr(Qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uh(t);throw new Wr(Qr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function qh(t,e){if(e<=0)throw new Wr(Qr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Hh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Wr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Mh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gh=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Hh({}),this._settingsFrozen=!1,t instanceof Th?(this._databaseId=t,this._credentials=new Nh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Wr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(t.options.projectId)}(t),this._credentials=new kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Wr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Wr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Nh;switch(t.type){case"gapi":var e=t.client;return jr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Rh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wr(Qr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ah.get(this))&&(Tr("ComponentProvider","Removing Datastore"),Ah.delete(this),t.terminate()),Promise.resolve();var t},t}(),zh=function(t){this._delegate=t},Qh=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Kh(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Wh=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zi(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Qh(this.firestore,null,new Jr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Wh);function $h(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof zh&&(t=t._delegate),Ph("collection","path",e),t instanceof Gh)return Vh(n=$r.fromString.apply($r,Object(Or.f)([e],r))),new Kh(t,null,n);if(!(t instanceof Qh||t instanceof Kh))throw new Wr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vh(n=$r.fromString.apply($r,Object(Or.f)([t.path],r)).child($r.fromString(e))),new Kh(t.firestore,null,n)}function Yh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof zh&&(t=t._delegate),1===arguments.length&&(e=Fr.u()),Ph("doc","path",e),t instanceof Gh)return Lh(n=$r.fromString.apply($r,Object(Or.f)([e],r))),new Qh(t,null,new Jr(n));if(!(t instanceof Qh||t instanceof Kh))throw new Wr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lh(n=t._path.child($r.fromString.apply($r,Object(Or.f)([e],r)))),new Qh(t.firestore,t instanceof Kh?t._converter:null,new Jr(n))}function Zh(t,e){return t instanceof zh&&(t=t._delegate),e instanceof zh&&(e=e._delegate),(t instanceof Qh||t instanceof Kh)&&(e instanceof Qh||e instanceof Kh)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Jh(t,e){return t instanceof zh&&(t=t._delegate),e instanceof zh&&(e=e._delegate),t instanceof Wh&&e instanceof Wh&&t.firestore===e.firestore&&to(t._query,e._query)&&t._converter===e._converter}var Xh=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new kc(this,"async_queue_retry"),this.bc=function(){var e=xc();e&&Tr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=xc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=xc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Or.d)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Ta(t=n.sent()))throw t;return Tr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=ll.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&kr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Or.b)(this,void 0,void 0,(function(){var t;return Object(Or.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function td(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ca,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Xh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Or.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||rd(this),this._firestoreClient.terminate()},e}(Gh);function nd(t){return t._firestoreClient||rd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rd(t){var e=t._freezeSettings(),n=function(t,e,n){return new Dh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new gh(t._credentials,t._queue,n)}function id(t,e,n){var r=this,i=new Ca;return t.asyncQueue.enqueue((function(){return Object(Or.b)(r,void 0,void 0,(function(){var r;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,mh(t,n)];case 1:return o.sent(),[4,yh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Qr.FAILED_PRECONDITION||t.code===Qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function od(t){if(t._initialized||t._terminated)throw new Wr(Qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ad=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xr.fromBase64String(e))}catch(e){throw new Wr(Qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ud=function(t){this._methodName=t},cd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Wr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Wr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Mr(this._lat,t._lat)||Mr(this._long,t._long)},t}(),ld=/^__.*__$/,hd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mo(t,this.data,e,this.fieldTransforms)},t}(),dd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function fd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kr()}}var pd=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Rd(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(fd(this.Fc)&&ld.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),gd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Nc(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new pd({Fc:t,methodName:e,Kc:n,path:Zr.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function md(t){var e=t._freezeSettings(),n=Nc(t._databaseId);return new gd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);xd("Data must be an object, but it was:",s,r);var a,u,c=Td(r,s);if(o.merge)a=new ao(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Nd(e,d[h],n);if(!s.contains(f))throw new Wr(Qr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Pd(l,f)||l.push(f)}a=new ao(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new hd(new uo(c),a,u)}var vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ud);function _d(t,e,n){return new pd({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype._toFieldTransform=function(t){return new Do(t.path,new _o)},e.prototype.isEqual=function(t){return t instanceof e},e}(ud),wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Or.c)(e,t),e.prototype._toFieldTransform=function(t){var e=_d(this,t,!0),n=this.jc.map((function(t){return Dd(t,e)})),r=new bo(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ud),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Or.c)(e,t),e.prototype._toFieldTransform=function(t){var e=_d(this,t,!0),n=this.jc.map((function(t){return Dd(t,e)})),r=new Co(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ud),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Or.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Oo(t.D,po(t.D,this.Gc));return new Do(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ud);function Od(t,e,n,r){var i=t.Wc(1,e,n);xd("Data must be an object, but it was:",i,r);var o=[],s=new co;Br(r,(function(t,r){var a=jd(e,t,n);r instanceof zh&&(r=r._delegate);var u=i.Bc(a);if(r instanceof vd)o.push(a);else{var c=Dd(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new ao(o);return new dd(s.v(),a,i.fieldTransforms)}function Sd(t,e,n,r,i,o){var s=t.Wc(1,e,n),a=[Nd(e,r,n)],u=[i];if(o.length%2!=0)throw new Wr(Qr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Nd(e,o[c])),u.push(o[c+1]);for(var l=[],h=new co,d=a.length-1;d>=0;--d)if(!Pd(l,a[d])){var f=a[d],p=u[d];p instanceof zh&&(p=p._delegate);var g=s.Bc(f);if(p instanceof vd)l.push(f);else{var m=Dd(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new ao(l);return new dd(h.v(),y,s.fieldTransforms)}function Id(t,e,n,r){return void 0===r&&(r=!1),Dd(n,t.Wc(r?4:3,e))}function Dd(t,e){if(t instanceof zh&&(t=t._delegate),Ad(t))return xd("Unsupported field value:",e,t),Td(t,e);if(t instanceof ud)return function(t,e){if(!fd(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Dd(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof zh&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return po(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ii.fromDate(t);return{timestampValue:Os(e.D,n)}}if(t instanceof ii)return n=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Os(e.D,n)};if(t instanceof cd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ad)return{bytesValue:Ss(e.D,t._byteString)};if(t instanceof Qh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ts(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Uh(t))}(t,e)}function Td(t,e){var n={};return qr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(t,(function(t,r){var i=Dd(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ad(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ii||t instanceof cd||t instanceof ad||t instanceof Qh||t instanceof ud)}function xd(t,e,n){if(!Ad(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Uh(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Nd(t,e,n){if(e instanceof zh&&(e=e._delegate),e instanceof sd)return e._internalPath;if("string"==typeof e)return jd(t,e);throw Rd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kd=new RegExp("[~\\*/\\[\\]]");function jd(t,e,n){if(e.search(kd)>=0)throw Rd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sd.bind.apply(sd,Object(Or.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Rd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rd(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Wr(Qr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Pd(t,e){return t.some((function(t){return t.isEqual(e)}))}var Fd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Md(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Ld("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fd);function Ld(t,e){return"string"==typeof e?jd(t,e):e instanceof zh?e._delegate._internalPath:e._internalPath}var Vd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ud=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Or.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Ld("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fd),Bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ud),qd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Bd(n._firestore,n._userDataWriter,r.key,r,new Vd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Bd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Hd(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Hd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kr()}}function Gd(t,e){return t instanceof Ud&&e instanceof Ud?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qd&&e instanceof qd&&t._firestore===e._firestore&&Jh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function zd(t){if(Wi(t)&&0===t.explicitOrderBy.length)throw new Wr(Qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qd=function(){};function Wd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Or.c)(e,t),e.prototype._apply=function(t){var e=md(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ef(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(tf(r,t,l[c]));a={arrayValue:{values:u}}}else a=tf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ef(s,o),a=Id(n,"where",s,"in"===o||"not-in"===o);var h=Ti.create(i,o,a);return function(t,e){if(e.g()){var n=$i(t);if(null!==n&&!n.isEqual(e.field))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ki(t);null!==r&&nf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Wr(Qr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Wh(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Qd),$d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Or.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vi(e,n);return function(t,e){if(null===Ki(t)){var n=$i(t);null!==n&&nf(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Wh(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Hi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Qd),Yd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Or.c)(e,t),e.prototype._apply=function(t){return new Wh(t.firestore,t._converter,Xi(t._query,this.Xc,this.Zc))},e}(Qd),Zd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Or.c)(e,t),e.prototype._apply=function(t){var e=Xd(t,this.type,this.ta,this.ea);return new Wh(t.firestore,t._converter,function(t,e){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Qd),Jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Or.c)(e,t),e.prototype._apply=function(t){var e=Xd(t,this.type,this.ta,this.ea);return new Wh(t.firestore,t._converter,function(t,e){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Qd);function Xd(t,e,n,r){if(n[0]instanceof zh&&(n[0]=n[0]._delegate),n[0]instanceof Fd)return function(t,e,n,r,i){if(!r)throw new Wr(Qr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Zi(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(fi(e,r.key));else{var c=r.field(u.field);if(oi(c))throw new Wr(Qr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=md(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Wr(Qr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yi(t)&&-1!==c.indexOf("/"))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($r.fromString(c));if(!Jr.isDocumentKey(l))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Jr(l);a.push(fi(e,h))}else{var d=Id(n,r,c);a.push(d)}}return new Mi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function tf(t,e,n){if(n instanceof zh&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yi(e)&&-1!==n.indexOf("/"))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($r.fromString(n));if(!Jr.isDocumentKey(r))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fi(t,new Jr(r))}if(n instanceof Qh)return fi(t,n._key);throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Uh(n)+".")}function ef(t,e){if(!Array.isArray(t)||0===t.length)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function nf(t,e,n){if(!n.isEqual(e))throw new Wr(Qr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var rf=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ai(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw kr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Br(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new cd(ni(t.latitude),ni(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return oi(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(si(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ei(t);return new ii(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=$r.fromString(t);jr(Js(n));var r=new Th(n.get(1),n.get(3)),i=new Jr(n.popFirst(5));return r.isEqual(e)||Ar("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function of(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.c)(e,t),e.prototype.convertBytes=function(t){return new ad(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qh(this.firestore,null,e)},e}(rf),af=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=md(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=uf(t,this._firestore),i=of(r._converter,e,n),o=yd(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ao.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=uf(t,this._firestore);return e instanceof zh&&(e=e._delegate),o="string"==typeof e||e instanceof sd?Sd(this._dataReader,"WriteBatch.update",s._key,e,n,r):Od(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ao.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=uf(t,this._firestore);return this._mutations=this._mutations.concat(new zo(e._key,Ao.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Wr(Qr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function uf(t,e){if(t instanceof zh&&(t=t._delegate),t.firestore!==e)throw new Wr(Qr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.c)(e,t),e.prototype.convertBytes=function(t){return new ad(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qh(this.firestore,null,e)},e}(rf);function lf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Bh(t,Qh);var o=Bh(t.firestore,ed),s=md(o);return e instanceof zh&&(e=e._delegate),df(o,[("string"==typeof e||e instanceof sd?Sd(s,"updateDoc",t._key,e,n,r):Od(s,"updateDoc",t._key,e)).toMutation(t._key,Ao.exists(!0))])}function hf(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof zh&&(t=t._delegate);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||td(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(td(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Qh)c=Bh(t.firestore,ed),l=zi(t._key.path),u={next:function(e){i[a]&&i[a](ff(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Bh(t,Wh);c=Bh(f.firestore,ed),l=f._query;var p=new cf(c);u={next:function(t){i[a]&&i[a](new qd(c,p,f,t))},error:i[a+1],complete:i[a+2]},zd(t._query)}return function(t,e,n,r){var i=this,o=new dh(r),s=new Cl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(i,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e=yl,[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(i,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e=vl,[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(nd(c),l,h,u)}function df(t,e){return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return n=Rl,[4,Eh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(nd(t),e)}function ff(t,e,n){var r=n.docs.get(e._key),i=new cf(t);return new Ud(t,i,e._key,r,new Vd(n.hasPendingWrites,n.fromCache),e._converter)}var pf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Or.c)(e,t),e.prototype.get=function(e){var n=this,r=uf(e,this._firestore),i=new cf(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Ud(n._firestore,i,r._key,t._document,new Vd(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=md(t)}return t.prototype.get=function(t){var e=this,n=uf(t,this._firestore),r=new sf(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return kr();var i=t[0];if(i instanceof wi)return new Fd(e._firestore,r,n._key,null,n._converter);if(i instanceof bi)return new Fd(e._firestore,r,i.key,i,n._converter);throw kr()}))},t.prototype.set=function(t,e,n){var r=uf(t,this._firestore),i=of(r._converter,e,n),o=yd(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=uf(t,this._firestore);return e instanceof zh&&(e=e._delegate),o="string"==typeof e||e instanceof sd?Sd(this._dataReader,"Transaction.update",s._key,e,n,r):Od(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=uf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function gf(){if("undefined"==typeof Uint8Array)throw new Wr(Qr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mf(){if("undefined"==typeof atob)throw new Wr(Qr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.fromBase64String=function(t){return mf(),new e(ad.fromBase64String(t))},e.fromUint8Array=function(t){return gf(),new e(ad.fromUint8Array(t))},e.prototype.toBase64=function(){return mf(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return gf(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(zh),vf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){od(t=Bh(t,ed));var n=nd(t),r=t._freezeSettings(),i=new hh;return id(n,i,new ch(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){od(t=Bh(t,ed));var e=nd(t),n=t._freezeSettings(),r=new hh;return id(e,r,new lh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Wr(Qr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ca;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Or.b)(this,void 0,void 0,(function(){return Object(Or.d)(this,(function(e){switch(e.label){case 0:return Sa.At()?[4,Sa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Fu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),_f=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Th||(i.sa=e),i}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Bh(t,Gh))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&xr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return[4,bh(t)];case 1:return e=r.sent(),[4,Ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rr(t);return e.Qr.delete(0),Vc(e)}(n))]}}))}))}))}(nd(Bh(this._delegate,ed)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e,n;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return[4,bh(t)];case 1:return e=r.sent(),[4,Ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Or.b)(this,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Qr.add(0),[4,Uc(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(nd(Bh(this._delegate,ed)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Mh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(e,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(r){switch(r.label){case 0:return e=Ul,[4,Eh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(nd(Bh(this._delegate,ed)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new dh(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Zr.add(e),e.next()},[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var e;return Object(Or.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Zr.delete(e)},[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(nd(t=Bh(t,ed)),td(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Wr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jf(this,$h(this._delegate,t))}catch(t){throw Sf(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Of(this,Yh(this._delegate,t))}catch(t){throw Sf(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xf(this,function(t,e){if(t=Bh(t,Gh),Ph("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wh(t,null,function(t){return new Hi($r.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Sf(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return _h(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new ph(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(nd(t),(function(n){return e(new pf(t,n))}))}(this._delegate,(function(n){return t(new wf(e,n))}))},e.prototype.batch=function(){var t=this;return nd(this._delegate),new Cf(new af(this._delegate,(function(e){return df(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new Wr(Qr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Wr(Qr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(zh),bf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Or.c)(e,t),e.prototype.convertBytes=function(t){return new yf(new ad(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Of.ia(e,this.firestore,null)},e}(rf),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new bf(e),r}return Object(Or.c)(e,t),e.prototype.get=function(t){var e=this,n=Rf(t);return this._delegate.get(n).then((function(t){return new Tf(e._firestore,new Ud(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var r=Rf(t);return n?(Fh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rf(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Or.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Rf(t);return this._delegate.delete(e),this},e}(zh),Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.set=function(t,e,n){var r=Rf(t);return n?(Fh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rf(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Or.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Rf(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(zh),Ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Or.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Bd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Af(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new bf(t),n),i.set(n,o)),o},e}(zh);Ef.oa=new WeakMap;var Of=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new bf(e),r}return Object(Or.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Wr(Qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Qh(n._delegate,r,new Jr(t)))},e.ia=function(t,n,r){return new e(n,new Qh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jf(this.firestore,$h(this._delegate,t))}catch(t){throw Sf(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof zh&&(t=t._delegate),t instanceof Qh&&Zh(this._delegate,t)},e.prototype.set=function(t,e){e=Fh("DocumentReference.set",e);try{return function(t,e,n){t=Bh(t,Qh);var r=Bh(t.firestore,ed),i=of(t._converter,e,n);return df(r,[yd(md(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ao.none())])}(this._delegate,t,e)}catch(t){throw Sf(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lf(this._delegate,t):lf.apply(void 0,Object(Or.f)([this._delegate,t,e],n))}catch(t){throw Sf(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return df(Bh((t=this._delegate).firestore,ed),[new zo(t._key,Ao.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=If(e),i=Df(e,(function(e){return new Tf(t.firestore,new Ud(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return hf(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bh(t,Qh);var e=Bh(t.firestore,ed),n=nd(e),r=new cf(e);return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i;return Object(Or.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof bi?n.resolve(i):i instanceof wi?n.resolve(null):n.reject(new Wr(Qr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,wh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Ud(e,r,t._key,n,new Vd(n instanceof bi&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bh(t,Qh);var e=Bh(t.firestore,ed);return Sh(nd(e),t._key,{source:"server"}).then((function(n){return ff(e,t,n)}))}(this._delegate):function(t){t=Bh(t,Qh);var e=Bh(t.firestore,ed);return Sh(nd(e),t._key).then((function(n){return ff(e,t,n)}))}(this._delegate)).then((function(t){return new Tf(e.firestore,new Ud(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ef.ra(this.firestore,t):null))},e}(zh);function Sf(t,e,n){return t.message=t.message.replace(e,n),t}function If(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!td(r))return r}return{}}function Df(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=td(t[0])?t[0]:td(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Tf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Of(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Gd(this._delegate,t._delegate)},e}(zh),Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Tf),xf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new bf(e),r}return Object(Or.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Wd(this._delegate,function(t,e,n){var r=e,i=Ld("where",t);return new Kd(i,r,n)}(t,n,r)))}catch(t){throw Sf(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Wd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ld("orderBy",t);return new $d(r,n)}(t,n)))}catch(t){throw Sf(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Wd(this._delegate,function(t){return qh("limit",t),new Yd("limit",t,"F")}(t)))}catch(t){throw Sf(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Wd(this._delegate,function(t){return qh("limitToLast",t),new Yd("limitToLast",t,"L")}(t)))}catch(t){throw Sf(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zd("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Sf(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zd("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Sf(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Sf(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Sf(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Jh(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Bh(t,Wh);var e=Bh(t.firestore,ed),n=nd(e),r=new cf(e);return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(Or.b)(n,void 0,void 0,(function(){var n;return Object(Or.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Or.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Or.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zu(t,e,!0)];case 1:return a=u.sent(),r=new Dl(e,a.jn),i=r.Io(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=hl(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,wh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new qd(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Bh(t,Wh);var e=Bh(t.firestore,ed),n=nd(e),r=new cf(e);return Ih(n,t._query,{source:"server"}).then((function(n){return new qd(e,r,t,n)}))}(this._delegate):function(t){t=Bh(t,Wh);var e=Bh(t.firestore,ed),n=nd(e),r=new cf(e);return zd(t._query),Ih(n,t._query).then((function(n){return new qd(e,r,t,n)}))}(this._delegate)).then((function(t){return new kf(e.firestore,new qd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=If(e),i=Df(e,(function(e){return new kf(t.firestore,new qd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return hf(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ef.ra(this.firestore,t):null))},e}(zh),Nf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Af(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(zh),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new xf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Af(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Nf(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Af(n._firestore,r))}))},e.prototype.isEqual=function(t){return Gd(this._delegate,t._delegate)},e}(zh),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Or.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Of(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Of(this.firestore,void 0===t?Yh(this._delegate):Yh(this._delegate,t))}catch(t){throw Sf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Bh(t.firestore,ed),r=Yh(t),i=of(t._converter,e);return df(n,[yd(md(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Ao.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Of(e.firestore,t)}))},e.prototype.isEqual=function(t){return Zh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ef.ra(this.firestore,t):null))},e}(xf);function Rf(t){return t instanceof zh&&(t=t._delegate),Bh(t,Qh)}var Pf,Ff=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(sd.bind.apply(sd,Object(Or.f)([void 0],e))))||this}return Object(Or.c)(e,t),e.documentId=function(){return new e(Zr.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof zh&&(t=t._delegate),t instanceof sd&&this._delegate._internalPath.isEqual(t._internalPath)},e}(zh),Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Or.c)(e,t),e.serverTimestamp=function(){var t=new bd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new vd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wd("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cd("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ed("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(zh),Lf=n("/6Yf"),Vf={Firestore:_f,GeoPoint:cd,Timestamp:ii,Blob:yf,Transaction:wf,WriteBatch:Cf,DocumentReference:Of,DocumentSnapshot:Tf,Query:xf,QueryDocumentSnapshot:Af,QuerySnapshot:kf,CollectionReference:jf,FieldPath:Ff,FieldValue:Mf,setLogLevel:function(t){Ir.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Lf.a("firestore",(function(t){return function(t,e){return new _f(t,new ed(t,e),new vf)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Vf)))})(Pf=w.a),Pf.registerVersion("@firebase/firestore","2.2.1");var Uf=n("VRCc");function Bf(t,e){return function(t,e=i.a){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function qf(t,e){return Bf(t,e).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}function Hf(t,e){return Bf(t,e).pipe(Object(f.a)(t=>({payload:t,type:"query"})))}function Gf(t,e){return Hf(t,e).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function zf(t,e,n){return Gf(t,n).pipe(Object(p.a)((t,n)=>Qf(t,n.map(t=>t.payload),e),[]),Object(g.a)(),Object(f.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Qf(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=Kf(t,e))}),t}function Wf(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Kf(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wf(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Wf(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wf(t,e.oldIndex,1)}return t}function $f(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n.d(e,"AngularFirestore",(function(){return ip})),n.d(e,"AngularFirestoreCollection",(function(){return Yf})),n.d(e,"AngularFirestoreCollectionGroup",(function(){return Jf})),n.d(e,"AngularFirestoreDocument",(function(){return Zf})),n.d(e,"AngularFirestoreModule",(function(){return op})),n.d(e,"ENABLE_PERSISTENCE",(function(){return Xf})),n.d(e,"PERSISTENCE_SETTINGS",(function(){return tp})),n.d(e,"SETTINGS",(function(){return ep})),n.d(e,"USE_EMULATOR",(function(){return np})),n.d(e,"associateQuery",(function(){return rp})),n.d(e,"combineChange",(function(){return Kf})),n.d(e,"combineChanges",(function(){return Qf})),n.d(e,"docChanges",(function(){return Gf})),n.d(e,"fromCollectionRef",(function(){return Hf})),n.d(e,"fromDocRef",(function(){return qf})),n.d(e,"fromRef",(function(){return Bf})),n.d(e,"sortedChanges",(function(){return zf})),n.d(e,"validateEventsArray",(function(){return $f}));class Yf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Gf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(u.a)(void 0),l(),Object(m.a)(([t,e])=>e.length>0||!t),Object(f.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$f(t);return zf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Zf(this.ref.doc(t),this.afs)}}class Zf{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rp(n,e);return new Yf(r,i,this.afs)}snapshotChanges(){return qf(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(f.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(s.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class Jf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Gf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$f(t);return zf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const Xf=new r.InjectionToken("angularfire2.enableFirestorePersistence"),tp=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),ep=new r.InjectionToken("angularfire2.firestore.settings"),np=new r.InjectionToken("angularfire2.firestore.use-emulator");function rp(t,e=(t=>t)){return{query:e(t),ref:t}}let ip=(()=>{class t{constructor(t,e,n,r,i,o,u,c,l){this.schedulers=new v["ɵAngularFireSchedulers"](o),this.keepUnstableUntilFirst=Object(v["ɵkeepUnstableUntilFirstFactory"])(this.schedulers);const h=Object(v["ɵfirebaseAppFactory"])(t,o,e);!b.a.auth&&l&&Object(v["ɵlogAuthEmulatorError"])();const d=c;[this.firestore,this.persistenceEnabled$]=Object(v["ɵfetchInstance"])(h.name+".firestore","AngularFirestore",h,()=>{const t=o.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),d&&t.useEmulator(...d),n&&!Object(_.isPlatformServer)(i)){const e=()=>{try{return Object(s.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Pf){return"undefined"!=typeof console&&console.warn(Pf),Object(a.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rp(n,e),o=this.schedulers.ngZone.run(()=>r);return new Yf(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Jf(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Zf(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.ɵprov=Object(r["ɵɵdefineInjectable"])({factory:function(){return new t(Object(r["ɵɵinject"])(v.FIREBASE_OPTIONS),Object(r["ɵɵinject"])(v.FIREBASE_APP_NAME,8),Object(r["ɵɵinject"])(Xf,8),Object(r["ɵɵinject"])(ep,8),Object(r["ɵɵinject"])(r.PLATFORM_ID),Object(r["ɵɵinject"])(r.NgZone),Object(r["ɵɵinject"])(tp,8),Object(r["ɵɵinject"])(np,8),Object(r["ɵɵinject"])(Uf.USE_EMULATOR,8))},token:t,providedIn:"any"}),t})();class op{static enablePersistence(t){return{ngModule:op,providers:[{provide:Xf,useValue:!0},{provide:tp,useValue:t}]}}}},wop4:function(t,e,n){var r,i;r=[n,e,n("8Y7J")],void 0===(i=(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(){this.usuarioVigente="alguien"}}r.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),e.UsuariosService=r}).apply(e,r))||(t.exports=i)},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},"y+yP":function(t,e,n){var r;void 0===(r=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styles=[""]}).apply(e,[n,e]))||(t.exports=r)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yvrC:function(t,e,n){var r,i;r=[n,e,n("lwNt"),n("8Y7J"),n("iInd"),n("SVse"),n("Sy1n")],void 0===(i=(function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r.ɵcrt({encapsulation:0,styles:[n.styles],data:{}});function u(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,33,"div",[],null,null,null,null,null)),(t()(),r.ɵeld(1,0,null,null,27,"nav",[["class","navbar navbar-expand navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r.ɵeld(2,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),r.ɵted(-1,null,["AngularFire2021"])),(t()(),r.ɵeld(4,0,null,null,24,"div",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.ɵeld(5,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(6,0,null,null,2,"a",[["class","nav-link"],["routerLink","charla"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(7,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["chat"])),(t()(),r.ɵeld(9,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(10,0,null,null,2,"a",[["class","nav-link"],["routerLink","listado"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(11,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["listado"])),(t()(),r.ɵeld(13,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(14,0,null,null,2,"a",[["class","nav-link"],["routerLink","usuario"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(15,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["Usuario"])),(t()(),r.ɵeld(17,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(18,0,null,null,2,"a",[["class","nav-link"],["routerLink","login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(19,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["Login"])),(t()(),r.ɵeld(21,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(22,0,null,null,2,"a",[["class","nav-link"],["routerLink","home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,23).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(23,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["Home"])),(t()(),r.ɵeld(25,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.ɵeld(26,0,null,null,2,"a",[["class","nav-link"],["routerLink","quien-soy"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.ɵnov(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ɵdid(27,671744,null,0,i.RouterLinkWithHref,[i.Router,i.ActivatedRoute,o.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r.ɵted(-1,null,["Quien soy?"])),(t()(),r.ɵeld(29,0,null,null,4,"div",[["class","container mt-3"]],null,null,null,null,null)),(t()(),r.ɵeld(30,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.ɵted(31,null,["",""])),(t()(),r.ɵeld(32,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ɵdid(33,212992,null,0,i.RouterOutlet,[i.ChildrenOutletContexts,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],(function(t,e){t(e,7,0,"charla"),t(e,11,0,"listado"),t(e,15,0,"usuario"),t(e,19,0,"login"),t(e,23,0,"home"),t(e,27,0,"quien-soy"),t(e,33,0)}),(function(t,e){var n=e.component;t(e,6,0,r.ɵnov(e,7).target,r.ɵnov(e,7).href),t(e,10,0,r.ɵnov(e,11).target,r.ɵnov(e,11).href),t(e,14,0,r.ɵnov(e,15).target,r.ɵnov(e,15).href),t(e,18,0,r.ɵnov(e,19).target,r.ɵnov(e,19).href),t(e,22,0,r.ɵnov(e,23).target,r.ɵnov(e,23).href),t(e,26,0,r.ɵnov(e,27).target,r.ɵnov(e,27).href),t(e,31,0,n.title)}))}function c(t){return r.ɵvid(0,[(t()(),r.ɵeld(0,0,null,null,1,"app-root",[],null,null,null,u,a)),r.ɵdid(1,49152,null,0,s.AppComponent,[],null,null)],null,null)}e.RenderType_AppComponent=a,e.View_AppComponent_0=u,e.View_AppComponent_Host_0=c;var l=r.ɵccf("app-root",s.AppComponent,c,{},{},[]);e.AppComponentNgFactory=l}).apply(e,r))||(t.exports=i)},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.j)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.h)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.h)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.k)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.k)(e,t)},createSubscribe:s.i,ErrorFactory:s.b,deepExtend:s.k}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.o)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.u)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){var r,i;r=[n,e,n("8Y7J"),n("AytR"),n("Ss9G"),n("cUpR")],void 0===(i=(function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.environment.production&&n.enableProdMode(),o.platformBrowser().bootstrapModuleFactory(i.AppModuleNgFactory).catch(t=>console.error(t))}).apply(e,r))||(t.exports=i)},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);